var tv=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var F=(t,e,n)=>(tv(t,e,"read from private field"),n?n.call(t):e.get(t)),de=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ie=(t,e,n,r)=>(tv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Kf=(t,e,n,r)=>({set _(i){ie(t,e,i,n)},get _(){return F(t,e,r)}}),Oe=(t,e,n)=>(tv(t,e,"access private method"),n);function gD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function NA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ad={},vD={get exports(){return ad},set exports(t){ad=t}},d0={},E={},yD={get exports(){return E},set exports(t){E=t}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=Symbol.for("react.element"),xD=Symbol.for("react.portal"),bD=Symbol.for("react.fragment"),wD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),ED=Symbol.for("react.provider"),TD=Symbol.for("react.context"),_D=Symbol.for("react.forward_ref"),CD=Symbol.for("react.suspense"),RD=Symbol.for("react.memo"),kD=Symbol.for("react.lazy"),wE=Symbol.iterator;function AD(t){return t===null||typeof t!="object"?null:(t=wE&&t[wE]||t["@@iterator"],typeof t=="function"?t:null)}var $A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BA=Object.assign,jA={};function $c(t,e,n){this.props=t,this.context=e,this.refs=jA,this.updater=n||$A}$c.prototype.isReactComponent={};$c.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function UA(){}UA.prototype=$c.prototype;function Fb(t,e,n){this.props=t,this.context=e,this.refs=jA,this.updater=n||$A}var $b=Fb.prototype=new UA;$b.constructor=Fb;BA($b,$c.prototype);$b.isPureReactComponent=!0;var SE=Array.isArray,zA=Object.prototype.hasOwnProperty,Bb={current:null},VA={key:!0,ref:!0,__self:!0,__source:!0};function KA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zA.call(e,r)&&!VA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pf,type:t,key:s,ref:o,props:i,_owner:Bb.current}}function LD(t,e){return{$$typeof:pf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jb(t){return typeof t=="object"&&t!==null&&t.$$typeof===pf}function PD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var EE=/\/+/g;function nv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PD(""+t.key):e.toString(36)}function Yh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pf:case xD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+nv(o,0):r,SE(i)?(n="",t!=null&&(n=t.replace(EE,"$&/")+"/"),Yh(i,e,n,"",function(c){return c})):i!=null&&(jb(i)&&(i=LD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(EE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",SE(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+nv(s,a);o+=Yh(s,e,n,l,i)}else if(l=AD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+nv(s,a++),o+=Yh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hf(t,e,n){if(t==null)return t;var r=[],i=0;return Yh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ID(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},Qh={transition:null},DD={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Qh,ReactCurrentOwner:Bb};Be.Children={map:Hf,forEach:function(t,e,n){Hf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hf(t,function(){e++}),e},toArray:function(t){return Hf(t,function(e){return e})||[]},only:function(t){if(!jb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=$c;Be.Fragment=bD;Be.Profiler=SD;Be.PureComponent=Fb;Be.StrictMode=wD;Be.Suspense=CD;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zA.call(e,l)&&!VA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:pf,type:t.type,key:i,ref:s,props:r,_owner:o}};Be.createContext=function(t){return t={$$typeof:TD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ED,_context:t},t.Consumer=t};Be.createElement=KA;Be.createFactory=function(t){var e=KA.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:_D,render:t}};Be.isValidElement=jb;Be.lazy=function(t){return{$$typeof:kD,_payload:{_status:-1,_result:t},_init:ID}};Be.memo=function(t,e){return{$$typeof:RD,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Qh.transition;Qh.transition={};try{t()}finally{Qh.transition=e}};Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Be.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Be.useContext=function(t){return Hn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Be.useId=function(){return Hn.current.useId()};Be.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Be.useRef=function(t){return Hn.current.useRef(t)};Be.useState=function(t){return Hn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return Hn.current.useTransition()};Be.version="18.2.0";(function(t){t.exports=Be})(yD);const Te=NA(E),vo=gD({__proto__:null,default:Te},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD=E,MD=Symbol.for("react.element"),ND=Symbol.for("react.fragment"),FD=Object.prototype.hasOwnProperty,$D=OD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BD={key:!0,ref:!0,__self:!0,__source:!0};function HA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FD.call(e,r)&&!BD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MD,type:t,key:s,ref:o,props:i,_owner:$D.current}}d0.Fragment=ND;d0.jsx=HA;d0.jsxs=HA;(function(t){t.exports=d0})(vD);const Oi=ad.Fragment,g=ad.jsx,L=ad.jsxs,jD=Object.freeze(Object.defineProperty({__proto__:null,Fragment:Oi,jsx:g,jsxs:L},Symbol.toStringTag,{value:"Module"}));var Gy={},li={},UD={get exports(){return li},set exports(t){li=t}},kr={},Wy={},zD={get exports(){return Wy},set exports(t){Wy=t}},GA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var B=U.length;U.push(j);e:for(;0<B;){var H=B-1>>>1,q=U[H];if(0<i(q,j))U[H]=j,U[B]=q,B=H;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],B=U.pop();if(B!==j){U[0]=B;e:for(var H=0,q=U.length,ne=q>>>1;H<ne;){var te=2*(H+1)-1,he=U[te],Z=te+1,ve=U[Z];if(0>i(he,B))Z<q&&0>i(ve,he)?(U[H]=ve,U[Z]=B,H=Z):(U[H]=he,U[te]=B,H=te);else if(Z<q&&0>i(ve,B))U[H]=ve,U[Z]=B,H=Z;else break e}}return j}function i(U,j){var B=U.sortIndex-j.sortIndex;return B!==0?B:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,h=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=U)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function S(U){if(m=!1,b(U),!h)if(n(l)!==null)h=!0,$(w);else{var j=n(c);j!==null&&W(S,j.startTime-U)}}function w(U,j){h=!1,m&&(m=!1,y(C),C=-1),p=!0;var B=f;try{for(b(j),d=n(l);d!==null&&(!(d.expirationTime>j)||U&&!I());){var H=d.callback;if(typeof H=="function"){d.callback=null,f=d.priorityLevel;var q=H(d.expirationTime<=j);j=t.unstable_now(),typeof q=="function"?d.callback=q:d===n(l)&&r(l),b(j)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var te=n(c);te!==null&&W(S,te.startTime-j),ne=!1}return ne}finally{d=null,f=B,p=!1}}var _=!1,T=null,C=-1,k=5,A=-1;function I(){return!(t.unstable_now()-A<k)}function N(){if(T!==null){var U=t.unstable_now();A=U;var j=!0;try{j=T(!0,U)}finally{j?M():(_=!1,T=null)}}else _=!1}var M;if(typeof x=="function")M=function(){x(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,O=D.port2;D.port1.onmessage=N,M=function(){O.postMessage(null)}}else M=function(){v(N,0)};function $(U){T=U,_||(_=!0,M())}function W(U,j){C=v(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,$(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var B=f;f=j;try{return U()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var B=f;f=U;try{return j()}finally{f=B}},t.unstable_scheduleCallback=function(U,j,B){var H=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?H+B:H):B=H,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,U={id:u++,callback:j,priorityLevel:U,startTime:B,expirationTime:q,sortIndex:-1},B>H?(U.sortIndex=B,e(c,U),n(l)===null&&U===n(c)&&(m?(y(C),C=-1):m=!0,W(S,B-H))):(U.sortIndex=q,e(l,U),h||p||(h=!0,$(w))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var j=f;return function(){var B=f;f=j;try{return U.apply(this,arguments)}finally{f=B}}}})(GA);(function(t){t.exports=GA})(zD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA=E,Sr=Wy;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qA=new Set,ld={};function Wa(t,e){vc(t,e),vc(t+"Capture",e)}function vc(t,e){for(ld[t]=e,t=0;t<e.length;t++)qA.add(e[t])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=Object.prototype.hasOwnProperty,VD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TE={},_E={};function KD(t){return qy.call(_E,t)?!0:qy.call(TE,t)?!1:VD.test(t)?_E[t]=!0:(TE[t]=!0,!1)}function HD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GD(t,e,n,r){if(e===null||typeof e>"u"||HD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){An[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];An[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){An[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){An[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){An[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){An[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){An[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){An[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){An[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ub=/[\-:]([a-z])/g;function zb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ub,zb);An[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ub,zb);An[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ub,zb);An[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){An[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});An.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){An[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vb(t,e,n,r){var i=An.hasOwnProperty(e)?An[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GD(e,n,i,r)&&(n=null),r||i===null?KD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ss=WA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),Sl=Symbol.for("react.portal"),El=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),QA=Symbol.for("react.context"),Hb=Symbol.for("react.forward_ref"),Qy=Symbol.for("react.suspense"),Xy=Symbol.for("react.suspense_list"),Gb=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),XA=Symbol.for("react.offscreen"),CE=Symbol.iterator;function tu(t){return t===null||typeof t!="object"?null:(t=CE&&t[CE]||t["@@iterator"],typeof t=="function"?t:null)}var Mt=Object.assign,rv;function _u(t){if(rv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rv=e&&e[1]||""}return`
`+rv+t}var iv=!1;function sv(t,e){if(!t||iv)return"";iv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{iv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_u(t):""}function WD(t){switch(t.tag){case 5:return _u(t.type);case 16:return _u("Lazy");case 13:return _u("Suspense");case 19:return _u("SuspenseList");case 0:case 2:case 15:return t=sv(t.type,!1),t;case 11:return t=sv(t.type.render,!1),t;case 1:return t=sv(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case El:return"Fragment";case Sl:return"Portal";case Yy:return"Profiler";case Kb:return"StrictMode";case Qy:return"Suspense";case Xy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QA:return(t.displayName||"Context")+".Consumer";case YA:return(t._context.displayName||"Context")+".Provider";case Hb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gb:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case $s:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function qD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YD(t){var e=JA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wf(t){t._valueTracker||(t._valueTracker=YD(t))}function ZA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $p(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zy(t,e){var n=e.checked;return Mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e5(t,e){e=e.checked,e!=null&&Vb(t,"checked",e,!1)}function e1(t,e){e5(t,e);var n=yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?t1(t,e.type,n):e.hasOwnProperty("defaultValue")&&t1(t,e.type,yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function t1(t,e,n){(e!=="number"||$p(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cu=Array.isArray;function Ul(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function n1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(Cu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yo(n)}}function t5(t,e){var n=yo(e.value),r=yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function LE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function r1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qf,r5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qf=qf||document.createElement("div"),qf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QD=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){QD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function i5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function s5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=i5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XD=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i1(t,e){if(e){if(XD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function s1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=null;function Wb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var a1=null,zl=null,Vl=null;function PE(t){if(t=vf(t)){if(typeof a1!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=g0(e),a1(t.stateNode,t.type,e))}}function o5(t){zl?Vl?Vl.push(t):Vl=[t]:zl=t}function a5(){if(zl){var t=zl,e=Vl;if(Vl=zl=null,PE(t),e)for(t=0;t<e.length;t++)PE(e[t])}}function l5(t,e){return t(e)}function c5(){}var ov=!1;function u5(t,e,n){if(ov)return t(e,n);ov=!0;try{return l5(t,e,n)}finally{ov=!1,(zl!==null||Vl!==null)&&(c5(),a5())}}function ud(t,e){var n=t.stateNode;if(n===null)return null;var r=g0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var l1=!1;if(gs)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){l1=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{l1=!1}function JD(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Fu=!1,Bp=null,jp=!1,c1=null,ZD={onError:function(t){Fu=!0,Bp=t}};function eO(t,e,n,r,i,s,o,a,l){Fu=!1,Bp=null,JD.apply(ZD,arguments)}function tO(t,e,n,r,i,s,o,a,l){if(eO.apply(this,arguments),Fu){if(Fu){var c=Bp;Fu=!1,Bp=null}else throw Error(ee(198));jp||(jp=!0,c1=c)}}function qa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IE(t){if(qa(t)!==t)throw Error(ee(188))}function nO(t){var e=t.alternate;if(!e){if(e=qa(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return IE(i),t;if(s===r)return IE(i),e;s=s.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function f5(t){return t=nO(t),t!==null?h5(t):null}function h5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=h5(t);if(e!==null)return e;t=t.sibling}return null}var p5=Sr.unstable_scheduleCallback,DE=Sr.unstable_cancelCallback,rO=Sr.unstable_shouldYield,iO=Sr.unstable_requestPaint,Vt=Sr.unstable_now,sO=Sr.unstable_getCurrentPriorityLevel,qb=Sr.unstable_ImmediatePriority,m5=Sr.unstable_UserBlockingPriority,Up=Sr.unstable_NormalPriority,oO=Sr.unstable_LowPriority,g5=Sr.unstable_IdlePriority,f0=null,Bi=null;function aO(t){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(f0,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:uO,lO=Math.log,cO=Math.LN2;function uO(t){return t>>>=0,t===0?32:31-(lO(t)/cO|0)|0}var Yf=64,Qf=4194304;function Ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ru(a):(s&=o,s!==0&&(r=Ru(s)))}else o=n&~i,o!==0?r=Ru(o):s!==0&&(r=Ru(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ui(e),i=1<<n,r|=t[n],e&=~i;return r}function dO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ui(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=dO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function u1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v5(){var t=Yf;return Yf<<=1,!(Yf&4194240)&&(Yf=64),t}function av(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=n}function hO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ui(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ui(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dt=0;function y5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x5,Qb,b5,w5,S5,d1=!1,Xf=[],io=null,so=null,oo=null,dd=new Map,fd=new Map,zs=[],pO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OE(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":dd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function ru(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vf(e),e!==null&&Qb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mO(t,e,n,r,i){switch(e){case"focusin":return io=ru(io,t,e,n,r,i),!0;case"dragenter":return so=ru(so,t,e,n,r,i),!0;case"mouseover":return oo=ru(oo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return dd.set(s,ru(dd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fd.set(s,ru(fd.get(s)||null,t,e,n,r,i)),!0}return!1}function E5(t){var e=ra(t.target);if(e!==null){var n=qa(e);if(n!==null){if(e=n.tag,e===13){if(e=d5(n),e!==null){t.blockedOn=e,S5(t.priority,function(){b5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=f1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);o1=r,n.target.dispatchEvent(r),o1=null}else return e=vf(n),e!==null&&Qb(e),t.blockedOn=n,!1;e.shift()}return!0}function ME(t,e,n){Xh(t)&&n.delete(e)}function gO(){d1=!1,io!==null&&Xh(io)&&(io=null),so!==null&&Xh(so)&&(so=null),oo!==null&&Xh(oo)&&(oo=null),dd.forEach(ME),fd.forEach(ME)}function iu(t,e){t.blockedOn===e&&(t.blockedOn=null,d1||(d1=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,gO)))}function hd(t){function e(i){return iu(i,t)}if(0<Xf.length){iu(Xf[0],t);for(var n=1;n<Xf.length;n++){var r=Xf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(io!==null&&iu(io,t),so!==null&&iu(so,t),oo!==null&&iu(oo,t),dd.forEach(e),fd.forEach(e),n=0;n<zs.length;n++)r=zs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zs.length&&(n=zs[0],n.blockedOn===null);)E5(n),n.blockedOn===null&&zs.shift()}var Kl=Ss.ReactCurrentBatchConfig,Vp=!0;function vO(t,e,n,r){var i=dt,s=Kl.transition;Kl.transition=null;try{dt=1,Xb(t,e,n,r)}finally{dt=i,Kl.transition=s}}function yO(t,e,n,r){var i=dt,s=Kl.transition;Kl.transition=null;try{dt=4,Xb(t,e,n,r)}finally{dt=i,Kl.transition=s}}function Xb(t,e,n,r){if(Vp){var i=f1(t,e,n,r);if(i===null)vv(t,e,r,Kp,n),OE(t,r);else if(mO(i,t,e,n,r))r.stopPropagation();else if(OE(t,r),e&4&&-1<pO.indexOf(t)){for(;i!==null;){var s=vf(i);if(s!==null&&x5(s),s=f1(t,e,n,r),s===null&&vv(t,e,r,Kp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vv(t,e,r,null,n)}}var Kp=null;function f1(t,e,n,r){if(Kp=null,t=Wb(r),t=ra(t),t!==null)if(e=qa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=d5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kp=t,null}function T5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sO()){case qb:return 1;case m5:return 4;case Up:case oO:return 16;case g5:return 536870912;default:return 16}default:return 16}}var eo=null,Jb=null,Jh=null;function _5(){if(Jh)return Jh;var t,e=Jb,n=e.length,r,i="value"in eo?eo.value:eo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jh=i.slice(t,1<r?1-r:void 0)}function Zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jf(){return!0}function NE(){return!1}function Ar(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jf:NE,this.isPropagationStopped=NE,this}return Mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),e}var Bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zb=Ar(Bc),gf=Mt({},Bc,{view:0,detail:0}),xO=Ar(gf),lv,cv,su,h0=Mt({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==su&&(su&&t.type==="mousemove"?(lv=t.screenX-su.screenX,cv=t.screenY-su.screenY):cv=lv=0,su=t),lv)},movementY:function(t){return"movementY"in t?t.movementY:cv}}),FE=Ar(h0),bO=Mt({},h0,{dataTransfer:0}),wO=Ar(bO),SO=Mt({},gf,{relatedTarget:0}),uv=Ar(SO),EO=Mt({},Bc,{animationName:0,elapsedTime:0,pseudoElement:0}),TO=Ar(EO),_O=Mt({},Bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CO=Ar(_O),RO=Mt({},Bc,{data:0}),$E=Ar(RO),kO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LO[t])?!!e[t]:!1}function e2(){return PO}var IO=Mt({},gf,{key:function(t){if(t.key){var e=kO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e2,charCode:function(t){return t.type==="keypress"?Zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DO=Ar(IO),OO=Mt({},h0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BE=Ar(OO),MO=Mt({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e2}),NO=Ar(MO),FO=Mt({},Bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$O=Ar(FO),BO=Mt({},h0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jO=Ar(BO),UO=[9,13,27,32],t2=gs&&"CompositionEvent"in window,$u=null;gs&&"documentMode"in document&&($u=document.documentMode);var zO=gs&&"TextEvent"in window&&!$u,C5=gs&&(!t2||$u&&8<$u&&11>=$u),jE=String.fromCharCode(32),UE=!1;function R5(t,e){switch(t){case"keyup":return UO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tl=!1;function VO(t,e){switch(t){case"compositionend":return k5(e);case"keypress":return e.which!==32?null:(UE=!0,jE);case"textInput":return t=e.data,t===jE&&UE?null:t;default:return null}}function KO(t,e){if(Tl)return t==="compositionend"||!t2&&R5(t,e)?(t=_5(),Jh=Jb=eo=null,Tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C5&&e.locale!=="ko"?null:e.data;default:return null}}var HO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HO[t.type]:e==="textarea"}function A5(t,e,n,r){o5(r),e=Hp(e,"onChange"),0<e.length&&(n=new Zb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bu=null,pd=null;function GO(t){j5(t,0)}function p0(t){var e=Rl(t);if(ZA(e))return t}function WO(t,e){if(t==="change")return e}var L5=!1;if(gs){var dv;if(gs){var fv="oninput"in document;if(!fv){var VE=document.createElement("div");VE.setAttribute("oninput","return;"),fv=typeof VE.oninput=="function"}dv=fv}else dv=!1;L5=dv&&(!document.documentMode||9<document.documentMode)}function KE(){Bu&&(Bu.detachEvent("onpropertychange",P5),pd=Bu=null)}function P5(t){if(t.propertyName==="value"&&p0(pd)){var e=[];A5(e,pd,t,Wb(t)),u5(GO,e)}}function qO(t,e,n){t==="focusin"?(KE(),Bu=e,pd=n,Bu.attachEvent("onpropertychange",P5)):t==="focusout"&&KE()}function YO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return p0(pd)}function QO(t,e){if(t==="click")return p0(e)}function XO(t,e){if(t==="input"||t==="change")return p0(e)}function JO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:JO;function md(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qy.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function HE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GE(t,e){var n=HE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HE(n)}}function I5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?I5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D5(){for(var t=window,e=$p();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$p(t.document)}return e}function n2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZO(t){var e=D5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&I5(n.ownerDocument.documentElement,n)){if(r!==null&&n2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=GE(n,s);var o=GE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eM=gs&&"documentMode"in document&&11>=document.documentMode,_l=null,h1=null,ju=null,p1=!1;function WE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p1||_l==null||_l!==$p(r)||(r=_l,"selectionStart"in r&&n2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ju&&md(ju,r)||(ju=r,r=Hp(h1,"onSelect"),0<r.length&&(e=new Zb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_l)))}function Zf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cl={animationend:Zf("Animation","AnimationEnd"),animationiteration:Zf("Animation","AnimationIteration"),animationstart:Zf("Animation","AnimationStart"),transitionend:Zf("Transition","TransitionEnd")},hv={},O5={};gs&&(O5=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function m0(t){if(hv[t])return hv[t];if(!Cl[t])return t;var e=Cl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in O5)return hv[t]=e[n];return t}var M5=m0("animationend"),N5=m0("animationiteration"),F5=m0("animationstart"),$5=m0("transitionend"),B5=new Map,qE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Io(t,e){B5.set(t,e),Wa(e,[t])}for(var pv=0;pv<qE.length;pv++){var mv=qE[pv],tM=mv.toLowerCase(),nM=mv[0].toUpperCase()+mv.slice(1);Io(tM,"on"+nM)}Io(M5,"onAnimationEnd");Io(N5,"onAnimationIteration");Io(F5,"onAnimationStart");Io("dblclick","onDoubleClick");Io("focusin","onFocus");Io("focusout","onBlur");Io($5,"onTransitionEnd");vc("onMouseEnter",["mouseout","mouseover"]);vc("onMouseLeave",["mouseout","mouseover"]);vc("onPointerEnter",["pointerout","pointerover"]);vc("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function YE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tO(r,e,void 0,t),t.currentTarget=null}function j5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;YE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;YE(i,a,c),s=l}}}if(jp)throw t=c1,jp=!1,c1=null,t}function Et(t,e){var n=e[x1];n===void 0&&(n=e[x1]=new Set);var r=t+"__bubble";n.has(r)||(U5(e,t,2,!1),n.add(r))}function gv(t,e,n){var r=0;e&&(r|=4),U5(n,t,r,e)}var eh="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[eh]){t[eh]=!0,qA.forEach(function(n){n!=="selectionchange"&&(rM.has(n)||gv(n,!1,t),gv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eh]||(e[eh]=!0,gv("selectionchange",!1,e))}}function U5(t,e,n,r){switch(T5(e)){case 1:var i=vO;break;case 4:i=yO;break;default:i=Xb}n=i.bind(null,e,n,t),i=void 0,!l1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ra(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}u5(function(){var c=s,u=Wb(n),d=[];e:{var f=B5.get(t);if(f!==void 0){var p=Zb,h=t;switch(t){case"keypress":if(Zh(n)===0)break e;case"keydown":case"keyup":p=DO;break;case"focusin":h="focus",p=uv;break;case"focusout":h="blur",p=uv;break;case"beforeblur":case"afterblur":p=uv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NO;break;case M5:case N5:case F5:p=TO;break;case $5:p=$O;break;case"scroll":p=xO;break;case"wheel":p=jO;break;case"copy":case"cut":case"paste":p=CO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=BE}var m=(e&4)!==0,v=!m&&t==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var x=c,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,y!==null&&(S=ud(x,y),S!=null&&m.push(vd(x,S,b)))),v)break;x=x.return}0<m.length&&(f=new p(f,h,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==o1&&(h=n.relatedTarget||n.fromElement)&&(ra(h)||h[vs]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=c,h=h?ra(h):null,h!==null&&(v=qa(h),h!==v||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=c),p!==h)){if(m=FE,S="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(m=BE,S="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?f:Rl(p),b=h==null?f:Rl(h),f=new m(S,x+"leave",p,n,u),f.target=v,f.relatedTarget=b,S=null,ra(u)===c&&(m=new m(y,x+"enter",h,n,u),m.target=b,m.relatedTarget=v,S=m),v=S,p&&h)t:{for(m=p,y=h,x=0,b=m;b;b=rl(b))x++;for(b=0,S=y;S;S=rl(S))b++;for(;0<x-b;)m=rl(m),x--;for(;0<b-x;)y=rl(y),b--;for(;x--;){if(m===y||y!==null&&m===y.alternate)break t;m=rl(m),y=rl(y)}m=null}else m=null;p!==null&&QE(d,f,p,m,!1),h!==null&&v!==null&&QE(d,v,h,m,!0)}}e:{if(f=c?Rl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=WO;else if(zE(f))if(L5)w=XO;else{w=YO;var _=qO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=QO);if(w&&(w=w(t,c))){A5(d,w,n,u);break e}_&&_(t,f,c),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&t1(f,"number",f.value)}switch(_=c?Rl(c):window,t){case"focusin":(zE(_)||_.contentEditable==="true")&&(_l=_,h1=c,ju=null);break;case"focusout":ju=h1=_l=null;break;case"mousedown":p1=!0;break;case"contextmenu":case"mouseup":case"dragend":p1=!1,WE(d,n,u);break;case"selectionchange":if(eM)break;case"keydown":case"keyup":WE(d,n,u)}var T;if(t2)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tl?R5(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(C5&&n.locale!=="ko"&&(Tl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tl&&(T=_5()):(eo=u,Jb="value"in eo?eo.value:eo.textContent,Tl=!0)),_=Hp(c,C),0<_.length&&(C=new $E(C,t,null,n,u),d.push({event:C,listeners:_}),T?C.data=T:(T=k5(n),T!==null&&(C.data=T)))),(T=zO?VO(t,n):KO(t,n))&&(c=Hp(c,"onBeforeInput"),0<c.length&&(u=new $E("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=T))}j5(d,e)})}function vd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ud(t,n),s!=null&&r.unshift(vd(t,s,i)),s=ud(t,e),s!=null&&r.push(vd(t,s,i))),t=t.return}return r}function rl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ud(n,s),l!=null&&o.unshift(vd(n,l,a))):i||(l=ud(n,s),l!=null&&o.push(vd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function XE(t){return(typeof t=="string"?t:""+t).replace(iM,`
`).replace(sM,"")}function th(t,e,n){if(e=XE(e),XE(t)!==e&&n)throw Error(ee(425))}function Gp(){}var m1=null,g1=null;function v1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var y1=typeof setTimeout=="function"?setTimeout:void 0,oM=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,aM=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(t){return JE.resolve(null).then(t).catch(lM)}:y1;function lM(t){setTimeout(function(){throw t})}function yv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hd(e)}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jc=Math.random().toString(36).slice(2),Pi="__reactFiber$"+jc,yd="__reactProps$"+jc,vs="__reactContainer$"+jc,x1="__reactEvents$"+jc,cM="__reactListeners$"+jc,uM="__reactHandles$"+jc;function ra(t){var e=t[Pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vs]||n[Pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZE(t);t!==null;){if(n=t[Pi])return n;t=ZE(t)}return e}t=n,n=t.parentNode}return null}function vf(t){return t=t[Pi]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function g0(t){return t[yd]||null}var b1=[],kl=-1;function Do(t){return{current:t}}function Tt(t){0>kl||(t.current=b1[kl],b1[kl]=null,kl--)}function xt(t,e){kl++,b1[kl]=t.current,t.current=e}var xo={},Fn=Do(xo),er=Do(!1),ka=xo;function yc(t,e){var n=t.type.contextTypes;if(!n)return xo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tr(t){return t=t.childContextTypes,t!=null}function Wp(){Tt(er),Tt(Fn)}function eT(t,e,n){if(Fn.current!==xo)throw Error(ee(168));xt(Fn,e),xt(er,n)}function z5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,qD(t)||"Unknown",i));return Mt({},n,r)}function qp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,ka=Fn.current,xt(Fn,t),xt(er,er.current),!0}function tT(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=z5(t,e,ka),r.__reactInternalMemoizedMergedChildContext=t,Tt(er),Tt(Fn),xt(Fn,t)):Tt(er),xt(er,n)}var ss=null,v0=!1,xv=!1;function V5(t){ss===null?ss=[t]:ss.push(t)}function dM(t){v0=!0,V5(t)}function Oo(){if(!xv&&ss!==null){xv=!0;var t=0,e=dt;try{var n=ss;for(dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ss=null,v0=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),p5(qb,Oo),i}finally{dt=e,xv=!1}}return null}var Al=[],Ll=0,Yp=null,Qp=0,Ur=[],zr=0,Aa=null,ls=1,cs="";function Ko(t,e){Al[Ll++]=Qp,Al[Ll++]=Yp,Yp=t,Qp=e}function K5(t,e,n){Ur[zr++]=ls,Ur[zr++]=cs,Ur[zr++]=Aa,Aa=t;var r=ls;t=cs;var i=32-ui(r)-1;r&=~(1<<i),n+=1;var s=32-ui(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ls=1<<32-ui(e)+i|n<<i|r,cs=s+t}else ls=1<<s|n<<i|r,cs=t}function r2(t){t.return!==null&&(Ko(t,1),K5(t,1,0))}function i2(t){for(;t===Yp;)Yp=Al[--Ll],Al[Ll]=null,Qp=Al[--Ll],Al[Ll]=null;for(;t===Aa;)Aa=Ur[--zr],Ur[zr]=null,cs=Ur[--zr],Ur[zr]=null,ls=Ur[--zr],Ur[zr]=null}var xr=null,mr=null,Rt=!1,si=null;function H5(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xr=t,mr=ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Aa!==null?{id:ls,overflow:cs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xr=t,mr=null,!0):!1;default:return!1}}function w1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S1(t){if(Rt){var e=mr;if(e){var n=e;if(!nT(t,e)){if(w1(t))throw Error(ee(418));e=ao(n.nextSibling);var r=xr;e&&nT(t,e)?H5(r,n):(t.flags=t.flags&-4097|2,Rt=!1,xr=t)}}else{if(w1(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Rt=!1,xr=t}}}function rT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xr=t}function nh(t){if(t!==xr)return!1;if(!Rt)return rT(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!v1(t.type,t.memoizedProps)),e&&(e=mr)){if(w1(t))throw G5(),Error(ee(418));for(;e;)H5(t,e),e=ao(e.nextSibling)}if(rT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=xr?ao(t.stateNode.nextSibling):null;return!0}function G5(){for(var t=mr;t;)t=ao(t.nextSibling)}function xc(){mr=xr=null,Rt=!1}function s2(t){si===null?si=[t]:si.push(t)}var fM=Ss.ReactCurrentBatchConfig;function ni(t,e){if(t&&t.defaultProps){e=Mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xp=Do(null),Jp=null,Pl=null,o2=null;function a2(){o2=Pl=Jp=null}function l2(t){var e=Xp.current;Tt(Xp),t._currentValue=e}function E1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hl(t,e){Jp=t,o2=Pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zn=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(o2!==t)if(t={context:t,memoizedValue:e,next:null},Pl===null){if(Jp===null)throw Error(ee(308));Pl=t,Jp.dependencies={lanes:0,firstContext:t}}else Pl=Pl.next=t;return e}var ia=null;function c2(t){ia===null?ia=[t]:ia.push(t)}function W5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,c2(e)):(n.next=i.next,i.next=n),e.interleaved=n,ys(t,r)}function ys(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bs=!1;function u2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ys(t,n)}return i=r.interleaved,i===null?(e.next=e,c2(r)):(e.next=i.next,i.next=e),r.interleaved=e,ys(t,n)}function ep(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yb(t,n)}}function iT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zp(t,e,n,r){var i=t.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,m=a;switch(f=e,p=n,m.tag){case 1:if(h=m.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=Mt({},d,f);break e;case 2:Bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pa|=o,t.lanes=o,t.memoizedState=d}}function sT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var Y5=new WA.Component().refs;function T1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var y0={isMounted:function(t){return(t=t._reactInternals)?qa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=uo(t),s=fs(r,i);s.payload=e,n!=null&&(s.callback=n),e=lo(t,s,i),e!==null&&(di(e,t,i,r),ep(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),i=uo(t),s=fs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=lo(t,s,i),e!==null&&(di(e,t,i,r),ep(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=uo(t),i=fs(n,r);i.tag=2,e!=null&&(i.callback=e),e=lo(t,i,r),e!==null&&(di(e,t,r,n),ep(e,t,r))}};function oT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!md(n,r)||!md(i,s):!0}function Q5(t,e,n){var r=!1,i=xo,s=e.contextType;return typeof s=="object"&&s!==null?s=Gr(s):(i=tr(e)?ka:Fn.current,r=e.contextTypes,s=(r=r!=null)?yc(t,i):xo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=y0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&y0.enqueueReplaceState(e,e.state,null)}function _1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Y5,u2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gr(s):(s=tr(e)?ka:Fn.current,i.context=yc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(T1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&y0.enqueueReplaceState(i,i.state,null),Zp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Y5&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lT(t){var e=t._init;return e(t._payload)}function X5(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=fo(y,x),y.index=0,y.sibling=null,y}function s(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,b,S){return x===null||x.tag!==6?(x=Cv(b,y.mode,S),x.return=y,x):(x=i(x,b),x.return=y,x)}function l(y,x,b,S){var w=b.type;return w===El?u(y,x,b.props.children,S,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$s&&lT(w)===x.type)?(S=i(x,b.props),S.ref=ou(y,x,b),S.return=y,S):(S=op(b.type,b.key,b.props,null,y.mode,S),S.ref=ou(y,x,b),S.return=y,S)}function c(y,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Rv(b,y.mode,S),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function u(y,x,b,S,w){return x===null||x.tag!==7?(x=Sa(b,y.mode,S,w),x.return=y,x):(x=i(x,b),x.return=y,x)}function d(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Cv(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gf:return b=op(x.type,x.key,x.props,null,y.mode,b),b.ref=ou(y,null,x),b.return=y,b;case Sl:return x=Rv(x,y.mode,b),x.return=y,x;case $s:var S=x._init;return d(y,S(x._payload),b)}if(Cu(x)||tu(x))return x=Sa(x,y.mode,b,null),x.return=y,x;rh(y,x)}return null}function f(y,x,b,S){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(y,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gf:return b.key===w?l(y,x,b,S):null;case Sl:return b.key===w?c(y,x,b,S):null;case $s:return w=b._init,f(y,x,w(b._payload),S)}if(Cu(b)||tu(b))return w!==null?null:u(y,x,b,S,null);rh(y,b)}return null}function p(y,x,b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(b)||null,a(x,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gf:return y=y.get(S.key===null?b:S.key)||null,l(x,y,S,w);case Sl:return y=y.get(S.key===null?b:S.key)||null,c(x,y,S,w);case $s:var _=S._init;return p(y,x,b,_(S._payload),w)}if(Cu(S)||tu(S))return y=y.get(b)||null,u(x,y,S,w,null);rh(x,S)}return null}function h(y,x,b,S){for(var w=null,_=null,T=x,C=x=0,k=null;T!==null&&C<b.length;C++){T.index>C?(k=T,T=null):k=T.sibling;var A=f(y,T,b[C],S);if(A===null){T===null&&(T=k);break}t&&T&&A.alternate===null&&e(y,T),x=s(A,x,C),_===null?w=A:_.sibling=A,_=A,T=k}if(C===b.length)return n(y,T),Rt&&Ko(y,C),w;if(T===null){for(;C<b.length;C++)T=d(y,b[C],S),T!==null&&(x=s(T,x,C),_===null?w=T:_.sibling=T,_=T);return Rt&&Ko(y,C),w}for(T=r(y,T);C<b.length;C++)k=p(T,y,C,b[C],S),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?C:k.key),x=s(k,x,C),_===null?w=k:_.sibling=k,_=k);return t&&T.forEach(function(I){return e(y,I)}),Rt&&Ko(y,C),w}function m(y,x,b,S){var w=tu(b);if(typeof w!="function")throw Error(ee(150));if(b=w.call(b),b==null)throw Error(ee(151));for(var _=w=null,T=x,C=x=0,k=null,A=b.next();T!==null&&!A.done;C++,A=b.next()){T.index>C?(k=T,T=null):k=T.sibling;var I=f(y,T,A.value,S);if(I===null){T===null&&(T=k);break}t&&T&&I.alternate===null&&e(y,T),x=s(I,x,C),_===null?w=I:_.sibling=I,_=I,T=k}if(A.done)return n(y,T),Rt&&Ko(y,C),w;if(T===null){for(;!A.done;C++,A=b.next())A=d(y,A.value,S),A!==null&&(x=s(A,x,C),_===null?w=A:_.sibling=A,_=A);return Rt&&Ko(y,C),w}for(T=r(y,T);!A.done;C++,A=b.next())A=p(T,y,C,A.value,S),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),x=s(A,x,C),_===null?w=A:_.sibling=A,_=A);return t&&T.forEach(function(N){return e(y,N)}),Rt&&Ko(y,C),w}function v(y,x,b,S){if(typeof b=="object"&&b!==null&&b.type===El&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Gf:e:{for(var w=b.key,_=x;_!==null;){if(_.key===w){if(w=b.type,w===El){if(_.tag===7){n(y,_.sibling),x=i(_,b.props.children),x.return=y,y=x;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$s&&lT(w)===_.type){n(y,_.sibling),x=i(_,b.props),x.ref=ou(y,_,b),x.return=y,y=x;break e}n(y,_);break}else e(y,_);_=_.sibling}b.type===El?(x=Sa(b.props.children,y.mode,S,b.key),x.return=y,y=x):(S=op(b.type,b.key,b.props,null,y.mode,S),S.ref=ou(y,x,b),S.return=y,y=S)}return o(y);case Sl:e:{for(_=b.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=Rv(b,y.mode,S),x.return=y,y=x}return o(y);case $s:return _=b._init,v(y,x,_(b._payload),S)}if(Cu(b))return h(y,x,b,S);if(tu(b))return m(y,x,b,S);rh(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,b),x.return=y,y=x):(n(y,x),x=Cv(b,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return v}var bc=X5(!0),J5=X5(!1),yf={},ji=Do(yf),xd=Do(yf),bd=Do(yf);function sa(t){if(t===yf)throw Error(ee(174));return t}function d2(t,e){switch(xt(bd,e),xt(xd,t),xt(ji,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:r1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=r1(e,t)}Tt(ji),xt(ji,e)}function wc(){Tt(ji),Tt(xd),Tt(bd)}function Z5(t){sa(bd.current);var e=sa(ji.current),n=r1(e,t.type);e!==n&&(xt(xd,t),xt(ji,n))}function f2(t){xd.current===t&&(Tt(ji),Tt(xd))}var Pt=Do(0);function em(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bv=[];function h2(){for(var t=0;t<bv.length;t++)bv[t]._workInProgressVersionPrimary=null;bv.length=0}var tp=Ss.ReactCurrentDispatcher,wv=Ss.ReactCurrentBatchConfig,La=0,Ot=null,rn=null,pn=null,tm=!1,Uu=!1,wd=0,hM=0;function Pn(){throw Error(ee(321))}function p2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fi(t[n],e[n]))return!1;return!0}function m2(t,e,n,r,i,s){if(La=s,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tp.current=t===null||t.memoizedState===null?vM:yM,t=n(r,i),Uu){s=0;do{if(Uu=!1,wd=0,25<=s)throw Error(ee(301));s+=1,pn=rn=null,e.updateQueue=null,tp.current=xM,t=n(r,i)}while(Uu)}if(tp.current=nm,e=rn!==null&&rn.next!==null,La=0,pn=rn=Ot=null,tm=!1,e)throw Error(ee(300));return t}function g2(){var t=wd!==0;return wd=0,t}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ot.memoizedState=pn=t:pn=pn.next=t,pn}function Wr(){if(rn===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=pn===null?Ot.memoizedState:pn.next;if(e!==null)pn=e,rn=t;else{if(t===null)throw Error(ee(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},pn===null?Ot.memoizedState=pn=t:pn=pn.next=t}return pn}function Sd(t,e){return typeof e=="function"?e(t):e}function Sv(t){var e=Wr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=rn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((La&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ot.lanes|=u,Pa|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,fi(r,e.memoizedState)||(Zn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ot.lanes|=s,Pa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ev(t){var e=Wr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fi(s,e.memoizedState)||(Zn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function e3(){}function t3(t,e){var n=Ot,r=Wr(),i=e(),s=!fi(r.memoizedState,i);if(s&&(r.memoizedState=i,Zn=!0),r=r.queue,v2(i3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pn!==null&&pn.memoizedState.tag&1){if(n.flags|=2048,Ed(9,r3.bind(null,n,r,i,e),void 0,null),yn===null)throw Error(ee(349));La&30||n3(n,e,i)}return i}function n3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r3(t,e,n,r){e.value=n,e.getSnapshot=r,s3(e)&&o3(t)}function i3(t,e,n){return n(function(){s3(e)&&o3(t)})}function s3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fi(t,n)}catch{return!0}}function o3(t){var e=ys(t,1);e!==null&&di(e,t,1,-1)}function cT(t){var e=xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:t},e.queue=t,t=t.dispatch=gM.bind(null,Ot,t),[e.memoizedState,t]}function Ed(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a3(){return Wr().memoizedState}function np(t,e,n,r){var i=xi();Ot.flags|=t,i.memoizedState=Ed(1|e,n,void 0,r===void 0?null:r)}function x0(t,e,n,r){var i=Wr();r=r===void 0?null:r;var s=void 0;if(rn!==null){var o=rn.memoizedState;if(s=o.destroy,r!==null&&p2(r,o.deps)){i.memoizedState=Ed(e,n,s,r);return}}Ot.flags|=t,i.memoizedState=Ed(1|e,n,s,r)}function uT(t,e){return np(8390656,8,t,e)}function v2(t,e){return x0(2048,8,t,e)}function l3(t,e){return x0(4,2,t,e)}function c3(t,e){return x0(4,4,t,e)}function u3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d3(t,e,n){return n=n!=null?n.concat([t]):null,x0(4,4,u3.bind(null,e,t),n)}function y2(){}function f3(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function h3(t,e){var n=Wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p3(t,e,n){return La&21?(fi(n,e)||(n=v5(),Ot.lanes|=n,Pa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zn=!0),t.memoizedState=n)}function pM(t,e){var n=dt;dt=n!==0&&4>n?n:4,t(!0);var r=wv.transition;wv.transition={};try{t(!1),e()}finally{dt=n,wv.transition=r}}function m3(){return Wr().memoizedState}function mM(t,e,n){var r=uo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g3(t))v3(e,n);else if(n=W5(t,e,n,r),n!==null){var i=Kn();di(n,t,r,i),y3(n,e,r)}}function gM(t,e,n){var r=uo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g3(t))v3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fi(a,o)){var l=e.interleaved;l===null?(i.next=i,c2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=W5(t,e,i,r),n!==null&&(i=Kn(),di(n,t,r,i),y3(n,e,r))}}function g3(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function v3(t,e){Uu=tm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yb(t,n)}}var nm={readContext:Gr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},vM={readContext:Gr,useCallback:function(t,e){return xi().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:uT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,np(4194308,4,u3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return np(4194308,4,t,e)},useInsertionEffect:function(t,e){return np(4,2,t,e)},useMemo:function(t,e){var n=xi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mM.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=xi();return t={current:t},e.memoizedState=t},useState:cT,useDebugValue:y2,useDeferredValue:function(t){return xi().memoizedState=t},useTransition:function(){var t=cT(!1),e=t[0];return t=pM.bind(null,t[1]),xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,i=xi();if(Rt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),yn===null)throw Error(ee(349));La&30||n3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,uT(i3.bind(null,r,s,t),[t]),r.flags|=2048,Ed(9,r3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xi(),e=yn.identifierPrefix;if(Rt){var n=cs,r=ls;n=(r&~(1<<32-ui(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yM={readContext:Gr,useCallback:f3,useContext:Gr,useEffect:v2,useImperativeHandle:d3,useInsertionEffect:l3,useLayoutEffect:c3,useMemo:h3,useReducer:Sv,useRef:a3,useState:function(){return Sv(Sd)},useDebugValue:y2,useDeferredValue:function(t){var e=Wr();return p3(e,rn.memoizedState,t)},useTransition:function(){var t=Sv(Sd)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:e3,useSyncExternalStore:t3,useId:m3,unstable_isNewReconciler:!1},xM={readContext:Gr,useCallback:f3,useContext:Gr,useEffect:v2,useImperativeHandle:d3,useInsertionEffect:l3,useLayoutEffect:c3,useMemo:h3,useReducer:Ev,useRef:a3,useState:function(){return Ev(Sd)},useDebugValue:y2,useDeferredValue:function(t){var e=Wr();return rn===null?e.memoizedState=t:p3(e,rn.memoizedState,t)},useTransition:function(){var t=Ev(Sd)[0],e=Wr().memoizedState;return[t,e]},useMutableSource:e3,useSyncExternalStore:t3,useId:m3,unstable_isNewReconciler:!1};function Sc(t,e){try{var n="",r=e;do n+=WD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Tv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function C1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bM=typeof WeakMap=="function"?WeakMap:Map;function x3(t,e,n){n=fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){im||(im=!0,N1=r),C1(t,e)},n}function b3(t,e,n){n=fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){C1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){C1(t,e),typeof r!="function"&&(co===null?co=new Set([this]):co.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=OM.bind(null,t,e,n),e.then(t,t))}function fT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fs(-1,1),e.tag=2,lo(n,e,1))),n.lanes|=1),t)}var wM=Ss.ReactCurrentOwner,Zn=!1;function zn(t,e,n,r){e.child=t===null?J5(e,null,n,r):bc(e,t.child,n,r)}function pT(t,e,n,r,i){n=n.render;var s=e.ref;return Hl(e,i),r=m2(t,e,n,r,s,i),n=g2(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Rt&&n&&r2(e),e.flags|=1,zn(t,e,r,i),e.child)}function mT(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,w3(t,e,s,r,i)):(t=op(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:md,n(o,r)&&t.ref===e.ref)return xs(t,e,i)}return e.flags|=1,t=fo(s,r),t.ref=e.ref,t.return=e,e.child=t}function w3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(md(s,r)&&t.ref===e.ref)if(Zn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zn=!0);else return e.lanes=t.lanes,xs(t,e,i)}return R1(t,e,n,r,i)}function S3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Dl,hr),hr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Dl,hr),hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xt(Dl,hr),hr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xt(Dl,hr),hr|=r;return zn(t,e,i,n),e.child}function E3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function R1(t,e,n,r,i){var s=tr(n)?ka:Fn.current;return s=yc(e,s),Hl(e,i),n=m2(t,e,n,r,s,i),r=g2(),t!==null&&!Zn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Rt&&r&&r2(e),e.flags|=1,zn(t,e,n,i),e.child)}function gT(t,e,n,r,i){if(tr(n)){var s=!0;qp(e)}else s=!1;if(Hl(e,i),e.stateNode===null)rp(t,e),Q5(e,n,r),_1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gr(c):(c=tr(n)?ka:Fn.current,c=yc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&aT(e,o,r,c),Bs=!1;var f=e.memoizedState;o.state=f,Zp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||er.current||Bs?(typeof u=="function"&&(T1(e,n,u,r),l=e.memoizedState),(a=Bs||oT(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,q5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ni(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gr(l):(l=tr(n)?ka:Fn.current,l=yc(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&aT(e,o,r,l),Bs=!1,f=e.memoizedState,o.state=f,Zp(e,r,o,i);var h=e.memoizedState;a!==d||f!==h||er.current||Bs?(typeof p=="function"&&(T1(e,n,p,r),h=e.memoizedState),(c=Bs||oT(e,n,c,r,f,h,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return k1(t,e,n,r,s,i)}function k1(t,e,n,r,i,s){E3(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tT(e,n,!1),xs(t,e,s);r=e.stateNode,wM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bc(e,t.child,null,s),e.child=bc(e,null,a,s)):zn(t,e,a,s),e.memoizedState=r.state,i&&tT(e,n,!0),e.child}function T3(t){var e=t.stateNode;e.pendingContext?eT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eT(t,e.context,!1),d2(t,e.containerInfo)}function vT(t,e,n,r,i){return xc(),s2(i),e.flags|=256,zn(t,e,n,r),e.child}var A1={dehydrated:null,treeContext:null,retryLane:0};function L1(t){return{baseLanes:t,cachePool:null,transitions:null}}function _3(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(Pt,i&1),t===null)return S1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=S0(o,r,0,null),t=Sa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=L1(n),e.memoizedState=A1,t):x2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=fo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=fo(a,s):(s=Sa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?L1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=A1,r}return s=t.child,t=s.sibling,r=fo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x2(t,e){return e=S0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ih(t,e,n,r){return r!==null&&s2(r),bc(e,t.child,null,n),t=x2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Tv(Error(ee(422))),ih(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=S0({mode:"visible",children:r.children},i,0,null),s=Sa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bc(e,t.child,null,o),e.child.memoizedState=L1(o),e.memoizedState=A1,s);if(!(e.mode&1))return ih(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ee(419)),r=Tv(s,r,void 0),ih(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zn||a){if(r=yn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ys(t,i),di(r,t,i,-1))}return _2(),r=Tv(Error(ee(421))),ih(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mr=ao(i.nextSibling),xr=e,Rt=!0,si=null,t!==null&&(Ur[zr++]=ls,Ur[zr++]=cs,Ur[zr++]=Aa,ls=t.id,cs=t.overflow,Aa=e),e=x2(e,r.children),e.flags|=4096,e)}function yT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),E1(t.return,e,n)}function _v(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function C3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yT(t,n,e);else if(t.tag===19)yT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&em(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_v(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&em(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_v(e,!0,n,null,s);break;case"together":_v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=fo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EM(t,e,n){switch(e.tag){case 3:T3(e),xc();break;case 5:Z5(e);break;case 1:tr(e.type)&&qp(e);break;case 4:d2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xt(Xp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?_3(t,e,n):(xt(Pt,Pt.current&1),t=xs(t,e,n),t!==null?t.sibling:null);xt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return C3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,S3(t,e,n)}return xs(t,e,n)}var R3,P1,k3,A3;R3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};P1=function(){};k3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,sa(ji.current);var s=null;switch(n){case"input":i=Zy(t,i),r=Zy(t,r),s=[];break;case"select":i=Mt({},i,{value:void 0}),r=Mt({},r,{value:void 0}),s=[];break;case"textarea":i=n1(t,i),r=n1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gp)}i1(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ld.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ld.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};A3=function(t,e,n,r){n!==r&&(e.flags|=4)};function au(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TM(t,e,n){var r=e.pendingProps;switch(i2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return tr(e.type)&&Wp(),In(e),null;case 3:return r=e.stateNode,wc(),Tt(er),Tt(Fn),h2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,si!==null&&(B1(si),si=null))),P1(t,e),In(e),null;case 5:f2(e);var i=sa(bd.current);if(n=e.type,t!==null&&e.stateNode!=null)k3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return In(e),null}if(t=sa(ji.current),nh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pi]=e,r[yd]=s,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(i=0;i<ku.length;i++)Et(ku[i],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":RE(r,s),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Et("invalid",r);break;case"textarea":AE(r,s),Et("invalid",r)}i1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&th(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&th(r.textContent,a,t),i=["children",""+a]):ld.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Et("scroll",r)}switch(n){case"input":Wf(r),kE(r,s,!0);break;case"textarea":Wf(r),LE(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pi]=e,t[yd]=r,R3(t,e,!1,!1),e.stateNode=t;e:{switch(o=s1(n,r),n){case"dialog":Et("cancel",t),Et("close",t),i=r;break;case"iframe":case"object":case"embed":Et("load",t),i=r;break;case"video":case"audio":for(i=0;i<ku.length;i++)Et(ku[i],t);i=r;break;case"source":Et("error",t),i=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),i=r;break;case"details":Et("toggle",t),i=r;break;case"input":RE(t,r),i=Zy(t,r),Et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mt({},r,{value:void 0}),Et("invalid",t);break;case"textarea":AE(t,r),i=n1(t,r),Et("invalid",t);break;default:i=r}i1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?s5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&r5(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cd(t,l):typeof l=="number"&&cd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ld.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Et("scroll",t):l!=null&&Vb(t,s,l,o))}switch(n){case"input":Wf(t),kE(t,r,!1);break;case"textarea":Wf(t),LE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ul(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ul(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)A3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=sa(bd.current),sa(ji.current),nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pi]=e,(s=r.nodeValue!==n)&&(t=xr,t!==null))switch(t.tag){case 3:th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pi]=e,e.stateNode=r}return In(e),null;case 13:if(Tt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&mr!==null&&e.mode&1&&!(e.flags&128))G5(),xc(),e.flags|=98560,s=!1;else if(s=nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[Pi]=e}else xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),s=!1}else si!==null&&(B1(si),si=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?on===0&&(on=3):_2())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return wc(),P1(t,e),t===null&&gd(e.stateNode.containerInfo),In(e),null;case 10:return l2(e.type._context),In(e),null;case 17:return tr(e.type)&&Wp(),In(e),null;case 19:if(Tt(Pt),s=e.memoizedState,s===null)return In(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)au(s,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=em(t),o!==null){for(e.flags|=128,au(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Vt()>Ec&&(e.flags|=128,r=!0,au(s,!1),e.lanes=4194304)}else{if(!r)if(t=em(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rt)return In(e),null}else 2*Vt()-s.renderingStartTime>Ec&&n!==1073741824&&(e.flags|=128,r=!0,au(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Vt(),e.sibling=null,n=Pt.current,xt(Pt,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return T2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hr&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function _M(t,e){switch(i2(e),e.tag){case 1:return tr(e.type)&&Wp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wc(),Tt(er),Tt(Fn),h2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f2(e),null;case 13:if(Tt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Pt),null;case 4:return wc(),null;case 10:return l2(e.type._context),null;case 22:case 23:return T2(),null;case 24:return null;default:return null}}var sh=!1,Mn=!1,CM=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function I1(t,e,n){try{n()}catch(r){$t(t,e,r)}}var xT=!1;function RM(t,e){if(m1=Vp,t=D5(),n2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(g1={focusedElem:t,selectionRange:n},Vp=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,v=h.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:ni(e.type,m),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(S){$t(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return h=xT,xT=!1,h}function zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&I1(e,n,s)}i=i.next}while(i!==r)}}function b0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function D1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L3(t){var e=t.alternate;e!==null&&(t.alternate=null,L3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pi],delete e[yd],delete e[x1],delete e[cM],delete e[uM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P3(t){return t.tag===5||t.tag===3||t.tag===4}function bT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function O1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gp));else if(r!==4&&(t=t.child,t!==null))for(O1(t,e,n),t=t.sibling;t!==null;)O1(t,e,n),t=t.sibling}function M1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(M1(t,e,n),t=t.sibling;t!==null;)M1(t,e,n),t=t.sibling}var Tn=null,ii=!1;function Rs(t,e,n){for(n=n.child;n!==null;)I3(t,e,n),n=n.sibling}function I3(t,e,n){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(f0,n)}catch{}switch(n.tag){case 5:Mn||Il(n,e);case 6:var r=Tn,i=ii;Tn=null,Rs(t,e,n),Tn=r,ii=i,Tn!==null&&(ii?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(ii?(t=Tn,n=n.stateNode,t.nodeType===8?yv(t.parentNode,n):t.nodeType===1&&yv(t,n),hd(t)):yv(Tn,n.stateNode));break;case 4:r=Tn,i=ii,Tn=n.stateNode.containerInfo,ii=!0,Rs(t,e,n),Tn=r,ii=i;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&I1(n,e,o),i=i.next}while(i!==r)}Rs(t,e,n);break;case 1:if(!Mn&&(Il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$t(n,e,a)}Rs(t,e,n);break;case 21:Rs(t,e,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,Rs(t,e,n),Mn=r):Rs(t,e,n);break;default:Rs(t,e,n)}}function wT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CM),e.forEach(function(r){var i=NM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,ii=!1;break e;case 3:Tn=a.stateNode.containerInfo,ii=!0;break e;case 4:Tn=a.stateNode.containerInfo,ii=!0;break e}a=a.return}if(Tn===null)throw Error(ee(160));I3(s,o,i),Tn=null,ii=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){$t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D3(e,t),e=e.sibling}function D3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),gi(t),r&4){try{zu(3,t,t.return),b0(3,t)}catch(m){$t(t,t.return,m)}try{zu(5,t,t.return)}catch(m){$t(t,t.return,m)}}break;case 1:Zr(e,t),gi(t),r&512&&n!==null&&Il(n,n.return);break;case 5:if(Zr(e,t),gi(t),r&512&&n!==null&&Il(n,n.return),t.flags&32){var i=t.stateNode;try{cd(i,"")}catch(m){$t(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&e5(i,s),s1(a,o);var c=s1(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?s5(i,d):u==="dangerouslySetInnerHTML"?r5(i,d):u==="children"?cd(i,d):Vb(i,u,d,c)}switch(a){case"input":e1(i,s);break;case"textarea":t5(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ul(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ul(i,!!s.multiple,s.defaultValue,!0):Ul(i,!!s.multiple,s.multiple?[]:"",!1))}i[yd]=s}catch(m){$t(t,t.return,m)}}break;case 6:if(Zr(e,t),gi(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){$t(t,t.return,m)}}break;case 3:if(Zr(e,t),gi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hd(e.containerInfo)}catch(m){$t(t,t.return,m)}break;case 4:Zr(e,t),gi(t);break;case 13:Zr(e,t),gi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(S2=Vt())),r&4&&wT(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Mn=(c=Mn)||u,Zr(e,t),Mn=c):Zr(e,t),gi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ce=t,u=t.child;u!==null;){for(d=ce=u;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:zu(4,f,f.return);break;case 1:Il(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(m){$t(r,n,m)}}break;case 5:Il(f,f.return);break;case 22:if(f.memoizedState!==null){ET(d);continue}}p!==null?(p.return=f,ce=p):ET(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=i5("display",o))}catch(m){$t(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){$t(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zr(e,t),gi(t),r&4&&wT(t);break;case 21:break;default:Zr(e,t),gi(t)}}function gi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(P3(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cd(i,""),r.flags&=-33);var s=bT(t);M1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bT(t);O1(t,a,o);break;default:throw Error(ee(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kM(t,e,n){ce=t,O3(t)}function O3(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mn;a=sh;var c=Mn;if(sh=o,(Mn=l)&&!c)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?TT(i):l!==null?(l.return=o,ce=l):TT(i);for(;s!==null;)ce=s,O3(s),s=s.sibling;ce=i,sh=a,Mn=c}ST(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):ST(t)}}function ST(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mn||b0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ni(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&hd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Mn||e.flags&512&&D1(e)}catch(f){$t(e,e.return,f)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function ET(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function TT(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{b0(4,e)}catch(l){$t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$t(e,i,l)}}var s=e.return;try{D1(e)}catch(l){$t(e,s,l)}break;case 5:var o=e.return;try{D1(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var AM=Math.ceil,rm=Ss.ReactCurrentDispatcher,b2=Ss.ReactCurrentOwner,Kr=Ss.ReactCurrentBatchConfig,qe=0,yn=null,Yt=null,kn=0,hr=0,Dl=Do(0),on=0,Td=null,Pa=0,w0=0,w2=0,Vu=null,Xn=null,S2=0,Ec=1/0,ns=null,im=!1,N1=null,co=null,oh=!1,to=null,sm=0,Ku=0,F1=null,ip=-1,sp=0;function Kn(){return qe&6?Vt():ip!==-1?ip:ip=Vt()}function uo(t){return t.mode&1?qe&2&&kn!==0?kn&-kn:fM.transition!==null?(sp===0&&(sp=v5()),sp):(t=dt,t!==0||(t=window.event,t=t===void 0?16:T5(t.type)),t):1}function di(t,e,n,r){if(50<Ku)throw Ku=0,F1=null,Error(ee(185));mf(t,n,r),(!(qe&2)||t!==yn)&&(t===yn&&(!(qe&2)&&(w0|=n),on===4&&Vs(t,kn)),nr(t,r),n===1&&qe===0&&!(e.mode&1)&&(Ec=Vt()+500,v0&&Oo()))}function nr(t,e){var n=t.callbackNode;fO(t,e);var r=zp(t,t===yn?kn:0);if(r===0)n!==null&&DE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DE(n),e===1)t.tag===0?dM(_T.bind(null,t)):V5(_T.bind(null,t)),aM(function(){!(qe&6)&&Oo()}),n=null;else{switch(y5(r)){case 1:n=qb;break;case 4:n=m5;break;case 16:n=Up;break;case 536870912:n=g5;break;default:n=Up}n=z3(n,M3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function M3(t,e){if(ip=-1,sp=0,qe&6)throw Error(ee(327));var n=t.callbackNode;if(Gl()&&t.callbackNode!==n)return null;var r=zp(t,t===yn?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=om(t,r);else{e=r;var i=qe;qe|=2;var s=F3();(yn!==t||kn!==e)&&(ns=null,Ec=Vt()+500,wa(t,e));do try{IM();break}catch(a){N3(t,a)}while(1);a2(),rm.current=s,qe=i,Yt!==null?e=0:(yn=null,kn=0,e=on)}if(e!==0){if(e===2&&(i=u1(t),i!==0&&(r=i,e=$1(t,i))),e===1)throw n=Td,wa(t,0),Vs(t,r),nr(t,Vt()),n;if(e===6)Vs(t,r);else{if(i=t.current.alternate,!(r&30)&&!LM(i)&&(e=om(t,r),e===2&&(s=u1(t),s!==0&&(r=s,e=$1(t,s))),e===1))throw n=Td,wa(t,0),Vs(t,r),nr(t,Vt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Ho(t,Xn,ns);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=S2+500-Vt(),10<e)){if(zp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=y1(Ho.bind(null,t,Xn,ns),e);break}Ho(t,Xn,ns);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ui(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AM(r/1960))-r,10<r){t.timeoutHandle=y1(Ho.bind(null,t,Xn,ns),r);break}Ho(t,Xn,ns);break;case 5:Ho(t,Xn,ns);break;default:throw Error(ee(329))}}}return nr(t,Vt()),t.callbackNode===n?M3.bind(null,t):null}function $1(t,e){var n=Vu;return t.current.memoizedState.isDehydrated&&(wa(t,e).flags|=256),t=om(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&B1(e)),t}function B1(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function LM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~w2,e&=~w0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ui(e),r=1<<n;t[n]=-1,e&=~r}}function _T(t){if(qe&6)throw Error(ee(327));Gl();var e=zp(t,0);if(!(e&1))return nr(t,Vt()),null;var n=om(t,e);if(t.tag!==0&&n===2){var r=u1(t);r!==0&&(e=r,n=$1(t,r))}if(n===1)throw n=Td,wa(t,0),Vs(t,e),nr(t,Vt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ho(t,Xn,ns),nr(t,Vt()),null}function E2(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Ec=Vt()+500,v0&&Oo())}}function Ia(t){to!==null&&to.tag===0&&!(qe&6)&&Gl();var e=qe;qe|=1;var n=Kr.transition,r=dt;try{if(Kr.transition=null,dt=1,t)return t()}finally{dt=r,Kr.transition=n,qe=e,!(qe&6)&&Oo()}}function T2(){hr=Dl.current,Tt(Dl)}function wa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oM(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch(i2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wp();break;case 3:wc(),Tt(er),Tt(Fn),h2();break;case 5:f2(r);break;case 4:wc();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:l2(r.type._context);break;case 22:case 23:T2()}n=n.return}if(yn=t,Yt=t=fo(t.current,null),kn=hr=e,on=0,Td=null,w2=w0=Pa=0,Xn=Vu=null,ia!==null){for(e=0;e<ia.length;e++)if(n=ia[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ia=null}return t}function N3(t,e){do{var n=Yt;try{if(a2(),tp.current=nm,tm){for(var r=Ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tm=!1}if(La=0,pn=rn=Ot=null,Uu=!1,wd=0,b2.current=null,n===null||n.return===null){on=1,Td=e,Yt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fT(o);if(p!==null){p.flags&=-257,hT(p,o,a,s,e),p.mode&1&&dT(s,c,e),e=p,l=c;var h=e.updateQueue;if(h===null){var m=new Set;m.add(l),e.updateQueue=m}else h.add(l);break e}else{if(!(e&1)){dT(s,c,e),_2();break e}l=Error(ee(426))}}else if(Rt&&a.mode&1){var v=fT(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hT(v,o,a,s,e),s2(Sc(l,a));break e}}s=l=Sc(l,a),on!==4&&(on=2),Vu===null?Vu=[s]:Vu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=x3(s,l,e);iT(s,y);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(co===null||!co.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=b3(s,a,e);iT(s,S);break e}}s=s.return}while(s!==null)}B3(n)}catch(w){e=w,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(1)}function F3(){var t=rm.current;return rm.current=nm,t===null?nm:t}function _2(){(on===0||on===3||on===2)&&(on=4),yn===null||!(Pa&268435455)&&!(w0&268435455)||Vs(yn,kn)}function om(t,e){var n=qe;qe|=2;var r=F3();(yn!==t||kn!==e)&&(ns=null,wa(t,e));do try{PM();break}catch(i){N3(t,i)}while(1);if(a2(),qe=n,rm.current=r,Yt!==null)throw Error(ee(261));return yn=null,kn=0,on}function PM(){for(;Yt!==null;)$3(Yt)}function IM(){for(;Yt!==null&&!rO();)$3(Yt)}function $3(t){var e=U3(t.alternate,t,hr);t.memoizedProps=t.pendingProps,e===null?B3(t):Yt=e,b2.current=null}function B3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_M(n,e),n!==null){n.flags&=32767,Yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Yt=null;return}}else if(n=TM(n,e,hr),n!==null){Yt=n;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);on===0&&(on=5)}function Ho(t,e,n){var r=dt,i=Kr.transition;try{Kr.transition=null,dt=1,DM(t,e,n,r)}finally{Kr.transition=i,dt=r}return null}function DM(t,e,n,r){do Gl();while(to!==null);if(qe&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hO(t,s),t===yn&&(Yt=yn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oh||(oh=!0,z3(Up,function(){return Gl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kr.transition,Kr.transition=null;var o=dt;dt=1;var a=qe;qe|=4,b2.current=null,RM(t,n),D3(n,t),ZO(g1),Vp=!!m1,g1=m1=null,t.current=n,kM(n),iO(),qe=a,dt=o,Kr.transition=s}else t.current=n;if(oh&&(oh=!1,to=t,sm=i),s=t.pendingLanes,s===0&&(co=null),aO(n.stateNode),nr(t,Vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(im)throw im=!1,t=N1,N1=null,t;return sm&1&&t.tag!==0&&Gl(),s=t.pendingLanes,s&1?t===F1?Ku++:(Ku=0,F1=t):Ku=0,Oo(),null}function Gl(){if(to!==null){var t=y5(sm),e=Kr.transition,n=dt;try{if(Kr.transition=null,dt=16>t?16:t,to===null)var r=!1;else{if(t=to,to=null,sm=0,qe&6)throw Error(ee(331));var i=qe;for(qe|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ce=c;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:zu(8,u,s)}var d=u.child;if(d!==null)d.return=u,ce=d;else for(;ce!==null;){u=ce;var f=u.sibling,p=u.return;if(L3(u),u===c){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var h=s.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ce=y;break e}ce=s.return}}var x=t.current;for(ce=x;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=x;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:b0(9,a)}}catch(w){$t(a,a.return,w)}if(a===o){ce=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ce=S;break e}ce=a.return}}if(qe=i,Oo(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(f0,t)}catch{}r=!0}return r}finally{dt=n,Kr.transition=e}}return!1}function CT(t,e,n){e=Sc(n,e),e=x3(t,e,1),t=lo(t,e,1),e=Kn(),t!==null&&(mf(t,1,e),nr(t,e))}function $t(t,e,n){if(t.tag===3)CT(t,t,n);else for(;e!==null;){if(e.tag===3){CT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){t=Sc(n,t),t=b3(e,t,1),e=lo(e,t,1),t=Kn(),e!==null&&(mf(e,1,t),nr(e,t));break}}e=e.return}}function OM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,yn===t&&(kn&n)===n&&(on===4||on===3&&(kn&130023424)===kn&&500>Vt()-S2?wa(t,0):w2|=n),nr(t,e)}function j3(t,e){e===0&&(t.mode&1?(e=Qf,Qf<<=1,!(Qf&130023424)&&(Qf=4194304)):e=1);var n=Kn();t=ys(t,e),t!==null&&(mf(t,e,n),nr(t,n))}function MM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),j3(t,n)}function NM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),j3(t,n)}var U3;U3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Zn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zn=!1,EM(t,e,n);Zn=!!(t.flags&131072)}else Zn=!1,Rt&&e.flags&1048576&&K5(e,Qp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rp(t,e),t=e.pendingProps;var i=yc(e,Fn.current);Hl(e,n),i=m2(null,e,r,t,i,n);var s=g2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(s=!0,qp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u2(e),i.updater=y0,e.stateNode=i,i._reactInternals=e,_1(e,r,t,n),e=k1(null,e,r,!0,s,n)):(e.tag=0,Rt&&s&&r2(e),zn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$M(r),t=ni(r,t),i){case 0:e=R1(null,e,r,t,n);break e;case 1:e=gT(null,e,r,t,n);break e;case 11:e=pT(null,e,r,t,n);break e;case 14:e=mT(null,e,r,ni(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),R1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),gT(t,e,r,i,n);case 3:e:{if(T3(e),t===null)throw Error(ee(387));r=e.pendingProps,s=e.memoizedState,i=s.element,q5(t,e),Zp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sc(Error(ee(423)),e),e=vT(t,e,r,n,i);break e}else if(r!==i){i=Sc(Error(ee(424)),e),e=vT(t,e,r,n,i);break e}else for(mr=ao(e.stateNode.containerInfo.firstChild),xr=e,Rt=!0,si=null,n=J5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xc(),r===i){e=xs(t,e,n);break e}zn(t,e,r,n)}e=e.child}return e;case 5:return Z5(e),t===null&&S1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,v1(r,i)?o=null:s!==null&&v1(r,s)&&(e.flags|=32),E3(t,e),zn(t,e,o,n),e.child;case 6:return t===null&&S1(e),null;case 13:return _3(t,e,n);case 4:return d2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bc(e,null,r,n):zn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),pT(t,e,r,i,n);case 7:return zn(t,e,e.pendingProps,n),e.child;case 8:return zn(t,e,e.pendingProps.children,n),e.child;case 12:return zn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xt(Xp,r._currentValue),r._currentValue=o,s!==null)if(fi(s.value,o)){if(s.children===i.children&&!er.current){e=xs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=fs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),E1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),E1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hl(e,n),i=Gr(i),r=r(i),e.flags|=1,zn(t,e,r,n),e.child;case 14:return r=e.type,i=ni(r,e.pendingProps),i=ni(r.type,i),mT(t,e,r,i,n);case 15:return w3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ni(r,i),rp(t,e),e.tag=1,tr(r)?(t=!0,qp(e)):t=!1,Hl(e,n),Q5(e,r,i),_1(e,r,i,n),k1(null,e,r,!0,t,n);case 19:return C3(t,e,n);case 22:return S3(t,e,n)}throw Error(ee(156,e.tag))};function z3(t,e){return p5(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new FM(t,e,n,r)}function C2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $M(t){if(typeof t=="function")return C2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hb)return 11;if(t===Gb)return 14}return 2}function fo(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function op(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case El:return Sa(n.children,i,s,e);case Kb:o=8,i|=8;break;case Yy:return t=Vr(12,n,e,i|2),t.elementType=Yy,t.lanes=s,t;case Qy:return t=Vr(13,n,e,i),t.elementType=Qy,t.lanes=s,t;case Xy:return t=Vr(19,n,e,i),t.elementType=Xy,t.lanes=s,t;case XA:return S0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YA:o=10;break e;case QA:o=9;break e;case Hb:o=11;break e;case Gb:o=14;break e;case $s:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Vr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Sa(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function S0(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=XA,t.lanes=n,t.stateNode={isHidden:!1},t}function Cv(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function Rv(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=av(0),this.expirationTimes=av(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=av(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R2(t,e,n,r,i,s,o,a,l){return t=new BM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},u2(s),t}function jM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function V3(t){if(!t)return xo;t=t._reactInternals;e:{if(qa(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(tr(n))return z5(t,n,e)}return e}function K3(t,e,n,r,i,s,o,a,l){return t=R2(n,r,!0,t,i,s,o,a,l),t.context=V3(null),n=t.current,r=Kn(),i=uo(n),s=fs(r,i),s.callback=e??null,lo(n,s,i),t.current.lanes=i,mf(t,i,r),nr(t,r),t}function E0(t,e,n,r){var i=e.current,s=Kn(),o=uo(i);return n=V3(n),e.context===null?e.context=n:e.pendingContext=n,e=fs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lo(i,e,o),t!==null&&(di(t,i,o,s),ep(t,i,o)),o}function am(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function k2(t,e){RT(t,e),(t=t.alternate)&&RT(t,e)}function UM(){return null}var H3=typeof reportError=="function"?reportError:function(t){console.error(t)};function A2(t){this._internalRoot=t}T0.prototype.render=A2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));E0(t,e,null,null)};T0.prototype.unmount=A2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ia(function(){E0(null,t,null,null)}),e[vs]=null}};function T0(t){this._internalRoot=t}T0.prototype.unstable_scheduleHydration=function(t){if(t){var e=w5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zs.length&&e!==0&&e<zs[n].priority;n++);zs.splice(n,0,t),n===0&&E5(t)}};function L2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kT(){}function zM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=am(o);s.call(c)}}var o=K3(e,r,t,0,null,!1,!1,"",kT);return t._reactRootContainer=o,t[vs]=o.current,gd(t.nodeType===8?t.parentNode:t),Ia(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=am(l);a.call(c)}}var l=R2(t,0,!1,null,null,!1,!1,"",kT);return t._reactRootContainer=l,t[vs]=l.current,gd(t.nodeType===8?t.parentNode:t),Ia(function(){E0(e,l,n,r)}),l}function C0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=am(o);a.call(l)}}E0(e,o,t,i)}else o=zM(n,e,t,i,r);return am(o)}x5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ru(e.pendingLanes);n!==0&&(Yb(e,n|1),nr(e,Vt()),!(qe&6)&&(Ec=Vt()+500,Oo()))}break;case 13:Ia(function(){var r=ys(t,1);if(r!==null){var i=Kn();di(r,t,1,i)}}),k2(t,1)}};Qb=function(t){if(t.tag===13){var e=ys(t,134217728);if(e!==null){var n=Kn();di(e,t,134217728,n)}k2(t,134217728)}};b5=function(t){if(t.tag===13){var e=uo(t),n=ys(t,e);if(n!==null){var r=Kn();di(n,t,e,r)}k2(t,e)}};w5=function(){return dt};S5=function(t,e){var n=dt;try{return dt=t,e()}finally{dt=n}};a1=function(t,e,n){switch(e){case"input":if(e1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=g0(r);if(!i)throw Error(ee(90));ZA(r),e1(r,i)}}}break;case"textarea":t5(t,n);break;case"select":e=n.value,e!=null&&Ul(t,!!n.multiple,e,!1)}};l5=E2;c5=Ia;var VM={usingClientEntryPoint:!1,Events:[vf,Rl,g0,o5,a5,E2]},lu={findFiberByHostInstance:ra,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},KM={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f5(t),t===null?null:t.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||UM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{f0=ah.inject(KM),Bi=ah}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VM;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L2(e))throw Error(ee(200));return jM(t,e,null,n)};kr.createRoot=function(t,e){if(!L2(t))throw Error(ee(299));var n=!1,r="",i=H3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R2(t,1,!1,null,null,n,!1,r,i),t[vs]=e.current,gd(t.nodeType===8?t.parentNode:t),new A2(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=f5(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return Ia(t)};kr.hydrate=function(t,e,n){if(!_0(e))throw Error(ee(200));return C0(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!L2(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=H3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K3(e,null,t,1,n??null,i,!1,s,o),t[vs]=e.current,gd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new T0(e)};kr.render=function(t,e,n){if(!_0(e))throw Error(ee(200));return C0(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!_0(t))throw Error(ee(40));return t._reactRootContainer?(Ia(function(){C0(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};kr.unstable_batchedUpdates=E2;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!_0(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return C0(t,e,n,!1,r)};kr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=kr})(UD);const lh=NA(li);var AT=li;Gy.createRoot=AT.createRoot,Gy.hydrateRoot=AT.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}var no;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(no||(no={}));const LT="popstate";function HM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return j1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cd(i)}return WM(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GM(){return Math.random().toString(36).substr(2,8)}function PT(t,e){return{usr:t.state,key:t.key,idx:e}}function j1(t,e,n,r){return n===void 0&&(n=null),_d({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uc(e):e,{state:n,key:e&&e.key||r||GM()})}function Cd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=no.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(_d({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=no.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:y})}function f(v,y){a=no.Push;let x=j1(m.location,v,y);n&&n(x,v),c=u()+1;let b=PT(x,c),S=m.createHref(x);try{o.pushState(b,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function p(v,y){a=no.Replace;let x=j1(m.location,v,y);n&&n(x,v),c=u();let b=PT(x,c),S=m.createHref(x);o.replaceState(b,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function h(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Cd(v);return ln(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let m={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LT,d),l=v,()=>{i.removeEventListener(LT,d),l=null}},createHref(v){return e(i,v)},createURL:h,encodeLocation(v){let y=h(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return o.go(v)}};return m}var IT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IT||(IT={}));function qM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Uc(e):e,i=q3(r.pathname||"/",n);if(i==null)return null;let s=G3(t);YM(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=iN(s[a],aN(i));return o}function G3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ln(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ho([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),G3(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:nN(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of W3(s.path))i(s,o,l)}),e}function W3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=W3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function YM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QM=/^:\w+$/,XM=3,JM=2,ZM=1,eN=10,tN=-2,DT=t=>t==="*";function nN(t,e){let n=t.split("/"),r=n.length;return n.some(DT)&&(r+=tN),e&&(r+=JM),n.filter(i=>!DT(i)).reduce((i,s)=>i+(QM.test(s)?XM:s===""?ZM:eN),r)}function rN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=sN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:ho([i,u.pathname]),pathnameBase:dN(ho([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=ho([i,u.pathnameBase]))}return s}function sN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=lN(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function oN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),P2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aN(t){try{return decodeURI(t)}catch(e){return P2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lN(t,e){try{return decodeURIComponent(t)}catch(n){return P2(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function q3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uc(t):t;return{pathname:n?n.startsWith("/")?n:uN(n,e):e,search:fN(r),hash:hN(i)}}function uN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Q3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Uc(t):(i=_d({},t),ln(!i.pathname||!i.pathname.includes("?"),kv("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),kv("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),kv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=cN(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ho=t=>t.join("/").replace(/\/\/+/g,"/"),dN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mN=["post","put","patch","delete"];[...mN];/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(this,arguments)}function gN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const vN=typeof Object.is=="function"?Object.is:gN,{useState:yN,useEffect:xN,useLayoutEffect:bN,useDebugValue:wN}=vo;function SN(t,e,n){const r=e(),[{inst:i},s]=yN({inst:{value:r,getSnapshot:e}});return bN(()=>{i.value=r,i.getSnapshot=e,Av(i)&&s({inst:i})},[t,r,e]),xN(()=>(Av(i)&&s({inst:i}),t(()=>{Av(i)&&s({inst:i})})),[t]),wN(r),r}function Av(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!vN(n,r)}catch{return!0}}function EN(t,e,n){return e()}const TN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_N=!TN,CN=_N?EN:SN;"useSyncExternalStore"in vo&&(t=>t.useSyncExternalStore)(vo);const X3=E.createContext(null),I2=E.createContext(null),xf=E.createContext(null),R0=E.createContext(null),Ya=E.createContext({outlet:null,matches:[]}),J3=E.createContext(null);function RN(t,e){let{relative:n}=e===void 0?{}:e;bf()||ln(!1);let{basename:r,navigator:i}=E.useContext(xf),{hash:s,pathname:o,search:a}=D2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ho([r,o])),i.createHref({pathname:l,search:a,hash:s})}function bf(){return E.useContext(R0)!=null}function zc(){return bf()||ln(!1),E.useContext(R0).location}function Vc(){bf()||ln(!1);let{basename:t,navigator:e}=E.useContext(xf),{matches:n}=E.useContext(Ya),{pathname:r}=zc(),i=JSON.stringify(Y3(n).map(a=>a.pathnameBase)),s=E.useRef(!1);return E.useEffect(()=>{s.current=!0}),E.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=Q3(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:ho([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}function Qa(){let{matches:t}=E.useContext(Ya),e=t[t.length-1];return e?e.params:{}}function D2(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Ya),{pathname:i}=zc(),s=JSON.stringify(Y3(r).map(o=>o.pathnameBase));return E.useMemo(()=>Q3(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function kN(t,e){bf()||ln(!1);let{navigator:n}=E.useContext(xf),r=E.useContext(I2),{matches:i}=E.useContext(Ya),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=zc(),c;if(e){var u;let m=typeof e=="string"?Uc(e):e;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||ln(!1),c=m}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=qM(t,{pathname:f}),h=IN(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:ho([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:ho([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&h?E.createElement(R0.Provider,{value:{location:U1({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:no.Pop}},h):h}function AN(){let t=NN(),e=pN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}class LN extends E.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Ya.Provider,{value:this.props.routeContext},E.createElement(J3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PN(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(X3);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ya.Provider,{value:e},r)}function IN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ln(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||E.createElement(AN,null):null,u=e.concat(r.slice(0,a+1)),d=()=>E.createElement(PN,{match:o,routeContext:{outlet:s,matches:u}},l?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?E.createElement(LN,{location:n.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()},null)}var OT;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(OT||(OT={}));var lm;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(lm||(lm={}));function DN(t){let e=E.useContext(I2);return e||ln(!1),e}function ON(t){let e=E.useContext(Ya);return e||ln(!1),e}function MN(t){let e=ON(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function NN(){var t;let e=E.useContext(J3),n=DN(lm.UseRouteError),r=MN(lm.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Je(t){ln(!1)}function FN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=no.Pop,navigator:s,static:o=!1}=t;bf()&&ln(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Uc(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=r,h=E.useMemo(()=>{let m=q3(c,a);return m==null?null:{pathname:m,search:u,hash:d,state:f,key:p}},[a,c,u,d,f,p]);return h==null?null:E.createElement(xf.Provider,{value:l},E.createElement(R0.Provider,{children:n,value:{location:h,navigationType:i}}))}function $N(t){let{children:e,location:n}=t,r=E.useContext(X3),i=r&&!e?r.router.routes:z1(e);return kN(i,n)}var MT;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(MT||(MT={}));new Promise(()=>{});function z1(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;if(r.type===E.Fragment){n.push.apply(n,z1(r.props.children,e));return}r.type!==Je&&ln(!1),!r.props.index||!r.props.children||ln(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=z1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function Z3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jN(t,e){return t.button===0&&(!e||e==="_self")&&!BN(t)}const UN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],zN=["aria-current","caseSensitive","className","end","style","to","children"];function VN(t){let{basename:e,children:n,window:r}=t,i=E.useRef();i.current==null&&(i.current=HM({window:r,v5Compat:!0}));let s=i.current,[o,a]=E.useState({action:s.action,location:s.location});return E.useLayoutEffect(()=>s.listen(a),[s]),E.createElement(FN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const KN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qt=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=Z3(e,UN),f=typeof c=="string"?c:Cd(c),p=/^[a-z+]+:\/\//i.test(f)||f.startsWith("//"),h=f,m=!1;if(KN&&p){let b=new URL(window.location.href),S=f.startsWith("//")?new URL(b.protocol+f):new URL(f);S.origin===b.origin?h=S.pathname+S.search+S.hash:m=!0}let v=RN(h,{relative:i}),y=HN(h,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function x(b){r&&r(b),b.defaultPrevented||y(b)}return E.createElement("a",cm({},d,{href:p?f:v,onClick:m||s?r:x,ref:n,target:l}))}),Mr=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:c}=e,u=Z3(e,zN),d=D2(l,{relative:u.relative}),f=zc(),p=E.useContext(I2),{navigator:h}=E.useContext(xf),m=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,v=f.pathname,y=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(v=v.toLowerCase(),y=y?y.toLowerCase():null,m=m.toLowerCase());let x=v===m||!o&&v.startsWith(m)&&v.charAt(m.length)==="/",b=y!=null&&(y===m||!o&&y.startsWith(m)&&y.charAt(m.length)==="/"),S=x?r:void 0,w;typeof s=="function"?w=s({isActive:x,isPending:b}):w=[s,x?"active":null,b?"pending":null].filter(Boolean).join(" ");let _=typeof a=="function"?a({isActive:x,isPending:b}):a;return E.createElement(Qt,cm({},u,{"aria-current":S,className:w,ref:n,style:_,to:l}),typeof c=="function"?c({isActive:x,isPending:b}):c)});var NT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(NT||(NT={}));var FT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FT||(FT={}));function HN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Vc(),l=zc(),c=D2(t,{relative:o});return E.useCallback(u=>{if(jN(u,n)){u.preventDefault();let d=r!==void 0?r:Cd(l)===Cd(c);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}function e4(t,e){return function(){return t.apply(e,arguments)}}const{toString:t4}=Object.prototype,{getPrototypeOf:O2}=Object,M2=(t=>e=>{const n=t4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Es=t=>(t=t.toLowerCase(),e=>M2(e)===t),k0=t=>e=>typeof e===t,{isArray:Kc}=Array,Rd=k0("undefined");function GN(t){return t!==null&&!Rd(t)&&t.constructor!==null&&!Rd(t.constructor)&&Da(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const n4=Es("ArrayBuffer");function WN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&n4(t.buffer),e}const qN=k0("string"),Da=k0("function"),r4=k0("number"),N2=t=>t!==null&&typeof t=="object",YN=t=>t===!0||t===!1,ap=t=>{if(M2(t)!=="object")return!1;const e=O2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},QN=Es("Date"),XN=Es("File"),JN=Es("Blob"),ZN=Es("FileList"),eF=t=>N2(t)&&Da(t.pipe),tF=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||t4.call(t)===e||Da(t.toString)&&t.toString()===e)},nF=Es("URLSearchParams"),rF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Kc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function i4(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const s4=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),o4=t=>!Rd(t)&&t!==s4;function V1(){const{caseless:t}=o4(this)&&this||{},e={},n=(r,i)=>{const s=t&&i4(e,i)||i;ap(e[s])&&ap(r)?e[s]=V1(e[s],r):ap(r)?e[s]=V1({},r):Kc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wf(arguments[r],n);return e}const iF=(t,e,n,{allOwnKeys:r}={})=>(wf(e,(i,s)=>{n&&Da(i)?t[s]=e4(i,n):t[s]=i},{allOwnKeys:r}),t),sF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),oF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},aF=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&O2(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},lF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},cF=t=>{if(!t)return null;if(Kc(t))return t;let e=t.length;if(!r4(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},uF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&O2(Uint8Array)),dF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},fF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},hF=Es("HTMLFormElement"),pF=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$T=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),mF=Es("RegExp"),a4=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wf(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},gF=t=>{a4(t,(e,n)=>{if(Da(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Da(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vF=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Kc(t)?r(t):r(String(t).split(e)),n},yF=()=>{},xF=(t,e)=>(t=+t,Number.isFinite(t)?t:e),bF=t=>{const e=new Array(10),n=(r,i)=>{if(N2(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Kc(r)?[]:{};return wf(r,(o,a)=>{const l=n(o,i+1);!Rd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Y={isArray:Kc,isArrayBuffer:n4,isBuffer:GN,isFormData:tF,isArrayBufferView:WN,isString:qN,isNumber:r4,isBoolean:YN,isObject:N2,isPlainObject:ap,isUndefined:Rd,isDate:QN,isFile:XN,isBlob:JN,isRegExp:mF,isFunction:Da,isStream:eF,isURLSearchParams:nF,isTypedArray:uF,isFileList:ZN,forEach:wf,merge:V1,extend:iF,trim:rF,stripBOM:sF,inherits:oF,toFlatObject:aF,kindOf:M2,kindOfTest:Es,endsWith:lF,toArray:cF,forEachEntry:dF,matchAll:fF,isHTMLForm:hF,hasOwnProperty:$T,hasOwnProp:$T,reduceDescriptors:a4,freezeMethods:gF,toObjectSet:vF,toCamelCase:pF,noop:yF,toFiniteNumber:xF,findKey:i4,global:s4,isContextDefined:o4,toJSONObject:bF};function We(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Y.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const l4=We.prototype,c4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{c4[t]={value:t}});Object.defineProperties(We,c4);Object.defineProperty(l4,"isAxiosError",{value:!0});We.from=(t,e,n,r,i,s)=>{const o=Object.create(l4);return Y.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),We.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var wF=typeof self=="object"?self.FormData:window.FormData;const SF=wF;function K1(t){return Y.isPlainObject(t)||Y.isArray(t)}function u4(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function BT(t,e,n){return t?t.concat(e).map(function(i,s){return i=u4(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function EF(t){return Y.isArray(t)&&!t.some(K1)}const TF=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function _F(t){return t&&Y.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function A0(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new(SF||FormData),n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!Y.isUndefined(v[m])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_F(e);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(Y.isDate(h))return h.toISOString();if(!l&&Y.isBlob(h))throw new We("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(h)||Y.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,v){let y=h;if(h&&!v&&typeof h=="object"){if(Y.endsWith(m,"{}"))m=r?m:m.slice(0,-2),h=JSON.stringify(h);else if(Y.isArray(h)&&EF(h)||Y.isFileList(h)||Y.endsWith(m,"[]")&&(y=Y.toArray(h)))return m=u4(m),y.forEach(function(b,S){!(Y.isUndefined(b)||b===null)&&e.append(o===!0?BT([m],S,s):o===null?m:m+"[]",c(b))}),!1}return K1(h)?!0:(e.append(BT(v,m,s),c(h)),!1)}const d=[],f=Object.assign(TF,{defaultVisitor:u,convertValue:c,isVisitable:K1});function p(h,m){if(!Y.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),Y.forEach(h,function(y,x){(!(Y.isUndefined(y)||y===null)&&i.call(e,y,Y.isString(x)?x.trim():x,m,f))===!0&&p(y,m?m.concat(x):[x])}),d.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return p(t),e}function jT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function F2(t,e){this._pairs=[],t&&A0(t,this,e)}const d4=F2.prototype;d4.append=function(e,n){this._pairs.push([e,n])};d4.toString=function(e){const n=e?function(r){return e.call(this,r,jT)}:jT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function CF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function f4(t,e,n){if(!e)return t;const r=n&&n.encode||CF,i=n&&n.serialize;let s;if(i?s=i(e,n):s=Y.isURLSearchParams(e)?e.toString():new F2(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class RF{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const UT=RF,h4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kF=typeof URLSearchParams<"u"?URLSearchParams:F2,AF=FormData,LF=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),PF=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Mi={isBrowser:!0,classes:{URLSearchParams:kF,FormData:AF,Blob},isStandardBrowserEnv:LF,isStandardBrowserWebWorkerEnv:PF,protocols:["http","https","file","blob","url","data"]};function IF(t,e){return A0(t,new Mi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Mi.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function DF(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function OF(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function p4(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Y.isArray(i)?i.length:o,l?(Y.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Y.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Y.isArray(i[o])&&(i[o]=OF(i[o])),!a)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,i)=>{e(DF(r),i,n,0)}),n}return null}const MF={"Content-Type":void 0};function NF(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const L0={transitional:h4,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Y.isObject(e);if(s&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return i&&i?JSON.stringify(p4(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IF(e,this.formSerializer).toString();if((a=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return A0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),NF(e)):e}],transformResponse:[function(e){const n=this.transitional||L0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&Y.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?We.from(a,We.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mi.classes.FormData,Blob:Mi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Y.forEach(["delete","get","head"],function(e){L0.headers[e]={}});Y.forEach(["post","put","patch"],function(e){L0.headers[e]=Y.merge(MF)});const $2=L0,FF=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$F=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&FF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},zT=Symbol("internals");function cu(t){return t&&String(t).trim().toLowerCase()}function lp(t){return t===!1||t==null?t:Y.isArray(t)?t.map(lp):String(t)}function BF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function jF(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function VT(t,e,n,r){if(Y.isFunction(r))return r.call(this,e,n);if(Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function UF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function zF(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class P0{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=cu(l);if(!u)throw new Error("header name must be a non-empty string");const d=Y.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=lp(a))}const o=(a,l)=>Y.forEach(a,(c,u)=>s(c,u,l));return Y.isPlainObject(e)||e instanceof this.constructor?o(e,n):Y.isString(e)&&(e=e.trim())&&!jF(e)?o($F(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=cu(e),e){const r=Y.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return BF(i);if(Y.isFunction(n))return n.call(this,i,r);if(Y.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=cu(e),e){const r=Y.findKey(this,e);return!!(r&&(!n||VT(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=cu(o),o){const a=Y.findKey(r,o);a&&(!n||VT(r,r[a],a,n))&&(delete r[a],i=!0)}}return Y.isArray(e)?e.forEach(s):s(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const n=this,r={};return Y.forEach(this,(i,s)=>{const o=Y.findKey(r,s);if(o){n[o]=lp(i),delete n[s];return}const a=e?UF(s):String(s).trim();a!==s&&delete n[s],n[a]=lp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[zT]=this[zT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=cu(o);r[a]||(zF(i,o),r[a]=!0)}return Y.isArray(e)?e.forEach(s):s(e),this}}P0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.freezeMethods(P0.prototype);Y.freezeMethods(P0);const hs=P0;function Lv(t,e){const n=this||$2,r=e||n,i=hs.from(r.headers);let s=r.data;return Y.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function m4(t){return!!(t&&t.__CANCEL__)}function Sf(t,e,n){We.call(this,t??"canceled",We.ERR_CANCELED,e,n),this.name="CanceledError"}Y.inherits(Sf,We,{__CANCEL__:!0});const VF=null;function KF(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const HF=Mi.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),Y.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Y.isString(s)&&l.push("path="+s),Y.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function GF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function WF(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function g4(t,e){return t&&!GF(e)?WF(t,e):e}const qF=Mi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=Y.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function YF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function QF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function KT(t,e){let n=0;const r=QF(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const XF=typeof XMLHttpRequest<"u",JF=XF&&function(t){return new Promise(function(n,r){let i=t.data;const s=hs.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}Y.isFormData(i)&&(Mi.isStandardBrowserEnv||Mi.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+h))}const u=g4(t.baseURL,t.url);c.open(t.method.toUpperCase(),f4(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const p=hs.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};KF(function(y){n(y),l()},function(y){r(y),l()},m),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new We("Request aborted",We.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new We("Network Error",We.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let h=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||h4;t.timeoutErrorMessage&&(h=t.timeoutErrorMessage),r(new We(h,m.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,c)),c=null},Mi.isStandardBrowserEnv){const p=(t.withCredentials||qF(u))&&t.xsrfCookieName&&HF.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&Y.forEach(s.toJSON(),function(h,m){c.setRequestHeader(m,h)}),Y.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",KT(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",KT(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new Sf(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=YF(u);if(f&&Mi.protocols.indexOf(f)===-1){r(new We("Unsupported protocol "+f+":",We.ERR_BAD_REQUEST,t));return}c.send(i||null)})},cp={http:VF,xhr:JF};Y.forEach(cp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ZF={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=Y.isString(n)?cp[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new We(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Y.hasOwnProp(cp,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Y.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:cp};function Pv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sf(null,t)}function HT(t){return Pv(t),t.headers=hs.from(t.headers),t.data=Lv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZF.getAdapter(t.adapter||$2.adapter)(t).then(function(r){return Pv(t),r.data=Lv.call(t,t.transformResponse,r),r.headers=hs.from(r.headers),r},function(r){return m4(r)||(Pv(t),r&&r.response&&(r.response.data=Lv.call(t,t.transformResponse,r.response),r.response.headers=hs.from(r.response.headers))),Promise.reject(r)})}const GT=t=>t instanceof hs?t.toJSON():t;function Tc(t,e){e=e||{};const n={};function r(c,u,d){return Y.isPlainObject(c)&&Y.isPlainObject(u)?Y.merge.call({caseless:d},c,u):Y.isPlainObject(u)?Y.merge({},u):Y.isArray(u)?u.slice():u}function i(c,u,d){if(Y.isUndefined(u)){if(!Y.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!Y.isUndefined(u))return r(void 0,u)}function o(c,u){if(Y.isUndefined(u)){if(!Y.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(GT(c),GT(u),!0)};return Y.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const d=l[u]||i,f=d(t[u],e[u],u);Y.isUndefined(f)&&d!==a||(n[u]=f)}),n}const v4="1.2.6",B2={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{B2[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const WT={};B2.transitional=function(e,n,r){function i(s,o){return"[Axios v"+v4+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new We(i(o," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!WT[o]&&(WT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function e9(t,e,n){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new We("option "+s+" must be "+l,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+s,We.ERR_BAD_OPTION)}}const H1={assertOptions:e9,validators:B2},ks=H1.validators;class um{constructor(e){this.defaults=e,this.interceptors={request:new UT,response:new UT}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Tc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&H1.assertOptions(r,{silentJSONParsing:ks.transitional(ks.boolean),forcedJSONParsing:ks.transitional(ks.boolean),clarifyTimeoutError:ks.transitional(ks.boolean)},!1),i!==void 0&&H1.assertOptions(i,{encode:ks.function,serialize:ks.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&Y.merge(s.common,s[n.method]),o&&Y.forEach(["delete","get","head","post","put","patch","common"],h=>{delete s[h]}),n.headers=hs.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const h=[HT.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,c),f=h.length,u=Promise.resolve(n);d<f;)u=u.then(h[d++],h[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const h=a[d++],m=a[d++];try{p=h(p)}catch(v){m.call(this,v);break}}try{u=HT.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Tc(this.defaults,e);const n=g4(e.baseURL,e.url);return f4(n,e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(e){um.prototype[e]=function(n,r){return this.request(Tc(r||{},{method:e,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Tc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}um.prototype[e]=n(),um.prototype[e+"Form"]=n(!0)});const up=um;class j2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Sf(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new j2(function(i){e=i}),cancel:e}}}const t9=j2;function n9(t){return function(n){return t.apply(null,n)}}function r9(t){return Y.isObject(t)&&t.isAxiosError===!0}const G1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(G1).forEach(([t,e])=>{G1[e]=t});const i9=G1;function y4(t){const e=new up(t),n=e4(up.prototype.request,e);return Y.extend(n,up.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return y4(Tc(t,i))},n}const cn=y4($2);cn.Axios=up;cn.CanceledError=Sf;cn.CancelToken=t9;cn.isCancel=m4;cn.VERSION=v4;cn.toFormData=A0;cn.AxiosError=We;cn.Cancel=cn.CanceledError;cn.all=function(e){return Promise.all(e)};cn.spread=n9;cn.isAxiosError=r9;cn.mergeConfig=Tc;cn.AxiosHeaders=hs;cn.formToJSON=t=>p4(Y.isHTMLForm(t)?new FormData(t):t);cn.HttpStatusCode=i9;cn.default=cn;const Qn=cn;let s9={data:""},o9=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||s9,a9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l9=/\/\*[^]*?\*\/|  +/g,qT=/\n+/g,Ks=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ks(o,s):s+"{"+Ks(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ks(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ks.p?Ks.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Yi={},x4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+x4(t[n]);return e}return t},c9=(t,e,n,r,i)=>{let s=x4(t),o=Yi[s]||(Yi[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Yi[o]){let l=s!==t?t:(c=>{let u,d,f=[{}];for(;u=a9.exec(c.replace(l9,""));)u[4]?f.shift():u[3]?(d=u[3].replace(qT," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(qT," ").trim();return f[0]})(t);Yi[o]=Ks(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Yi.g?Yi.g:null;return n&&(Yi.g=Yi[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Yi[o],e,r,a),o},u9=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ks(a,""):a===!1?"":a}return r+i+(o??"")},"");function I0(t){let e=this||{},n=t.call?t(e.p):t;return c9(n.unshift?n.raw?u9(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,o9(e.target),e.g,e.o,e.k)}let b4,W1,q1;I0.bind({g:1});let bs=I0.bind({k:1});function d9(t,e,n,r){Ks.p=e,b4=t,W1=n,q1=r}function Mo(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:W1&&W1()},a),n.o=/ *go\d+/.test(l),a.className=I0.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),q1&&c[0]&&q1(a),b4(c,a)}return e?e(i):i}}var f9=t=>typeof t=="function",dm=(t,e)=>f9(t)?t(e):t,h9=(()=>{let t=0;return()=>(++t).toString()})(),w4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),p9=20,dp=new Map,m9=1e3,YT=t=>{if(dp.has(t))return;let e=setTimeout(()=>{dp.delete(t),Xa({type:4,toastId:t})},m9);dp.set(t,e)},g9=t=>{let e=dp.get(t);e&&clearTimeout(e)},Y1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,p9)};case 1:return e.toast.id&&g9(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?Y1(t,{type:1,toast:n}):Y1(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?YT(r):t.toasts.forEach(s=>{YT(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},fp=[],hp={toasts:[],pausedAt:void 0},Xa=t=>{hp=Y1(hp,t),fp.forEach(e=>{e(hp)})},v9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},y9=(t={})=>{let[e,n]=E.useState(hp);E.useEffect(()=>(fp.push(n),()=>{let i=fp.indexOf(n);i>-1&&fp.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||v9[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},x9=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||h9()}),Ef=t=>(e,n)=>{let r=x9(e,t,n);return Xa({type:2,toast:r}),r.id},gr=(t,e)=>Ef("blank")(t,e);gr.error=Ef("error");gr.success=Ef("success");gr.loading=Ef("loading");gr.custom=Ef("custom");gr.dismiss=t=>{Xa({type:3,toastId:t})};gr.remove=t=>Xa({type:4,toastId:t});gr.promise=(t,e,n)=>{let r=gr.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(gr.success(dm(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{gr.error(dm(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var b9=(t,e)=>{Xa({type:1,toast:{id:t,height:e}})},w9=()=>{Xa({type:5,time:Date.now()})},S9=t=>{let{toasts:e,pausedAt:n}=y9(t);E.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&gr.dismiss(a.id);return}return setTimeout(()=>gr.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&Xa({type:6,time:Date.now()})},[n]),i=E.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),d=u.findIndex(p=>p.id===s.id),f=u.filter((p,h)=>h<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,h)=>p+(h.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:b9,startPause:w9,endPause:r,calculateOffset:i}}},E9=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,T9=bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_9=bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C9=Mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${E9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${T9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,R9=bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,k9=Mo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${R9} 1s linear infinite;
`,A9=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,L9=bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,P9=Mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${A9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${L9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,I9=Mo("div")`
  position: absolute;
`,D9=Mo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,O9=bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M9=Mo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${O9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,N9=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(M9,null,e):e:n==="blank"?null:E.createElement(D9,null,E.createElement(k9,{...r}),n!=="loading"&&E.createElement(I9,null,n==="error"?E.createElement(C9,{...r}):E.createElement(P9,{...r})))},F9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,B9="0%{opacity:0;} 100%{opacity:1;}",j9="0%{opacity:1;} 100%{opacity:0;}",U9=Mo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,z9=Mo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,V9=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=w4()?[B9,j9]:[F9(n),$9(n)];return{animation:e?`${bs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},K9=E.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?V9(t.position||e||"top-center",t.visible):{opacity:0},s=E.createElement(N9,{toast:t}),o=E.createElement(z9,{...t.ariaProps},dm(t.message,t));return E.createElement(U9,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):E.createElement(E.Fragment,null,s,o))});d9(E.createElement);var H9=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:s,className:e,style:n},i)},G9=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:w4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},W9=I0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ch=16,q9=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=S9(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:ch,left:ch,right:ch,bottom:ch,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=G9(u,d);return E.createElement(H9,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?W9:"",style:f},c.type==="custom"?dm(c.message,c):i?i(c):E.createElement(K9,{toast:c,position:u}))}))},ke=gr;const il="http://localhost:11000",Au="http://localhost:11000",uu="http://localhost:12000",at=()=>{const t=localStorage.getItem("token");return console.log(localStorage.getItem("token")),Qn.create({baseURL:Au,headers:{Authorization:`Bearer ${t??""}`}})},De={SingleArtist:async t=>{const n=(await at().get(`/artists/${t}`)).data||[];return console.log(n),n},SingleAlbum:async t=>(await Qn.get(`${il}/albums?id=${t}`)).data.data||[],hideComment:async t=>(await at().put(`/songs/${t}/commenthide`)).data||[],unhideComment:async t=>(await at().put(`/songs/${t}/commentunhide`)).data||[],hideTrack:async t=>(await at().put(`/songs/${t}/trackhide`)).data||[],unhideTrack:async t=>(await at().put(`/songs/${t}/trackunhide`)).data||[],blockTrack:async t=>(await at().put(`/songs/${t}/blockTrack`)).data||[],unblockTrack:async t=>(await at().put(`/songs/${t}/unblockTrack`)).data||[],addToPlaylist:async t=>{var e;try{return(await at().post(`/songs/${t.playlistId}/playlist/addsong/${t.trackID}`)).data}catch(n){throw new Error(((e=n.response)==null?void 0:e.error)||n||"An error occurred")}},getTopArtists:async()=>{const t=await at().get("/artists/top");return console.log(t.data),t.data},getUserPlaylists:async()=>{const t=await at().get("/beatstreet/api/users/allplaylist");return console.log(t.data),t.data},addComment:async(t,e)=>{const n=await at().post(`/songs/${t}/comments`,e);return console.log(t),console.log(n),n.data},getComments:async t=>(await at().get(`/songs/${t}/comments`)).data,addLike:async t=>(await at().post(`/songs/${t}/likes`)).data,removeLike:async t=>(await at().delete(`/songs/${t}/likes`)).data,blockCommentAbility:async t=>(await at().put(`${uu}/users/${t}/blockcomments`)).data,unblockCommentAbility:async t=>(await at().put(`${uu}/users/${t}/unblockcomments`)).data,isCommentAbilityBlocked:async t=>(await at().get(`${uu}/users/${t}/isCommentBlocked`)).data.commentBlocked,getLikeCount:async t=>{const e=await at().get(`/songs/${t}/likes`);return console.log(e.data.likes),e.data.likes},isTrackLiked:async t=>(await at().get(`/songs/${t}/isLiked`)).data.liked,isUserSubscribed:async t=>{const e=await at().get(`${uu}/users/${t}/isSubscribed`);return console.log(),e.data.subscribed},addRepost:async t=>(await at().post(`/songs/${t}/reposts`)).data,removeRepost:async t=>(await at().delete(`/songs/${t}/reposts`)).data,getRepostCount:async t=>(await at().get(`/songs/${t}/reposts`)).data.reposts,isTrackReposted:async t=>(await at().get(`/songs/${t}/isReposted`)).data.reposted,CountListen:async t=>{const e=await at().post(`${Au}/songs/${t.songId}/listens`,t);return console.log(t),e||[]},getGlobalStatistics:async t=>(await at().get(`${Au}/globalstatistics?days=${t}`)).data||[],getListenCount:async t=>{const e=await at().get(`/songs/${t}/listens`);return console.log(e.data.track_listens),e.data.track_listens},getSongStatistics:async t=>(await at().get(`/songs/${t}/statistics`)).data,ArtistSongs:async({id:t,pageParam:e})=>{try{const n=await Qn.get(`${Au}/artists/${t}/tracks?page=${e}`);return console.log("Response Data:",n.data),n.data.data||[]}catch(n){return console.log("Error fetching artist songs:",n),[]}},ArtistAlbum:async({id:t,pageParam:e})=>{try{const r=(await Qn.get(`${il}/artists/${t}/albums?page=${e}`)).data.data||[];return r==null?void 0:r.albums}catch(n){console.log(n)}},SinglePlaylist:async({id:t,pageParam:e=1})=>{const r=(await Qn.get(`${il}/playlists/${t}?page=${e}`)).data||[];return console.log(r),r},SingleSong:async t=>{try{const n=(await Qn.get(`${Au}/songs/${t}/info`)).data;return console.log(n),n}catch(e){console.log("error",e)}},GetM3U8File:async t=>{try{const e=await Qn.get(`${il}/songs/${t}`);if(console.log("M3U8 file response:",e),!e)throw new Error("Invalid M3U8 response format");return e}catch(e){return console.error("Error fetching M3U8 file:",e),null}},MulitpleSongs:async t=>{try{return(await Qn.get(`${il}/songs/${t}`)).data.data}catch(e){console.log("error",e)}},GlobalSearch:async(t,e,n,r,i)=>{const s=await at().get(`${uu}/search`,{params:{q:t,type:e.join(","),genre:n,sort:r,order:i}});return console.log(s.data),s.data},getSongFromSaavn:async t=>{let e=t.replace(/[^\w\s]/gi," ").replace(/\s+/g," ").split(" ").join("+");try{return(await Qn.get(`${il}/search/songs?query=${e}&page=1&limit=10`)).data.data}catch(n){console.log(n)}},getSpotifyPlaylists:async t=>{try{return(await Qn.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer "+t,"Content-Type":"apllication/json"}})).data.items}catch(e){return console.log(e),e}},getSpotifyPlaylistSongs:async({token:t,id:e,name:n,image:r})=>new Promise((i,s)=>{try{Qn.get(`https://api.spotify.com/v1/playlists/${e}/tracks`,{headers:{Authorization:"Bearer "+t,"Content-Type":"apllication/json"}}).then(o=>{const a=o.data.items;let l=[],c=a.map(u=>{let d=u.track;if(d.track&&d.name!==""){let p={name:d.name.replace(/\([^)]*\)/g,"").trim(),artistName:d.artists[0].name};return new Promise((h,m)=>{setTimeout(()=>{De.getSongFromSaavn(p.name).then(v=>{let y=v==null?void 0:v.results.find(x=>{if(x.name===p.name)return x});y?(h(y.id),ke.success(` ${p.name} by ${p.artistName} imported successfully`,{position:"top-left"})):(ke.error(`${p.name} by ${p.artistName} not found`,{position:"top-right"}),h(null))}).catch(v=>{console.log(v),h(null)})},3e3)})}});Promise.all(c).then(async u=>{l=u.filter(f=>f!==null);let d={name:n??Math.random().toString(36).substring(7),image:r,songsIds:l};if(l.length===0)ke.error("No songs found in the playlist");else{const f=await Bt.addNewPlaylist(d);i(f)}})})}catch(o){s(o)}})},pp="http://localhost:12000",uh="http://localhost:11000",zt=()=>{const t=pp,e=localStorage.getItem("token");return console.log(localStorage.getItem("token")),Qn.create({baseURL:t,headers:{Authorization:`Bearer ${e??""}`}})},Bt={Login:async t=>{var e;try{const r=(await zt().post("/beatstreet/api/users/login",t)).data;return console.log(r),r}catch(n){throw((e=n.response)==null?void 0:e.data)||new Error(" ")}},Register:async t=>{var e;try{return(await zt().post(pp+"/beatstreet/api/users/signup",t)).data}catch(n){throw((e=n.response)==null?void 0:e.data)||new Error(" ")}},sendVerification:async t=>{try{return(await zt().post(pp+"/beatstreet/api/users/verficationtoken",t)).data}catch(e){console.log(e)}},userVerification:async t=>(await zt().post(pp+"/beatstreet/api/users/verify",t)).data,followUser:async t=>{var e;try{const n=await zt().post(`/beatstreet/api/users/follow/${t}`);return console.log(n.data),n.data}catch(n){throw((e=n.response)==null?void 0:e.data)||new Error(" ")}},unfollowUser:async t=>{var e;try{const n=await zt().delete(`/beatstreet/api/users/unfollow/${t}`);return console.log(n.data),n.data}catch(n){throw((e=n.response)==null?void 0:e.data)||new Error(" ")}},getFollowers:async t=>{var e;try{const n=await zt().get(`/beatstreet/api/users/followers/${t}`);return console.log(n.data),n.data}catch(n){throw((e=n.response)==null?void 0:e.data)||new Error(" ")}},getFollowing:async t=>{var e;try{const n=await zt().get(`/beatstreet/api/users/following/${t}`);return console.log(n.data),n.data}catch(n){throw((e=n.response)==null?void 0:e.data)||new Error(" ")}},RemovePlaylistSong:async t=>{try{return(await zt().post("/beatstreet/api/users/removesongsplaylist",t)).data}catch(e){console.log(e)}},Autologin:async()=>{try{const e=(await zt().get("/beatstreet/api/users/isloggedin")).data;return console.log(e),e}catch(t){console.log("error",t)}},getRecentSongs:async t=>{try{const r=(await zt().get("/beatstreet/api/users/recentsongs")).data.data.join(",");return await De.MulitpleSongs(r)}catch(e){console.log(e)}},UploadSong:async t=>{var e,n;try{return(await zt().post(`${uh}/songs/upload`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("   :",r),new Error(((n=(e=r.response)==null?void 0:e.data)==null?void 0:n.error)||" ")}},getFavoritesSongs:async()=>{const e=(await zt().get(`${uh}/beatstreet/api/users/favoritesongs`)).data;return console.log(e),e},getAllPlaylist:async()=>{try{return(await zt().get(uh+"/beatstreet/api/users/allplaylist")).data}catch(t){console.log(t)}},getSinglePlaylist:async t=>{try{return await zt().get(`/beatstreet/api/users/getsingleplaylist/${t}`).then(async n=>{var r,i,s,o;if((i=(r=n==null?void 0:n.data)==null?void 0:r.data)!=null&&i.songIds&&((o=(s=n==null?void 0:n.data)==null?void 0:s.data)==null?void 0:o.songIds.length)>0){const a=n.data.data.songIds.join(","),l=await De.MulitpleSongs(a);return{...n.data.data,songs:l}}else return{...n.data.data,songs:[]}})}catch(e){return e}},addRecentSong:async t=>{try{await zt().get(`/beatstreet/api/users/recentsongs/${t}`)}catch(e){console.log(e)}},addFavoriteSong:async t=>(await zt().get(`/beatstreet/api/users/favoritesongs/${t}`)).data,addNewPlaylist:async t=>{try{return(await zt().post(uh+"/beatstreet/api/users/addnewplaylist",t)).data}catch(e){return e}},DeletePlaylist:async t=>(await zt().delete(`/beatstreet/api/users/removeplaylist/${t}`)).data,RenamePlaylist:async t=>(await zt().post("/beatstreet/api/users/updateplaylist",t)).data,getHomepage:async()=>{const e=(await zt().get("/beatstreet/api/music/homepage")).data;return console.log(e),e}};var Hc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_c=typeof window>"u"||"Deno"in globalThis;function $r(){}function Y9(t,e){return typeof t=="function"?t(e):t}function Q1(t){return typeof t=="number"&&t>=0&&t!==1/0}function S4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function QT(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==U2(o,e.options))return!1}else if(!kd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function XT(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Oa(e.options.mutationKey)!==Oa(s))return!1}else if(!kd(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function U2(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oa)(t)}function Oa(t){return JSON.stringify(t,(e,n)=>X1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function kd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!kd(t[n],e[n])):!1}function E4(t,e){if(t===e)return t;const n=JT(t)&&JT(e);if(n||X1(t)&&X1(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];!n&&t[u]===void 0&&e[u]===void 0&&r.includes(u)?(a[u]=void 0,l++):(a[u]=E4(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function fm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function JT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function X1(t){if(!ZT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ZT(n)||!n.hasOwnProperty("isPrototypeOf"))}function ZT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Q9(t){return new Promise(e=>{setTimeout(e,t)})}function J1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?E4(t,e):e}function X9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function J9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var z2=Symbol(),ha,Gs,nc,CA,Z9=(CA=class extends Hc{constructor(){super();de(this,ha,void 0);de(this,Gs,void 0);de(this,nc,void 0);ie(this,nc,e=>{if(!_c&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Gs)||this.setEventListener(F(this,nc))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Gs))==null||e.call(this),ie(this,Gs,void 0))}setEventListener(e){var n;ie(this,nc,e),(n=F(this,Gs))==null||n.call(this),ie(this,Gs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,ha)!==e&&(ie(this,ha,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,ha)=="boolean"?F(this,ha):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ha=new WeakMap,Gs=new WeakMap,nc=new WeakMap,CA),V2=new Z9,rc,Ws,ic,RA,e7=(RA=class extends Hc{constructor(){super();de(this,rc,!0);de(this,Ws,void 0);de(this,ic,void 0);ie(this,ic,e=>{if(!_c&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Ws)||this.setEventListener(F(this,ic))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ws))==null||e.call(this),ie(this,Ws,void 0))}setEventListener(e){var n;ie(this,ic,e),(n=F(this,Ws))==null||n.call(this),ie(this,Ws,e(this.setOnline.bind(this)))}setOnline(e){F(this,rc)!==e&&(ie(this,rc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,rc)}},rc=new WeakMap,Ws=new WeakMap,ic=new WeakMap,RA),hm=new e7;function t7(t){return Math.min(1e3*2**t,3e4)}function D0(t){return(t??"online")==="online"?hm.isOnline():!0}var T4=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Iv(t){return t instanceof T4}function _4(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((v,y)=>{s=v,o=y}),l=v=>{var y;r||(p(new T4(v)),(y=t.abort)==null||y.call(t))},c=()=>{e=!0},u=()=>{e=!1},d=()=>!V2.isFocused()||t.networkMode!=="always"&&!hm.isOnline(),f=v=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,v),i==null||i(),s(v))},p=v=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,v),i==null||i(),o(v))},h=()=>new Promise(v=>{var y;i=x=>{const b=r||!d();return b&&v(x),b},(y=t.onPause)==null||y.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),m=()=>{if(r)return;let v;try{v=t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(f).catch(y=>{var _;if(r)return;const x=t.retry??(_c?0:3),b=t.retryDelay??t7,S=typeof b=="function"?b(n,y):b,w=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,y);if(e||!w){p(y);return}n++,(_=t.onFail)==null||_.call(t,n,y),Q9(S).then(()=>{if(d())return h()}).then(()=>{e?p(y):m()})})};return D0(t.networkMode)?m():h().then(m),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:u}}function n7(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const s=f=>{i=f},o=f=>{let p;e++;try{p=f()}finally{e--,e||c()}return p},a=f=>{e?t.push(f):i(()=>{n(f)})},l=f=>(...p)=>{a(()=>{f(...p)})},c=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(p=>{n(p)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:s}}var sn=n7(),pa,kA,C4=(kA=class{constructor(){de(this,pa,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Q1(this.gcTime)&&ie(this,pa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_c?1/0:5*60*1e3))}clearGcTimeout(){F(this,pa)&&(clearTimeout(F(this,pa)),ie(this,pa,void 0))}},pa=new WeakMap,kA),sc,oc,Nr,Bn,hn,ef,ma,ri,ts,AA,r7=(AA=class extends C4{constructor(e){super();de(this,ri);de(this,sc,void 0);de(this,oc,void 0);de(this,Nr,void 0);de(this,Bn,void 0);de(this,hn,void 0);de(this,ef,void 0);de(this,ma,void 0);ie(this,ma,!1),ie(this,ef,e.defaultOptions),this.setOptions(e.options),ie(this,hn,[]),ie(this,Nr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,sc,e.state||i7(this.options)),this.state=F(this,sc),this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...F(this,ef),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!F(this,hn).length&&this.state.fetchStatus==="idle"&&F(this,Nr).remove(this)}setData(e,n){const r=J1(this.state.data,e,this.options);return Oe(this,ri,ts).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Oe(this,ri,ts).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=F(this,Bn))==null?void 0:r.promise;return(i=F(this,Bn))==null||i.cancel(e),n?n.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,sc))}isActive(){return F(this,hn).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?F(this,hn).some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!S4(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=F(this,hn).find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Bn))==null||n.continue()}onOnline(){var n;const e=F(this,hn).find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,Bn))==null||n.continue()}addObserver(e){F(this,hn).includes(e)||(F(this,hn).push(e),this.clearGcTimeout(),F(this,Nr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){F(this,hn).includes(e)&&(ie(this,hn,F(this,hn).filter(n=>n!==e)),F(this,hn).length||(F(this,Bn)&&(F(this,ma)?F(this,Bn).cancel({revert:!0}):F(this,Bn).cancelRetry()),this.scheduleGc()),F(this,Nr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return F(this,hn).length}invalidate(){this.state.isInvalidated||Oe(this,ri,ts).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,Bn))return F(this,Bn).continueRetry(),F(this,Bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=F(this,hn).find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ie(this,ma,!0),r.signal)})};s(i);const o=()=>!this.options.queryFn||this.options.queryFn===z2?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(ie(this,ma,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)),a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ie(this,oc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Oe(this,ri,ts).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,h,m,v;Iv(f)&&f.silent||Oe(this,ri,ts).call(this,{type:"error",error:f}),Iv(f)||((h=(p=F(this,Nr).config).onError)==null||h.call(p,f,this),(v=(m=F(this,Nr).config).onSettled)==null||v.call(m,this.state.data,f,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ie(this,Bn,_4({fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,h,m,v;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}this.setData(f),(h=(p=F(this,Nr).config).onSuccess)==null||h.call(p,f,this),(v=(m=F(this,Nr).config).onSettled)==null||v.call(m,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(f,p)=>{Oe(this,ri,ts).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{Oe(this,ri,ts).call(this,{type:"pause"})},onContinue:()=>{Oe(this,ri,ts).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),F(this,Bn).promise}},sc=new WeakMap,oc=new WeakMap,Nr=new WeakMap,Bn=new WeakMap,hn=new WeakMap,ef=new WeakMap,ma=new WeakMap,ri=new WeakSet,ts=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:D0(this.options.networkMode)?"fetching":"paused",...r.data===void 0&&{error:null,status:"pending"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Iv(i)&&i.revert&&F(this,oc)?{...F(this,oc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),sn.batch(()=>{F(this,hn).forEach(r=>{r.onQueryUpdate()}),F(this,Nr).notify({query:this,type:"updated",action:e})})},AA);function i7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ti,LA,s7=(LA=class extends Hc{constructor(e={}){super();de(this,Ti,void 0);this.config=e,ie(this,Ti,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??U2(i,n);let o=this.get(s);return o||(o=new r7({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){F(this,Ti).has(e.queryHash)||(F(this,Ti).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Ti).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Ti).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Ti).get(e)}getAll(){return[...F(this,Ti).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>QT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>QT(e,r)):n}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ti=new WeakMap,LA),_i,tf,dr,ac,Ci,Ms,PA,o7=(PA=class extends C4{constructor(e){super();de(this,Ci);de(this,_i,void 0);de(this,tf,void 0);de(this,dr,void 0);de(this,ac,void 0);this.mutationId=e.mutationId,ie(this,tf,e.defaultOptions),ie(this,dr,e.mutationCache),ie(this,_i,[]),this.state=e.state||R4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...F(this,tf),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,_i).includes(e)||(F(this,_i).push(e),this.clearGcTimeout(),F(this,dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,_i,F(this,_i).filter(n=>n!==e)),this.scheduleGc(),F(this,dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,_i).length||(this.state.status==="pending"?this.scheduleGc():F(this,dr).remove(this))}continue(){var e;return((e=F(this,ac))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,u,d,f,p,h,m,v,y,x,b,S,w,_,T;const n=()=>(ie(this,ac,_4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{Oe(this,Ci,Ms).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{Oe(this,Ci,Ms).call(this,{type:"pause"})},onContinue:()=>{Oe(this,Ci,Ms).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),F(this,ac).promise),r=this.state.status==="pending";try{if(!r){Oe(this,Ci,Ms).call(this,{type:"pending",variables:e}),await((s=(i=F(this,dr).config).onMutate)==null?void 0:s.call(i,e,this));const k=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));k!==this.state.context&&Oe(this,Ci,Ms).call(this,{type:"pending",context:k,variables:e})}const C=await n();return await((c=(l=F(this,dr).config).onSuccess)==null?void 0:c.call(l,C,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,C,e,this.state.context)),await((p=(f=F(this,dr).config).onSettled)==null?void 0:p.call(f,C,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,C,null,e,this.state.context)),Oe(this,Ci,Ms).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(v=F(this,dr).config).onError)==null?void 0:y.call(v,C,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,C,e,this.state.context)),await((w=(S=F(this,dr).config).onSettled)==null?void 0:w.call(S,void 0,C,this.state.variables,this.state.context,this)),await((T=(_=this.options).onSettled)==null?void 0:T.call(_,void 0,C,e,this.state.context)),C}finally{Oe(this,Ci,Ms).call(this,{type:"error",error:C})}}}},_i=new WeakMap,tf=new WeakMap,dr=new WeakMap,ac=new WeakMap,Ci=new WeakSet,Ms=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!D0(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sn.batch(()=>{F(this,_i).forEach(r=>{r.onMutationUpdate(e)}),F(this,dr).notify({mutation:this,type:"updated",action:e})})},PA);function R4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fr,nf,ga,IA,a7=(IA=class extends Hc{constructor(e={}){super();de(this,Fr,void 0);de(this,nf,void 0);de(this,ga,void 0);this.config=e,ie(this,Fr,[]),ie(this,nf,0)}build(e,n,r){const i=new o7({mutationCache:this,mutationId:++Kf(this,nf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){F(this,Fr).push(e),this.notify({type:"added",mutation:e})}remove(e){ie(this,Fr,F(this,Fr).filter(n=>n!==e)),this.notify({type:"removed",mutation:e})}clear(){sn.batch(()=>{F(this,Fr).forEach(e=>{this.remove(e)})})}getAll(){return F(this,Fr)}find(e){const n={exact:!0,...e};return F(this,Fr).find(r=>XT(n,r))}findAll(e={}){return F(this,Fr).filter(n=>XT(e,n))}notify(e){sn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){return ie(this,ga,(F(this,ga)??Promise.resolve()).then(()=>{const e=F(this,Fr).filter(n=>n.state.isPaused);return sn.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch($r)),Promise.resolve()))}).then(()=>{ie(this,ga,void 0)})),F(this,ga)}},Fr=new WeakMap,nf=new WeakMap,ga=new WeakMap,IA);function Z1(t){return{onFetch:(e,n)=>{const r=async()=>{var h,m,v,y,x;const i=e.options,s=(v=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[],l={pages:[],pageParams:[]};let c=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=e.options.queryFn&&e.options.queryFn!==z2?e.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`)),f=async(b,S,w)=>{if(c)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:e.queryKey,pageParam:S,direction:w?"backward":"forward",meta:e.options.meta};u(_);const T=await d(_),{maxPages:C}=e.options,k=w?J9:X9;return{pages:k(b.pages,T,C),pageParams:k(b.pageParams,S,C)}};let p;if(s&&o.length){const b=s==="backward",S=b?k4:ex,w={pages:o,pageParams:a},_=S(i,w);p=await f(w,_,b)}else{p=await f(l,a[0]??i.initialPageParam);const b=t??o.length;for(let S=1;S<b;S++){const w=ex(i,p);p=await f(p,w)}}return p};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function ex(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function k4(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}function l7(t,e){return e?ex(t,e)!=null:!1}function c7(t,e){return!e||!t.getPreviousPageParam?!1:k4(t,e)!=null}var tn,qs,Ys,lc,cc,Qs,uc,dc,DA,u7=(DA=class{constructor(t={}){de(this,tn,void 0);de(this,qs,void 0);de(this,Ys,void 0);de(this,lc,void 0);de(this,cc,void 0);de(this,Qs,void 0);de(this,uc,void 0);de(this,dc,void 0);ie(this,tn,t.queryCache||new s7),ie(this,qs,t.mutationCache||new a7),ie(this,Ys,t.defaultOptions||{}),ie(this,lc,new Map),ie(this,cc,new Map),ie(this,Qs,0)}mount(){Kf(this,Qs)._++,F(this,Qs)===1&&(ie(this,uc,V2.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,tn).onFocus())})),ie(this,dc,hm.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,tn).onOnline())})))}unmount(){var t,e;Kf(this,Qs)._--,F(this,Qs)===0&&((t=F(this,uc))==null||t.call(this),ie(this,uc,void 0),(e=F(this,dc))==null||e.call(this),ie(this,dc,void 0))}isFetching(t){return F(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,qs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=F(this,tn).get(r.queryHash),s=i==null?void 0:i.state.data,o=Y9(e,s);if(o!==void 0)return F(this,tn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return sn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,tn);sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,tn),r={type:"active",...t};return sn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=sn.batch(()=>F(this,tn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(t={},e={}){return sn.batch(()=>{if(F(this,tn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=sn.batch(()=>F(this,tn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch($r)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then($r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,tn).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($r).catch($r)}fetchInfiniteQuery(t){return t.behavior=Z1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($r).catch($r)}resumePausedMutations(){return hm.isOnline()?F(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,tn)}getMutationCache(){return F(this,qs)}getDefaultOptions(){return F(this,Ys)}setDefaultOptions(t){ie(this,Ys,t)}setQueryDefaults(t,e){F(this,lc).set(Oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,lc).values()];let n={};return e.forEach(r=>{kd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){F(this,cc).set(Oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,cc).values()];let n={};return e.forEach(r=>{kd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Ys).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=U2(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===z2&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ys).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,tn).clear(),F(this,qs).clear()}},tn=new WeakMap,qs=new WeakMap,Ys=new WeakMap,lc=new WeakMap,cc=new WeakMap,Qs=new WeakMap,uc=new WeakMap,dc=new WeakMap,DA),Yn,vt,rf,jn,va,fc,Ri,sf,hc,pc,ya,xa,Xs,mc,ba,Lu,of,tx,af,nx,lf,rx,cf,ix,uf,sx,df,ox,ff,ax,u0,L4,OA,A4=(OA=class extends Hc{constructor(e,n){super();de(this,ba);de(this,of);de(this,af);de(this,lf);de(this,cf);de(this,uf);de(this,df);de(this,ff);de(this,u0);de(this,Yn,void 0);de(this,vt,void 0);de(this,rf,void 0);de(this,jn,void 0);de(this,va,void 0);de(this,fc,void 0);de(this,Ri,void 0);de(this,sf,void 0);de(this,hc,void 0);de(this,pc,void 0);de(this,ya,void 0);de(this,xa,void 0);de(this,Xs,void 0);de(this,mc,new Set);this.options=n,ie(this,Yn,e),ie(this,Ri,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,vt).addObserver(this),e_(F(this,vt),this.options)?Oe(this,ba,Lu).call(this):this.updateResult(),Oe(this,cf,ix).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lx(F(this,vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lx(F(this,vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,uf,sx).call(this),Oe(this,df,ox).call(this),F(this,vt).removeObserver(this)}setOptions(e,n){const r=this.options,i=F(this,vt);if(this.options=F(this,Yn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Oe(this,ff,ax).call(this),F(this,vt).setOptions(this.options),r._defaulted&&!fm(this.options,r)&&F(this,Yn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,vt),observer:this});const s=this.hasListeners();s&&t_(F(this,vt),i,this.options,r)&&Oe(this,ba,Lu).call(this),this.updateResult(n),s&&(F(this,vt)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&Oe(this,of,tx).call(this);const o=Oe(this,af,nx).call(this);s&&(F(this,vt)!==i||this.options.enabled!==r.enabled||o!==F(this,Xs))&&Oe(this,lf,rx).call(this,o)}getOptimisticResult(e){const n=F(this,Yn).getQueryCache().build(F(this,Yn),e),r=this.createResult(n,e);return f7(this,r)&&(ie(this,jn,r),ie(this,fc,this.options),ie(this,va,F(this,vt).state)),r}getCurrentResult(){return F(this,jn)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){F(this,mc).add(e)}getCurrentQuery(){return F(this,vt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,Yn).defaultQueryOptions(e),r=F(this,Yn).getQueryCache().build(F(this,Yn),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Oe(this,ba,Lu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,jn)))}createResult(e,n){var T;const r=F(this,vt),i=this.options,s=F(this,jn),o=F(this,va),a=F(this,fc),c=e!==r?e.state:F(this,rf),{state:u}=e;let{error:d,errorUpdatedAt:f,fetchStatus:p,status:h}=u,m=!1,v;if(n._optimisticResults){const C=this.hasListeners(),k=!C&&e_(e,n),A=C&&t_(e,r,n,i);(k||A)&&(p=D0(e.options.networkMode)?"fetching":"paused",u.data===void 0&&(h="pending")),n._optimisticResults==="isRestoring"&&(p="idle")}if(n.select&&u.data!==void 0)if(s&&u.data===(o==null?void 0:o.data)&&n.select===F(this,sf))v=F(this,hc);else try{ie(this,sf,n.select),v=n.select(u.data),v=J1(s==null?void 0:s.data,v,n),ie(this,hc,v),ie(this,Ri,null)}catch(C){ie(this,Ri,C)}else v=u.data;if(n.placeholderData!==void 0&&v===void 0&&h==="pending"){let C;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))C=s.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((T=F(this,pc))==null?void 0:T.state.data,F(this,pc)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),ie(this,Ri,null)}catch(k){ie(this,Ri,k)}C!==void 0&&(h="success",v=J1(s==null?void 0:s.data,C,n),m=!0)}F(this,Ri)&&(d=F(this,Ri),v=F(this,hc),f=Date.now(),h="error");const y=p==="fetching",x=h==="pending",b=h==="error",S=x&&y,w=u.data!==void 0;return{status:h,fetchStatus:p,isPending:x,isSuccess:h==="success",isError:b,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:u.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:b&&!w,isPaused:p==="paused",isPlaceholderData:m,isRefetchError:b&&w,isStale:K2(e,n),refetch:this.refetch}}updateResult(e){const n=F(this,jn),r=this.createResult(F(this,vt),this.options);if(ie(this,va,F(this,vt).state),ie(this,fc,this.options),F(this,va).data!==void 0&&ie(this,pc,F(this,vt)),fm(r,n))return;ie(this,jn,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!F(this,mc).size)return!0;const l=new Set(a??F(this,mc));return this.options.throwOnError&&l.add("error"),Object.keys(F(this,jn)).some(c=>{const u=c;return F(this,jn)[u]!==n[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Oe(this,u0,L4).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,cf,ix).call(this)}},Yn=new WeakMap,vt=new WeakMap,rf=new WeakMap,jn=new WeakMap,va=new WeakMap,fc=new WeakMap,Ri=new WeakMap,sf=new WeakMap,hc=new WeakMap,pc=new WeakMap,ya=new WeakMap,xa=new WeakMap,Xs=new WeakMap,mc=new WeakMap,ba=new WeakSet,Lu=function(e){Oe(this,ff,ax).call(this);let n=F(this,vt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch($r)),n},of=new WeakSet,tx=function(){if(Oe(this,uf,sx).call(this),_c||F(this,jn).isStale||!Q1(this.options.staleTime))return;const n=S4(F(this,jn).dataUpdatedAt,this.options.staleTime)+1;ie(this,ya,setTimeout(()=>{F(this,jn).isStale||this.updateResult()},n))},af=new WeakSet,nx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,vt)):this.options.refetchInterval)??!1},lf=new WeakSet,rx=function(e){Oe(this,df,ox).call(this),ie(this,Xs,e),!(_c||this.options.enabled===!1||!Q1(F(this,Xs))||F(this,Xs)===0)&&ie(this,xa,setInterval(()=>{(this.options.refetchIntervalInBackground||V2.isFocused())&&Oe(this,ba,Lu).call(this)},F(this,Xs)))},cf=new WeakSet,ix=function(){Oe(this,of,tx).call(this),Oe(this,lf,rx).call(this,Oe(this,af,nx).call(this))},uf=new WeakSet,sx=function(){F(this,ya)&&(clearTimeout(F(this,ya)),ie(this,ya,void 0))},df=new WeakSet,ox=function(){F(this,xa)&&(clearInterval(F(this,xa)),ie(this,xa,void 0))},ff=new WeakSet,ax=function(){const e=F(this,Yn).getQueryCache().build(F(this,Yn),this.options);if(e===F(this,vt))return;const n=F(this,vt);ie(this,vt,e),ie(this,rf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},u0=new WeakSet,L4=function(e){sn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,jn))}),F(this,Yn).getQueryCache().notify({query:F(this,vt),type:"observerResultsUpdated"})})},OA);function d7(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function e_(t,e){return d7(t,e)||t.state.data!==void 0&&lx(t,e,e.refetchOnMount)}function lx(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&K2(t,e)}return!1}function t_(t,e,n,r){return(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&K2(t,n)}function K2(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function f7(t,e){return!fm(t.getCurrentResult(),e)}var h7=class extends A4{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:Z1()},e)}getOptimisticResult(t){return t.behavior=Z1(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var l,c,u,d;const{state:n}=t,r=super.createResult(t,e),{isFetching:i,isRefetching:s}=r,o=i&&((c=(l=n.fetchMeta)==null?void 0:l.fetchMore)==null?void 0:c.direction)==="forward",a=i&&((d=(u=n.fetchMeta)==null?void 0:u.fetchMore)==null?void 0:d.direction)==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:l7(e,n.data),hasPreviousPage:c7(e,n.data),isFetchingNextPage:o,isFetchingPreviousPage:a,isRefetching:s&&!o&&!a}}},Js,Zs,fr,os,gc,mp,hf,cx,MA,p7=(MA=class extends Hc{constructor(n,r){super();de(this,gc);de(this,hf);de(this,Js,void 0);de(this,Zs,void 0);de(this,fr,void 0);de(this,os,void 0);ie(this,Js,n),this.setOptions(r),this.bindMethods(),Oe(this,gc,mp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=F(this,Js).defaultMutationOptions(n),fm(this.options,r)||F(this,Js).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oa(r.mutationKey)!==Oa(this.options.mutationKey)?this.reset():(i=F(this,fr))==null||i.setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=F(this,fr))==null||n.removeObserver(this)}onMutationUpdate(n){Oe(this,gc,mp).call(this),Oe(this,hf,cx).call(this,n)}getCurrentResult(){return F(this,Zs)}reset(){var n;(n=F(this,fr))==null||n.removeObserver(this),ie(this,fr,void 0),Oe(this,gc,mp).call(this),Oe(this,hf,cx).call(this)}mutate(n,r){var i;return ie(this,os,r),(i=F(this,fr))==null||i.removeObserver(this),ie(this,fr,F(this,Js).getMutationCache().build(F(this,Js),this.options)),F(this,fr).addObserver(this),F(this,fr).execute(n)}},Js=new WeakMap,Zs=new WeakMap,fr=new WeakMap,os=new WeakMap,gc=new WeakSet,mp=function(){var r;const n=((r=F(this,fr))==null?void 0:r.state)??R4();ie(this,Zs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hf=new WeakSet,cx=function(n){sn.batch(()=>{var r,i,s,o,a,l,c,u;if(F(this,os)&&this.hasListeners()){const d=F(this,Zs).variables,f=F(this,Zs).context;(n==null?void 0:n.type)==="success"?((i=(r=F(this,os)).onSuccess)==null||i.call(r,n.data,d,f),(o=(s=F(this,os)).onSettled)==null||o.call(s,n.data,null,d,f)):(n==null?void 0:n.type)==="error"&&((l=(a=F(this,os)).onError)==null||l.call(a,n.error,d,f),(u=(c=F(this,os)).onSettled)==null||u.call(c,void 0,n.error,d,f))}this.listeners.forEach(d=>{d(F(this,Zs))})})},MA),P4=E.createContext(void 0),No=t=>{const e=E.useContext(P4);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},m7=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g(P4.Provider,{value:t,children:e})),I4=E.createContext(!1),g7=()=>E.useContext(I4);I4.Provider;function v7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var y7=E.createContext(v7()),x7=()=>E.useContext(y7);function D4(t,e){return typeof t=="function"?t(...e):!!t}function b7(){}var w7=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},S7=t=>{E.useEffect(()=>{t.clearReset()},[t])},E7=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&D4(n,[t.error,r]),T7=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},_7=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,C7=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function O4(t,e,n){const r=No(n),i=g7(),s=x7(),o=r.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",T7(o),w7(o,s),S7(s);const[a]=E.useState(()=>new e(r,o)),l=a.getOptimisticResult(o);if(E.useSyncExternalStore(E.useCallback(c=>{const u=i?()=>{}:a.subscribe(sn.batchCalls(c));return a.updateResult(),u},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),E.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),_7(o,l))throw C7(o,a,s);if(E7({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function bt(t,e){return O4(t,A4,e)}function mt(t,e){const n=No(e),[r]=E.useState(()=>new p7(n,t));E.useEffect(()=>{r.setOptions(t)},[r,t]);const i=E.useSyncExternalStore(E.useCallback(o=>r.subscribe(sn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=E.useCallback((o,a)=>{r.mutate(o,a).catch(b7)},[r]);if(i.error&&D4(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function M4(t,e){return O4(t,h7,e)}const N4=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),O0=E.createContext({}),M0=E.createContext(null),N0=typeof document<"u",pm=N0?E.useLayoutEffect:E.useEffect,F4=E.createContext({strict:!1});function R7(t,e,n,r){const{visualElement:i}=E.useContext(O0),s=E.useContext(F4),o=E.useContext(M0),a=E.useContext(N4).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return E.useInsertionEffect(()=>{c&&c.update(n,o)}),pm(()=>{c&&c.render()}),E.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?pm:E.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Ol(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function k7(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ol(n)&&(n.current=r))},[e])}function Ad(t){return typeof t=="string"||Array.isArray(t)}function F0(t){return typeof t=="object"&&typeof t.start=="function"}const H2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G2=["initial",...H2];function $0(t){return F0(t.animate)||G2.some(e=>Ad(t[e]))}function $4(t){return Boolean($0(t)||t.variants)}function A7(t,e){if($0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ad(n)?n:void 0,animate:Ad(r)?r:void 0}}return t.inherit!==!1?e:{}}function L7(t){const{initial:e,animate:n}=A7(t,E.useContext(O0));return E.useMemo(()=>({initial:e,animate:n}),[n_(e),n_(n)])}function n_(t){return Array.isArray(t)?t.join(" "):t}const r_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ld={};for(const t in r_)Ld[t]={isEnabled:e=>r_[t].some(n=>!!e[n])};function P7(t){for(const e in t)Ld[e]={...Ld[e],...t[e]}}function W2(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let I7=1;function D7(){return W2(()=>{if(Hu.hasEverUpdated)return I7++})}const q2=E.createContext({}),B4=E.createContext({}),O7=Symbol.for("motionComponentSymbol");function M7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&P7(t);function s(a,l){let c;const u={...E.useContext(N4),...a,layoutId:N7(a)},{isStatic:d}=u,f=L7(a),p=d?void 0:D7(),h=r(a,d);if(!d&&N0){f.visualElement=R7(i,h,u,e);const m=E.useContext(B4),v=E.useContext(F4).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,v,t,p,m))}return E.createElement(O0.Provider,{value:f},c&&f.visualElement?E.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,a,p,k7(h,f.visualElement,l),h,d,f.visualElement))}const o=E.forwardRef(s);return o[O7]=i,o}function N7({layoutId:t}){const e=E.useContext(q2).id;return e&&t!==void 0?e+"-"+t:t}function F7(t){function e(r,i={}){return M7(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const $7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y2(t){return typeof t!="string"||t.includes("-")?!1:!!($7.indexOf(t)>-1||/[A-Z]/.test(t))}const mm={};function B7(t){Object.assign(mm,t)}const B0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ja=new Set(B0);function j4(t,{layout:e,layoutId:n}){return Ja.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mm[t]||t==="opacity")}const ir=t=>Boolean(t&&t.getVelocity),j7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U7=B0.length;function z7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<U7;o++){const a=B0[o];if(t[a]!==void 0){const l=j7[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const U4=t=>e=>typeof e=="string"&&e.startsWith(t),z4=U4("--"),ux=U4("var(--"),V7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ma=(t,e,n)=>Math.min(Math.max(n,t),e),Za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gu={...Za,transform:t=>Ma(0,1,t)},dh={...Za,default:1},Wu=t=>Math.round(t*1e5)/1e5,Pd=/(-)?([\d]*\.?[\d])+/g,dx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,K7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Tf(t){return typeof t=="string"}const _f=t=>({test:e=>Tf(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ns=_f("deg"),Ui=_f("%"),Ce=_f("px"),H7=_f("vh"),G7=_f("vw"),i_={...Ui,parse:t=>Ui.parse(t)/100,transform:t=>Ui.transform(t*100)},s_={...Za,transform:Math.round},V4={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:dh,scaleX:dh,scaleY:dh,scaleZ:dh,skew:Ns,skewX:Ns,skewY:Ns,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Gu,originX:i_,originY:i_,originZ:Ce,zIndex:s_,fillOpacity:Gu,strokeOpacity:Gu,numOctaves:s_};function Q2(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const f=e[d];if(z4(d)){s[d]=f;continue}const p=V4[d],h=V7(f,p);if(Ja.has(d)){if(l=!0,o[d]=h,!u)continue;f!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=h):i[d]=h}if(e.transform||(l||r?i.transform=z7(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${d} ${f} ${p}`}}const X2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K4(t,e,n){for(const r in e)!ir(e[r])&&!j4(r,n)&&(t[r]=e[r])}function W7({transformTemplate:t},e,n){return E.useMemo(()=>{const r=X2();return Q2(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function q7(t,e,n){const r=t.style||{},i={};return K4(i,r,t),Object.assign(i,W7(t,e,n)),t.transformValues?t.transformValues(i):i}function Y7(t,e,n){const r={},i=q7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Q7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function gm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Q7.has(t)}let H4=t=>!gm(t);function X7(t){t&&(H4=e=>e.startsWith("on")?!gm(e):t(e))}try{X7(require("@emotion/is-prop-valid").default)}catch{}function J7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(H4(i)||n===!0&&gm(i)||!e&&!gm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function o_(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function Z7(t,e,n){const r=o_(e,t.x,t.width),i=o_(n,t.y,t.height);return`${r} ${i}`}const e$={offset:"stroke-dashoffset",array:"stroke-dasharray"},t$={offset:"strokeDashoffset",array:"strokeDasharray"};function n$(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?e$:t$;t[s.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[s.array]=`${o} ${a}`}function J2(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},c,u,d){if(Q2(t,l,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:h}=t;f.transform&&(h&&(p.transform=f.transform),delete f.transform),h&&(r!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Z7(h,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),s!==void 0&&n$(f,s,o,a,!1)}const G4=()=>({...X2(),attrs:{}}),Z2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function r$(t,e,n,r){const i=E.useMemo(()=>{const s=G4();return J2(s,e,{enableHardwareAcceleration:!1},Z2(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};K4(s,t.style,t),i.style={...s,...i.style}}return i}function i$(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const c=(Y2(n)?r$:Y7)(r,o,a,n),d={...J7(r,typeof n=="string",t),...c,ref:s},{children:f}=r,p=E.useMemo(()=>ir(f)?f.get():f,[f]);return i&&(d["data-projection-id"]=i),E.createElement(n,{...d,children:p})}}const ew=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function W4(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const q4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y4(t,e,n,r){W4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(q4.has(i)?i:ew(i),e.attrs[i])}function tw(t,e){const{style:n}=t,r={};for(const i in n)(ir(n[i])||e.style&&ir(e.style[i])||j4(i,t))&&(r[i]=n[i]);return r}function Q4(t,e){const n=tw(t,e);for(const r in t)if(ir(t[r])||ir(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function nw(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const vm=t=>Array.isArray(t),s$=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),o$=t=>vm(t)?t[t.length-1]||0:t;function gp(t){const e=ir(t)?t.get():t;return s$(e)?e.toValue():e}function a$({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:l$(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const X4=t=>(e,n)=>{const r=E.useContext(O0),i=E.useContext(M0),s=()=>a$(t,e,r,i);return n?s():W2(s)};function l$(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=gp(s[f]);let{initial:o,animate:a}=t;const l=$0(t),c=$4(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!F0(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const h=nw(t,p);if(!h)return;const{transitionEnd:m,transition:v,...y}=h;for(const x in y){let b=y[x];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(i[x]=b)}for(const x in m)i[x]=m[x]}),i}const c$={useVisualState:X4({scrapeMotionValuesFromProps:Q4,createRenderState:G4,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}J2(n,r,{enableHardwareAcceleration:!1},Z2(e.tagName),t.transformTemplate),Y4(e,n)}})},u$={useVisualState:X4({scrapeMotionValuesFromProps:tw,createRenderState:X2})};function d$(t,{forwardMotionProps:e=!1},n,r){return{...Y2(t)?c$:u$,preloadedFeatures:n,useRender:i$(e),createVisualElement:r,Component:t}}function us(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const J4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function j0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const f$=t=>e=>J4(e)&&t(e,j0(e));function ps(t,e,n,r){return us(t,e,f$(n),r)}const h$=(t,e)=>n=>e(t(n)),po=(...t)=>t.reduce(h$);function Z4(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const a_=Z4("dragHorizontal"),l_=Z4("dragVertical");function eL(t){let e=!1;if(t==="y")e=l_();else if(t==="x")e=a_();else{const n=a_(),r=l_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function tL(){const t=eL(!0);return t?(t(),!1):!0}class Fo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function p$(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?e:n;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),d&&i&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Nn={delta:0,timestamp:0,isProcessing:!1},m$=40;let fx=!0,Id=!1;const Cf=["read","update","preRender","render","postRender"],U0=Cf.reduce((t,e)=>(t[e]=p$(()=>Id=!0),t),{}),kt=Cf.reduce((t,e)=>{const n=U0[e];return t[e]=(r,i=!1,s=!1)=>(Id||v$(),n.schedule(r,i,s)),t},{}),bo=Cf.reduce((t,e)=>(t[e]=U0[e].cancel,t),{}),Dv=Cf.reduce((t,e)=>(t[e]=()=>U0[e].process(Nn),t),{}),g$=t=>U0[t].process(Nn),nL=t=>{Id=!1,Nn.delta=fx?1e3/60:Math.max(Math.min(t-Nn.timestamp,m$),1),Nn.timestamp=t,Nn.isProcessing=!0,Cf.forEach(g$),Nn.isProcessing=!1,Id&&(fx=!1,requestAnimationFrame(nL))},v$=()=>{Id=!0,fx=!0,Nn.isProcessing||requestAnimationFrame(nL)};function c_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||tL())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&kt.update(()=>a[r](s,o))};return ps(t.current,n,i,{passive:!t.getProps()[r]})}class y$ extends Fo{mount(){this.unmount=po(c_(this.node,!0),c_(this.node,!1))}unmount(){}}class x$ extends Fo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=po(us(this.node.current,"focus",()=>this.onFocus()),us(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const rL=(t,e)=>e?t===e?!0:rL(t,e.parentElement):!1,gn=t=>t;function Ov(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,j0(n))}class b$ extends Fo{constructor(){super(...arguments),this.removeStartListeners=gn,this.removeEndListeners=gn,this.removeAccessibleListeners=gn,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=ps(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();kt.update(()=>{rL(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ps(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=po(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ov("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&kt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=us(this.node.current,"keyup",o),Ov("down",(a,l)=>{this.startPress(a,l)})},n=us(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ov("cancel",(s,o)=>this.cancelPress(s,o))},i=us(this.node.current,"blur",r);this.removeAccessibleListeners=po(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&kt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tL()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&kt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ps(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=us(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=po(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hx=new WeakMap,Mv=new WeakMap,w$=t=>{const e=hx.get(t.target);e&&e(t)},S$=t=>{t.forEach(w$)};function E$({root:t,...e}){const n=t||document;Mv.has(n)||Mv.set(n,{});const r=Mv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(S$,{root:t,...e})),r[i]}function T$(t,e,n){const r=E$(e);return hx.set(t,n),r.observe(t),()=>{hx.delete(t),r.unobserve(t)}}const _$={some:0,all:1};class C$ extends Fo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_$[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return T$(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(R$(e,n))&&this.startObserver()}unmount(){}}function R$({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k$={inView:{Feature:C$},tap:{Feature:b$},focus:{Feature:x$},hover:{Feature:y$}};function iL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function A$(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function L$(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function z0(t,e,n){const r=t.getProps();return nw(r,e,n!==void 0?n:r.custom,A$(t),L$(t))}const P$="framerAppearId",I$="data-"+ew(P$);let rw=gn,V0=gn;const mo=t=>t*1e3,Na=t=>t/1e3,D$={current:!1},sL=t=>Array.isArray(t)&&typeof t[0]=="number";function oL(t){return Boolean(!t||typeof t=="string"&&aL[t]||sL(t)||Array.isArray(t)&&t.every(oL))}const Pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,aL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pu([0,.65,.55,1]),circOut:Pu([.55,0,1,.45]),backIn:Pu([.31,.01,.66,-.59]),backOut:Pu([.33,1.53,.69,.99])};function lL(t){if(t)return sL(t)?Pu(t):Array.isArray(t)?t.map(lL):aL[t]}function O$(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=lL(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const u_={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},Nv={},cL={};for(const t in u_)cL[t]=()=>(Nv[t]===void 0&&(Nv[t]=u_[t]()),Nv[t]);function M$(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const uL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,N$=1e-7,F$=12;function $$(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=uL(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>N$&&++a<F$);return o}function Rf(t,e,n,r){if(t===e&&n===r)return gn;const i=s=>$$(s,0,1,t,n);return s=>s===0||s===1?s:uL(i(s),e,r)}const B$=Rf(.42,0,1,1),j$=Rf(0,0,.58,1),dL=Rf(.42,0,.58,1),U$=t=>Array.isArray(t)&&typeof t[0]!="number",fL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hL=t=>e=>1-t(1-e),pL=t=>1-Math.sin(Math.acos(t)),iw=hL(pL),z$=fL(iw),mL=Rf(.33,1.53,.69,.99),sw=hL(mL),V$=fL(sw),K$=t=>(t*=2)<1?.5*sw(t):.5*(2-Math.pow(2,-10*(t-1))),H$={linear:gn,easeIn:B$,easeInOut:dL,easeOut:j$,circIn:pL,circInOut:z$,circOut:iw,backIn:sw,backInOut:V$,backOut:mL,anticipate:K$},d_=t=>{if(Array.isArray(t)){V0(t.length===4);const[e,n,r,i]=t;return Rf(e,n,r,i)}else if(typeof t=="string")return H$[t];return t},ow=(t,e)=>n=>Boolean(Tf(n)&&K7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),gL=(t,e,n)=>r=>{if(!Tf(r))return r;const[i,s,o,a]=r.match(Pd);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},G$=t=>Ma(0,255,t),Fv={...Za,transform:t=>Math.round(G$(t))},oa={test:ow("rgb","red"),parse:gL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fv.transform(t)+", "+Fv.transform(e)+", "+Fv.transform(n)+", "+Wu(Gu.transform(r))+")"};function W$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const px={test:ow("#"),parse:W$,transform:oa.transform},Ml={test:ow("hsl","hue"),parse:gL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ui.transform(Wu(e))+", "+Ui.transform(Wu(n))+", "+Wu(Gu.transform(r))+")"},Un={test:t=>oa.test(t)||px.test(t)||Ml.test(t),parse:t=>oa.test(t)?oa.parse(t):Ml.test(t)?Ml.parse(t):px.parse(t),transform:t=>Tf(t)?t:t.hasOwnProperty("red")?oa.transform(t):Ml.transform(t)},It=(t,e,n)=>-n*t+n*e+t;function $v(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function q$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=$v(l,a,t+1/3),s=$v(l,a,t),o=$v(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Bv=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Y$=[px,oa,Ml],Q$=t=>Y$.find(e=>e.test(t));function f_(t){const e=Q$(t);let n=e.parse(t);return e===Ml&&(n=q$(n)),n}const vL=(t,e)=>{const n=f_(t),r=f_(e),i={...n};return s=>(i.red=Bv(n.red,r.red,s),i.green=Bv(n.green,r.green,s),i.blue=Bv(n.blue,r.blue,s),i.alpha=It(n.alpha,r.alpha,s),oa.transform(i))},yL="${c}",xL="${n}";function X$(t){var e,n;return isNaN(t)&&Tf(t)&&(((e=t.match(Pd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(dx))===null||n===void 0?void 0:n.length)||0)>0}function ym(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(dx);i&&(n=i.length,t=t.replace(dx,yL),e.push(...i.map(Un.parse)));const s=t.match(Pd);return s&&(r=s.length,t=t.replace(Pd,xL),e.push(...s.map(Za.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function bL(t){return ym(t).values}function wL(t){const{values:e,numColors:n,tokenised:r}=ym(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?yL:xL,a<n?Un.transform(s[a]):Wu(s[a]));return o}}const J$=t=>typeof t=="number"?0:t;function Z$(t){const e=bL(t);return wL(t)(e.map(J$))}const wo={test:X$,parse:bL,createTransformer:wL,getAnimatableNone:Z$};function SL(t,e){return typeof t=="number"?n=>It(t,e,n):Un.test(t)?vL(t,e):TL(t,e)}const EL=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>SL(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},eB=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=SL(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},TL=(t,e)=>{const n=wo.createTransformer(e),r=ym(t),i=ym(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?po(EL(r.values,i.values),n):(rw(!0),o=>`${o>0?e:t}`)},Dd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},h_=(t,e)=>n=>It(t,e,n);function tB(t){return typeof t=="number"?h_:typeof t=="string"?Un.test(t)?vL:TL:Array.isArray(t)?EL:typeof t=="object"?eB:h_}function nB(t,e,n){const r=[],i=n||tB(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||gn:e;a=po(l,a)}r.push(a)}return r}function _L(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(V0(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=nB(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=Dd(t[u],t[u+1],c);return o[u](d)};return n?c=>l(Ma(t[0],t[s-1],c)):l}function rB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Dd(0,e,r);t.push(It(n,1,i))}}function iB(t){const e=[0];return rB(e,t.length-1),e}function sB(t,e){return t.map(n=>n*e)}function oB(t,e){return t.map(()=>e||dL).splice(0,t.length-1)}function xm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=U$(r)?r.map(d_):d_(r),s={done:!1,value:e[0]},o=sB(n&&n.length===e.length?n:iB(e),t),a=_L(o,e,{ease:Array.isArray(i)?i:oB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function CL(t,e){return e?t*(1e3/e):0}const aB=5;function RL(t,e,n){const r=Math.max(e-aB,0);return CL(n-t(r),e-r)}const jv=.001,lB=.01,p_=10,cB=.05,uB=1;function dB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;rw(t<=mo(p_));let o=1-e;o=Ma(cB,uB,o),t=Ma(lB,p_,Na(t)),o<1?(i=c=>{const u=c*o,d=u*t,f=u-n,p=mx(c,o),h=Math.exp(-d);return jv-f/p*h},s=c=>{const d=c*o*t,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,h=Math.exp(-d),m=mx(Math.pow(c,2),o);return(-i(c)+jv>0?-1:1)*((f-p)*h)/m}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-jv+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=hB(i,s,a);if(t=mo(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const fB=12;function hB(t,e,n){let r=n;for(let i=1;i<fB;i++)r=r-t(r)/e(r);return r}function mx(t,e){return t*Math.sqrt(1-e*e)}const pB=["duration","bounce"],mB=["stiffness","damping","mass"];function m_(t,e){return e.some(n=>t[n]!==void 0)}function gB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!m_(t,mB)&&m_(t,pB)){const n=dB(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function kL({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:f}=gB(r),p=u?-Na(u):0,h=l/(2*Math.sqrt(a*c)),m=s-i,v=Na(Math.sqrt(a/c)),y=Math.abs(m)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let x;if(h<1){const b=mx(v,h);x=S=>{const w=Math.exp(-h*v*S);return s-w*((p+h*v*m)/b*Math.sin(b*S)+m*Math.cos(b*S))}}else if(h===1)x=b=>s-Math.exp(-v*b)*(m+(p+v*m)*b);else{const b=v*Math.sqrt(h*h-1);x=S=>{const w=Math.exp(-h*v*S),_=Math.min(b*S,300);return s-w*((p+h*v*m)*Math.sinh(_)+b*m*Math.cosh(_))/b}}return{calculatedDuration:f&&d||null,next:b=>{const S=x(b);if(f)o.done=b>=d;else{let w=p;b!==0&&(h<1?w=RL(x,b,S):w=0);const _=Math.abs(w)<=n,T=Math.abs(s-S)<=e;o.done=_&&T}return o.value=o.done?s:S,o}}}function g_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,h=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let m=n*e;const v=d+m,y=o===void 0?v:o(v);y!==v&&(m=y-d);const x=C=>-m*Math.exp(-C/r),b=C=>y+x(C),S=C=>{const k=x(C),A=b(C);f.done=Math.abs(k)<=c,f.value=f.done?y:A};let w,_;const T=C=>{p(f.value)&&(w=C,_=kL({keyframes:[f.value,h(f.value)],velocity:RL(b,C,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let k=!1;return!_&&w===void 0&&(k=!0,S(C),T(C)),w!==void 0&&C>w?_.next(C-w):(!k&&S(C),f)}}}const vB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>kt.update(e,!0),stop:()=>bo.update(e),now:()=>Nn.isProcessing?Nn.timestamp:performance.now()}},yB={decay:g_,inertia:g_,tween:xm,keyframes:xm,spring:kL},xB=2e4;function bB(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xB;)e+=n,r=t.next(e);return e}function bm({autoplay:t=!0,delay:e=0,driver:n=vB,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let p=1,h=!1,m,v;const y=()=>{m&&m(),v=new Promise(H=>{m=H})};y();let x;const b=yB[i]||xm;let S;b!==xm&&typeof r[0]!="number"&&(S=_L([0,100],r,{clamp:!1}),r=[0,100]);const w=b({...f,keyframes:r});let _;a==="mirror"&&(_=b({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let T="idle",C=null,k=null,A=null;w.calculatedDuration===null&&s&&(w.calculatedDuration=bB(w));const{calculatedDuration:I}=w;let N=1/0,M=1/0;I!==null&&(N=I+o,M=N*(s+1)-o);let D=0;const O=H=>{if(k===null)return;C!==null?D=C:D=(H-k)*p,D=Math.max(D-e,0),T==="finished"&&C===null&&(D=M);let q=D,ne=w;if(s){const ve=D/N;let Pe=Math.floor(ve),be=ve%1;!be&&ve>=1&&(be=1),be===1&&Pe--,Pe=Math.min(Pe,s+1);const ze=Boolean(Pe%2);ze&&(a==="reverse"?(be=1-be,o&&(be-=o/N)):a==="mirror"&&(ne=_));let ge=Ma(0,1,be);D>M&&(ge=a==="reverse"&&ze?1:0),q=ge*N}const te=ne.next(q);S&&(te.value=S(te.value));let{done:he}=te;I!==null&&(he=D>=M);const Z=C===null&&(T==="finished"||T==="running"&&he||p<0&&D<=0);return d&&d(te.value),Z&&U(),te},$=()=>{x&&x.stop(),x=void 0},W=()=>{T="idle",$(),y(),k=A=null},U=()=>{T="finished",u&&u(),$(),y()},j=()=>{if(h)return;x||(x=n(O));const H=x.now();l&&l(),T="running",C!==null?k=H-C:k||(k=H),A=k,C=null,x.start()};t&&j();const B={then(H,q){return v.then(H,q)},get time(){return Na(D)},set time(H){H=mo(H),D=H,C!==null||!x||p===0?C=H:k=x.now()-H/p},get speed(){return p},set speed(H){H===p||!x||(p=H,B.time=Na(D))},get state(){return T},play:j,pause:()=>{T="paused",C=D},stop:()=>{h=!0,T!=="idle"&&(T="idle",c&&c(),W())},cancel:()=>{A!==null&&O(A),W()},complete:()=>{T="finished"},sample:H=>(k=0,O(H))};return B}const wB=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),fh=10,SB=2e4,EB=(t,e)=>e.type==="spring"||t==="backgroundColor"||!oL(e.ease);function TB(t,e,{onUpdate:n,onComplete:r,...i}){if(!(cL.waapi()&&wB.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(m=>{a=m})};c();let{keyframes:u,duration:d=300,ease:f}=i;if(EB(e,i)){const m=bm({...i,repeat:0,delay:0});let v={done:!1,value:u[0]};const y=[];let x=0;for(;!v.done&&x<SB;)v=m.sample(x),y.push(v.value),x+=fh;u=y,d=x-fh,f="linear"}const p=O$(t.owner.current,e,u,{...i,duration:d,ease:f}),h=()=>{kt.update(()=>p.cancel()),a(),c()};return p.onfinish=()=>{t.set(M$(u,i)),r&&r(),h()},{then(m,v){return l.then(m,v)},get time(){return Na(p.currentTime||0)},set time(m){p.currentTime=mo(m)},get speed(){return p.playbackRate},set speed(m){p.playbackRate=m},play:()=>{o||p.play()},pause:()=>p.pause(),stop:()=>{if(o=!0,p.playState==="idle")return;const{currentTime:m}=p;if(m){const v=bm({...i,autoplay:!1});t.setWithVelocity(v.sample(m-fh).value,v.sample(m).value,fh)}h()},complete:()=>p.finish(),cancel:h}}function _B({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,play:gn,pause:gn,stop:gn,then:s=>(s(),Promise.resolve()),cancel:gn,complete:gn});return e?bm({keyframes:[0,1],duration:e,onComplete:i}):i()}const CB={type:"spring",stiffness:500,damping:25,restSpeed:10},RB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kB={type:"keyframes",duration:.8},AB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LB=(t,{keyframes:e})=>e.length>2?kB:Ja.has(t)?t.startsWith("scale")?RB(e[1]):CB:AB,gx=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&wo.test(e)&&!e.startsWith("url(")),PB=new Set(["brightness","contrast","saturate","opacity"]);function IB(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Pd)||[];if(!r)return t;const i=n.replace(r,"");let s=PB.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const DB=/([a-z-]*)\(.*?\)/g,vx={...wo,getAnimatableNone:t=>{const e=t.match(DB);return e?e.map(IB).join(" "):t}},OB={...V4,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:vx,WebkitFilter:vx},aw=t=>OB[t];function lw(t,e){let n=aw(t);return n!==vx&&(n=wo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function MB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function v_(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function y_(t){return typeof t=="number"?0:lw("",t)}function AL(t,e){return t[e]||t.default||t}function NB(t,e,n,r){const i=gx(e,n);let s=r.from!==void 0?r.from:t.get();if(s==="none"&&i&&typeof n=="string"?s=lw(e,n):v_(s)&&typeof n=="string"?s=y_(n):!Array.isArray(n)&&v_(n)&&typeof s=="string"&&(n=y_(s)),Array.isArray(n)){for(let o=0;o<n.length;o++)n[o]===null&&(n[o]=o===0?s:n[o-1]);return n}else return[s,n]}const cw=(t,e,n,r={})=>i=>{const s=AL(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-mo(o);const l=NB(e,t,n,s),c=l[0],u=l[l.length-1],d=gx(t,c),f=gx(t,u);rw(d===f);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:h=>{e.set(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!d||!f||D$.current||s.type===!1)return _B(p);if(MB(s)||(p={...p,...LB(t,p)}),p.duration&&(p.duration=mo(p.duration)),p.repeatDelay&&(p.repeatDelay=mo(p.repeatDelay)),e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const h=TB(e,t,p);if(h)return h}return bm(p)};function wm(t){return Boolean(ir(t)&&t.add)}const FB=t=>/^\-?\d*\.?\d+$/.test(t),$B=t=>/^0[^.\s]+$/.test(t);function uw(t,e){t.indexOf(e)===-1&&t.push(e)}function dw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fw{constructor(){this.subscriptions=[]}add(e){return uw(this.subscriptions,e),()=>dw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const BB=t=>!isNaN(parseFloat(t));class jB{constructor(e,n={}){this.version="10.9.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Nn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,kt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>kt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=BB(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fw);const r=this.events[e].add(n);return e==="change"?()=>{r(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?CL(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new jB(t,e)}const LL=t=>e=>e.test(t),UB={test:t=>t==="auto",parse:t=>t},PL=[Za,Ce,Ui,Ns,G7,H7,UB],du=t=>PL.find(LL(t)),zB=[...PL,Un,wo],VB=t=>zB.find(LL(t));function KB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function HB(t,e){const n=z0(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=o$(s[o]);KB(t,o,a)}}function GB(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(FB(u)||$B(u))?u=parseFloat(u):!VB(u)&&wo.test(c)&&(u=lw(l,c)),t.addValue(l,Cc(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function WB(t,e){return e?(e[t]||e.default||e).from:void 0}function qB(t,e,n){const r={};for(const i in t){const s=WB(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function YB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function IL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const f=t.getValue(d),p=a[d];if(!f||p===void 0||u&&YB(u,d))continue;const h={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!f.hasAnimated){const v=t.getProps()[I$];v&&(h.elapsed=window.HandoffAppearAnimations(v,d,f,kt))}f.start(cw(d,f,p,t.shouldReduceMotion&&Ja.has(d)?{type:!1}:h));const m=f.animation;wm(l)&&(l.add(d),m.then(()=>l.remove(d))),c.push(m)}return o&&Promise.all(c).then(()=>{o&&HB(t,o)}),c}function yx(t,e,n={}){const r=z0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(IL(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return QB(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function QB(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(XB).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(yx(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function XB(t,e){return t.sortNodePosition(e)}function JB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>yx(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=yx(t,e,n);else{const i=typeof e=="function"?z0(t,e,n.custom):e;r=Promise.all(IL(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const ZB=[...H2].reverse(),ej=H2.length;function tj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JB(t,n,r)))}function nj(t){let e=tj(t);const n=ij();let r=!0;const i=(l,c)=>{const u=z0(t,c);if(u){const{transition:d,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},f=[],p=new Set;let h={},m=1/0;for(let y=0;y<ej;y++){const x=ZB[y],b=n[x],S=u[x]!==void 0?u[x]:d[x],w=Ad(S),_=x===c?b.isActive:null;_===!1&&(m=y);let T=S===d[x]&&S!==u[x]&&w;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...h},!b.isActive&&_===null||!S&&!b.prevProp||F0(S)||typeof S=="boolean")continue;const C=rj(b.prevProp,S);let k=C||x===c&&b.isActive&&!T&&w||y>m&&w;const A=Array.isArray(S)?S:[S];let I=A.reduce(i,{});_===!1&&(I={});const{prevResolvedValues:N={}}=b,M={...N,...I},D=O=>{k=!0,p.delete(O),b.needsAnimating[O]=!0};for(const O in M){const $=I[O],W=N[O];h.hasOwnProperty(O)||($!==W?vm($)&&vm(W)?!iL($,W)||C?D(O):b.protectedKeys[O]=!0:$!==void 0?D(O):p.add(O):$!==void 0&&p.has(O)?D(O):b.protectedKeys[O]=!0)}b.prevProp=S,b.prevResolvedValues=I,b.isActive&&(h={...h,...I}),r&&t.blockInitialAnimation&&(k=!1),k&&!T&&f.push(...A.map(O=>({animation:O,options:{type:x,...l}})))}if(p.size){const y={};p.forEach(x=>{const b=t.getBaseTarget(x);b!==void 0&&(y[x]=b)}),f.push({animation:y})}let v=Boolean(f.length);return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function rj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iL(e,t):!1}function jo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ij(){return{animate:jo(!0),whileInView:jo(),whileHover:jo(),whileTap:jo(),whileDrag:jo(),whileFocus:jo(),exit:jo()}}class sj extends Fo{constructor(e){super(e),e.animationState||(e.animationState=nj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),F0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let oj=0;class aj extends Fo{constructor(){super(...arguments),this.id=oj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lj={animation:{Feature:sj},exit:{Feature:aj}},x_=(t,e)=>Math.abs(t-e);function cj(t,e){const n=x_(t.x,e.x),r=x_(t.y,e.y);return Math.sqrt(n**2+r**2)}class DL{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=zv(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=cj(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:f}=c,{timestamp:p}=Nn;this.history.push({...f,timestamp:p});const{onStart:h,onMove:m}=this.handlers;u||(h&&h(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Uv(u,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:f}=this.handlers,p=zv(c.type==="pointercancel"?this.lastMoveEventInfo:Uv(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,p),f&&f(c,p)},!J4(e))return;this.handlers=n,this.transformPagePoint=r;const i=j0(e),s=Uv(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Nn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,zv(s,this.history)),this.removeListeners=po(ps(window,"pointermove",this.handlePointerMove),ps(window,"pointerup",this.handlePointerUp),ps(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bo.update(this.updatePoint)}}function Uv(t,e){return e?{point:e(t.point)}:t}function b_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zv({point:t},e){return{point:t,delta:b_(t,OL(e)),offset:b_(t,uj(e)),velocity:dj(e,.1)}}function uj(t){return t[0]}function OL(t){return t[t.length-1]}function dj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=OL(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>mo(e)));)n--;if(!r)return{x:0,y:0};const s=Na(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Er(t){return t.max-t.min}function xx(t,e=0,n=.01){return Math.abs(t-e)<=n}function w_(t,e,n,r=.5){t.origin=r,t.originPoint=It(e.min,e.max,t.origin),t.scale=Er(n)/Er(e),(xx(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=It(n.min,n.max,t.origin)-t.originPoint,(xx(t.translate)||isNaN(t.translate))&&(t.translate=0)}function qu(t,e,n,r){w_(t.x,e.x,n.x,r?r.originX:void 0),w_(t.y,e.y,n.y,r?r.originY:void 0)}function S_(t,e,n){t.min=n.min+e.min,t.max=t.min+Er(e)}function fj(t,e,n){S_(t.x,e.x,n.x),S_(t.y,e.y,n.y)}function E_(t,e,n){t.min=e.min-n.min,t.max=t.min+Er(e)}function Yu(t,e,n){E_(t.x,e.x,n.x),E_(t.y,e.y,n.y)}function hj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?It(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?It(n,t,r.max):Math.min(t,n)),t}function T_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pj(t,{top:e,left:n,bottom:r,right:i}){return{x:T_(t.x,n,i),y:T_(t.y,e,r)}}function __(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function mj(t,e){return{x:__(t.x,e.x),y:__(t.y,e.y)}}function gj(t,e){let n=.5;const r=Er(t),i=Er(e);return i>r?n=Dd(e.min,e.max-r,t.min):r>i&&(n=Dd(t.min,t.max-i,e.min)),Ma(0,1,n)}function vj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bx=.35;function yj(t=bx){return t===!1?t=0:t===!0&&(t=bx),{x:C_(t,"left","right"),y:C_(t,"top","bottom")}}function C_(t,e,n){return{min:R_(t,e),max:R_(t,n)}}function R_(t,e){return typeof t=="number"?t:t[e]||0}const k_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qu=()=>({x:k_(),y:k_()}),A_=()=>({min:0,max:0}),Wt=()=>({x:A_(),y:A_()});function bi(t){return[t("x"),t("y")]}function ML({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Vv(t){return t===void 0||t===1}function wx({scale:t,scaleX:e,scaleY:n}){return!Vv(t)||!Vv(e)||!Vv(n)}function Go(t){return wx(t)||NL(t)||t.z||t.rotate||t.rotateX||t.rotateY}function NL(t){return L_(t.x)||L_(t.y)}function L_(t){return t&&t!=="0%"}function Sm(t,e,n){const r=t-n,i=e*r;return n+i}function P_(t,e,n,r,i){return i!==void 0&&(t=Sm(t,i,r)),Sm(t,n,r)+e}function Sx(t,e=0,n=1,r,i){t.min=P_(t.min,e,n,r,i),t.max=P_(t.max,e,n,r,i)}function FL(t,{x:e,y:n}){Sx(t.x,e.translate,e.scale,e.originPoint),Sx(t.y,n.translate,n.scale,n.originPoint)}function wj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Nl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FL(t,o)),r&&Go(s.latestValues)&&Nl(t,s.latestValues))}e.x=I_(e.x),e.y=I_(e.y)}function I_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function js(t,e){t.min=t.min+e,t.max=t.max+e}function D_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=It(t.min,t.max,s);Sx(t,e[n],e[r],o,e.scale)}const Sj=["x","scaleX","originX"],Ej=["y","scaleY","originY"];function Nl(t,e){D_(t.x,e,Sj),D_(t.y,e,Ej)}function $L(t,e){return ML(bj(t.getBoundingClientRect(),e))}function Tj(t,e,n){const r=$L(t,n),{scroll:i}=e;return i&&(js(r.x,i.offset.x),js(r.y,i.offset.y)),r}const _j=new WeakMap;class Cj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(j0(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:f}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eL(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(h=>{let m=this.getAxisMotionValue(h).get()||0;if(Ui.test(m)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[h];y&&(m=Er(y)*(parseFloat(m)/100))}}this.originPoint[h]=m}),f&&kt.update(()=>f(l,c));const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:f,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:h}=c;if(d&&this.currentDirection===null){this.currentDirection=Rj(h),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",c.point,h),this.updateAxis("y",c.point,h),this.visualElement.render(),p&&p(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new DL(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&kt.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=hj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Ol(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=pj(r.layoutBox,e):this.constraints=!1,this.elastic=yj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=vj(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ol(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Tj(r,i.root,this.visualElement.getTransformPagePoint());let o=mj(i.layout.layoutBox,s);if(n){const a=n(xj(o));this.hasMutatedConstraints=!!a,a&&(o=ML(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=bi(u=>{if(!hh(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,h={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,h)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(cw(e,r,0,n))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:r}=this.getProps();if(!hh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-It(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ol(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bi(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=gj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(o=>{if(!hh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(It(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;_j.set(this.visualElement,this);const e=this.visualElement.current,n=ps(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ol(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=us(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bi(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=bx,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function hh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Rj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kj extends Fo{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new Cj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const O_=t=>(e,n)=>{t&&kt.update(()=>t(e,n))};class Aj extends Fo{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new DL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:O_(e),onStart:O_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&kt.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ps(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lj(){const t=E.useContext(M0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function M_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=M_(t,e.target.x),r=M_(t,e.target.y);return`${n}% ${r}%`}},BL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Pj(t){const e=BL.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ex(t,e,n=1){const[r,i]=Pj(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():ux(i)?Ex(i,e,n+1):i}function Ij(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!ux(s))return;const o=Ex(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!ux(s))continue;const o=Ex(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const N_="_$css",Dj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(BL,p=>(s.push(p),N_)));const o=wo.parse(t);if(o.length>5)return r;const a=wo.createTransformer(t),l=typeof o[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const d=It(c,u,.5);typeof o[2+l]=="number"&&(o[2+l]/=d),typeof o[3+l]=="number"&&(o[3+l]/=d);let f=a(o);if(i){let p=0;f=f.replace(N_,()=>{const h=s[p];return p++,h})}return f}};class Oj extends Te.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;B7(Mj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||kt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jL(t){const[e,n]=Lj(),r=E.useContext(q2);return Te.createElement(Oj,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(B4),isPresent:e,safeToRemove:n})}const Mj={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:Dj},UL=["TopLeft","TopRight","BottomLeft","BottomRight"],Nj=UL.length,F_=t=>typeof t=="string"?parseFloat(t):t,$_=t=>typeof t=="number"||Ce.test(t);function Fj(t,e,n,r,i,s){i?(t.opacity=It(0,n.opacity!==void 0?n.opacity:1,$j(r)),t.opacityExit=It(e.opacity!==void 0?e.opacity:1,0,Bj(r))):s&&(t.opacity=It(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Nj;o++){const a=`border${UL[o]}Radius`;let l=B_(e,a),c=B_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||$_(l)===$_(c)?(t[a]=Math.max(It(F_(l),F_(c),r),0),(Ui.test(c)||Ui.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=It(e.rotate||0,n.rotate||0,r))}function B_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $j=zL(0,.5,iw),Bj=zL(.5,.95,gn);function zL(t,e,n){return r=>r<t?0:r>e?1:n(Dd(t,e,r))}function j_(t,e){t.min=e.min,t.max=e.max}function Dr(t,e){j_(t.x,e.x),j_(t.y,e.y)}function U_(t,e,n,r,i){return t-=e,t=Sm(t,1/n,r),i!==void 0&&(t=Sm(t,1/i,r)),t}function jj(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ui.test(e)&&(e=parseFloat(e),e=It(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=It(s.min,s.max,r);t===s&&(a-=e),t.min=U_(t.min,e,n,a,i),t.max=U_(t.max,e,n,a,i)}function z_(t,e,[n,r,i],s,o){jj(t,e[n],e[r],e[i],e.scale,s,o)}const Uj=["x","scaleX","originX"],zj=["y","scaleY","originY"];function V_(t,e,n,r){z_(t.x,e,Uj,n?n.x:void 0,r?r.x:void 0),z_(t.y,e,zj,n?n.y:void 0,r?r.y:void 0)}function K_(t){return t.translate===0&&t.scale===1}function VL(t){return K_(t.x)&&K_(t.y)}function Tx(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function H_(t){return Er(t.x)/Er(t.y)}class Vj{constructor(){this.members=[]}add(e){uw(this.members,e),e.scheduleRender()}remove(e){if(dw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G_(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Kj=(t,e)=>t.depth-e.depth;class Hj{constructor(){this.children=[],this.isDirty=!1}add(e){uw(this.children,e),this.isDirty=!0}remove(e){dw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kj),this.isDirty=!1,this.children.forEach(e)}}function Gj(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(bo.read(r),t(s-e))};return kt.read(r,!0),()=>bo.read(r)}function Wj(t){window.MotionDebug&&window.MotionDebug.record(t)}function qj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Yj(t,e,n){const r=ir(t)?t:Cc(t);return r.start(cw("",r,e,n)),r.animation}const W_=["","X","Y","Z"],q_=1e3;let Qj=0;const Wo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function KL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=Qj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Wo.totalNodes=Wo.resolvedTargetDeltas=Wo.recalculatedProjection=0,this.nodes.forEach(Zj),this.nodes.forEach(rU),this.nodes.forEach(iU),this.nodes.forEach(eU),Wj(Wo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=qj(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Gj(f,250),Hu.hasAnimatedSinceResize&&(Hu.hasAnimatedSinceResize=!1,this.nodes.forEach(Q_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||cU,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!Tx(this.targetLayout,h)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const S={...AL(m,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else!f&&this.animationProgress===0&&Q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bo.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Y_);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(uU),this.potentialNodes.clear()),this.nodes.forEach(nU),this.nodes.forEach(Xj),this.nodes.forEach(Jj),this.clearAllSnapshots(),Dv.update(),Dv.preRender(),Dv.render())}clearAllSnapshots(){this.nodes.forEach(tU),this.sharedNodes.forEach(oU)}scheduleUpdateProjection(){kt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!VL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Go(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),dU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(js(a.x,l.offset.x),js(a.y,l.offset.y)),a}removeElementScroll(o){const a=Wt();Dr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Dr(a,o);const{scroll:f}=this.root;f&&(js(a.x,-f.offset.x),js(a.y,-f.offset.y))}js(a.x,u.offset.x),js(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Wt();Dr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Nl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Go(u.latestValues)&&Nl(l,u.latestValues)}return Go(this.latestValues)&&Nl(l,this.latestValues),l}removeTransform(o){const a=Wt();Dr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Go(c.latestValues))continue;wx(c.latestValues)&&c.updateSnapshot();const u=Wt(),d=c.measurePageBox();Dr(u,d),V_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Go(this.latestValues)&&V_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=Boolean(this.resumingFrom)||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout?(this.relativeParent=p,this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Yu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0),fj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Dr(this.target,this.layout.layoutBox),FL(this.target,this.targetDelta)):Dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target?(this.relativeParent=p,this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Yu(this.relativeTargetOrigin,this.target,p.target),Dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wx(this.parent.latestValues)||NL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Dr(this.layoutCorrected,this.layout.layoutBox),wj(this.layoutCorrected,this.treeScale,this.path,l);const{target:f}=a;if(!f)return;this.projectionDelta||(this.projectionDelta=Qu(),this.projectionDeltaWithTransform=Qu());const p=this.treeScale.x,h=this.treeScale.y,m=this.projectionTransform;qu(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=G_(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==p||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Wo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Qu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Wt(),p=l?l.source:void 0,h=this.layout?this.layout.source:void 0,m=p!==h,v=this.getStack(),y=!v||v.members.length<=1,x=Boolean(m&&!y&&this.options.crossfade===!0&&!this.path.some(lU));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const w=S/1e3;X_(d.x,o.x,w),X_(d.y,o.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aU(this.relativeTarget,this.relativeTargetOrigin,f,w),b&&Tx(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Wt()),Dr(b,this.relativeTarget)),m&&(this.animationValues=u,Fj(u,c,this.latestValues,w,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bo.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Hu.hasAnimatedSinceResize=!0,this.currentAnimation=Yj(0,q_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&HL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Wt();const d=Er(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Er(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Dr(a,l),Nl(a,u),qu(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Vj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<W_.length;u++){const d="rotate"+W_[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gp(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=gp(o.pointerEvents)||""),this.hasProjected&&!Go(this.latestValues)&&(m.transform=u?u({},""):"none",this.hasProjected=!1),m}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=G_(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:h}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${h.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in mm){if(f[m]===void 0)continue;const{correct:v,applyTo:y}=mm[m],x=c.transform==="none"?f[m]:v(f[m],d);if(y){const b=y.length;for(let S=0;S<b;S++)c[y[S]]=x}else c[m]=x}return this.options.layoutId&&(c.pointerEvents=d===this?gp(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Y_),this.root.sharedNodes.clear()}}}function Xj(t){t.updateLayout()}function Jj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?bi(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Er(f);f.min=r[d].min,f.max=f.min+p}):HL(s,n.layoutBox,r)&&bi(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Er(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=Qu();qu(a,r,n.layoutBox);const l=Qu();o?qu(l,t.applyTransform(i,!0),n.measuredBox):qu(l,r,n.layoutBox);const c=!VL(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const h=Wt();Yu(h,n.layoutBox,f.layoutBox);const m=Wt();Yu(m,r,p.layoutBox),Tx(h,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=h,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Zj(t){Wo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tU(t){t.clearSnapshot()}function Y_(t){t.clearMeasurements()}function nU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Q_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function rU(t){t.resolveTargetDelta()}function iU(t){t.calcProjection()}function sU(t){t.resetRotation()}function oU(t){t.removeLeadSnapshot()}function X_(t,e,n){t.translate=It(e.translate,0,n),t.scale=It(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function J_(t,e,n,r){t.min=It(e.min,n.min,r),t.max=It(e.max,n.max,r)}function aU(t,e,n,r){J_(t.x,e.x,n.x,r),J_(t.y,e.y,n.y,r)}function lU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cU={duration:.45,ease:[.4,0,.1,1]};function uU(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function Z_(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function dU(t){Z_(t.x),Z_(t.y)}function HL(t,e,n){return t==="position"||t==="preserve-aspect"&&!xx(H_(e),H_(n),.2)}const fU=KL({attachResizeListener:(t,e)=>us(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kv={current:void 0},GL=KL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kv.current){const t=new fU(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),Kv.current=t}return Kv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),hU={pan:{Feature:Aj},drag:{Feature:kj,ProjectionNode:GL,MeasureLayout:jL}},pU=new Set(["width","height","top","left","right","bottom","x","y"]),WL=t=>pU.has(t),mU=t=>Object.keys(t).some(WL),eC=t=>t===Za||t===Ce,tC=(t,e)=>parseFloat(t.split(", ")[e]),nC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return tC(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?tC(s[1],t):0}},gU=new Set(["x","y","z"]),vU=B0.filter(t=>!gU.has(t));function yU(t){const e=[];return vU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const rC={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:nC(4,13),y:nC(5,14)},xU=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=rC[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=rC[c](l,s)}),t},bU=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(WL);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=du(u);const f=e[l];let p;if(vm(f)){const h=f.length,m=f[0]===null?1:0;u=f[m],d=du(u);for(let v=m;v<h;v++)p?V0(du(f[v])===p):p=du(f[v])}else p=du(f);if(d!==p)if(eC(d)&&eC(p)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===Ce&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):e[l]=d.transform(f):(o||(s=yU(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=xU(e,t,a);return s.length&&s.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),N0&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function wU(t,e,n,r){return mU(e)?bU(t,e,n,r):{target:e,transitionEnd:r}}const SU=(t,e,n,r)=>{const i=Ij(t,e,r);return e=i.target,r=i.transitionEnd,wU(t,e,n,r)},_x={current:null},qL={current:!1};function EU(){if(qL.current=!0,!!N0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_x.current=t.matches;t.addListener(e),e()}else _x.current=!1}function TU(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(ir(s))t.addValue(i,s),wm(r)&&r.add(i);else if(ir(o))t.addValue(i,Cc(s,{owner:t})),wm(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Cc(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const iC=new WeakMap,YL=Object.keys(Ld),_U=YL.length,sC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],CU=G2.length;class RU{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>kt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=$0(n),this.isVariantNode=$4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&ir(f)&&(f.set(a[d],!1),wm(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,iC.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qL.current||EU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_x.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iC.delete(this.current),this.projection&&this.projection.unmount(),bo.update(this.notifyUpdate),bo.render(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ja.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&kt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let a,l;for(let c=0;c<_U;c++){const u=YL[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:h}=Ld[u];p&&(a=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),h&&(l=h))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:h}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:Boolean(d)||f&&Ol(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:p,layoutRoot:h})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sC.length;r++){const i=sC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=TU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<CU;r++){const i=G2[r],s=this.props[i];(Ad(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=nw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ir(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QL extends RU{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=qB(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){GB(this,r,o);const a=SU(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function kU(t){return window.getComputedStyle(t)}class AU extends QL{readValueFromInstance(e,n){if(Ja.has(n)){const r=aw(n);return r&&r.default||0}else{const r=kU(e),i=(z4(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $L(e,n)}build(e,n,r,i){Q2(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ir(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){W4(e,n,r,i)}}class LU extends QL{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ja.has(n)){const r=aw(n);return r&&r.default||0}return n=q4.has(n)?n:ew(n),e.getAttribute(n)}measureInstanceViewportBox(){return Wt()}scrapeMotionValuesFromProps(e,n){return Q4(e,n)}build(e,n,r,i){J2(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Y4(e,n,r,i)}mount(e){this.isSVGTag=Z2(e.tagName),super.mount(e)}}const PU=(t,e)=>Y2(t)?new LU(e,{enableHardwareAcceleration:!1}):new AU(e,{enableHardwareAcceleration:!0}),IU={layout:{ProjectionNode:GL,MeasureLayout:jL}},DU={...lj,...k$,...hU,...IU},Lr=F7((t,e)=>d$(t,e,DU,PU));function XL(){const t=E.useRef(!1);return pm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function OU(){const t=XL(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>kt.postRender(r),[r]),e]}class MU extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NU({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),E.createElement(MU,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(t,{ref:r}))}const Hv=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=W2(FU),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement(NU,{isPresent:n},t)),E.createElement(M0.Provider,{value:c},t)};function FU(){return new Map}function $U(t){return E.useEffect(()=>()=>t(),[])}const vl=t=>t.key||"";function BU(t,e){t.forEach(n=>{const r=vl(n);e.set(r,n)})}function jU(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Fa=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{V0(!i);let[a]=OU();const l=E.useContext(q2).forceRender;l&&(a=l);const c=XL(),u=jU(t);let d=u;const f=new Set,p=E.useRef(d),h=E.useRef(new Map).current,m=E.useRef(!0);if(pm(()=>{m.current=!1,BU(u,h),p.current=d}),$U(()=>{m.current=!0,h.clear(),f.clear()}),m.current)return E.createElement(E.Fragment,null,d.map(b=>E.createElement(Hv,{key:vl(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},b)));d=[...d];const v=p.current.map(vl),y=u.map(vl),x=v.length;for(let b=0;b<x;b++){const S=v[b];y.indexOf(S)===-1&&f.add(S)}return o==="wait"&&f.size&&(d=[]),f.forEach(b=>{if(y.indexOf(b)!==-1)return;const S=h.get(b);if(!S)return;const w=v.indexOf(b),_=()=>{h.delete(b),f.delete(b);const T=p.current.findIndex(C=>C.key===b);if(p.current.splice(T,1),!f.size){if(p.current=u,c.current===!1)return;a(),r&&r()}};d.splice(w,0,E.createElement(Hv,{key:vl(S),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:s,mode:o},S))}),d=d.map(b=>{const S=b.key;return f.has(S)?b:E.createElement(Hv,{key:vl(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),E.createElement(E.Fragment,null,f.size?d:d.map(b=>E.cloneElement(b)))};var Cx={},UU={get exports(){return Cx},set exports(t){Cx=t}},JL={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=E;function zU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VU=typeof Object.is=="function"?Object.is:zU,KU=kf.useSyncExternalStore,HU=kf.useRef,GU=kf.useEffect,WU=kf.useMemo,qU=kf.useDebugValue;JL.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=HU(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=WU(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var h=o.value;if(i(h,p))return d=h}return d=p}if(h=d,VU(u,p))return h;var m=r(p);return i!==void 0&&i(h,m)?h:(u=p,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=KU(t,s[0],s[1]);return GU(function(){o.hasValue=!0,o.value=a},[a]),qU(a),a};(function(t){t.exports=JL})(UU);var vr="default"in vo?Te:vo,oC=Symbol.for("react-redux-context"),aC=typeof globalThis<"u"?globalThis:{};function YU(){var t;if(!vr.createContext)return{};const e=(t=aC[oC])!=null?t:aC[oC]=new Map;let n=e.get(vr.createContext);return n||(n=vr.createContext(null),e.set(vr.createContext,n)),n}var So=YU(),QU=()=>{throw new Error("uSES not initialized!")};function hw(t=So){return function(){return vr.useContext(t)}}var ZL=hw(),eP=QU,XU=t=>{eP=t},JU=(t,e)=>t===e;function ZU(t=So){const e=t===So?ZL:hw(t),n=(r,i={})=>{const{equalityFn:s=JU,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();vr.useRef(!0);const f=vr.useCallback({[r.name](h){return r(h)}}[r.name],[r,u,o.stabilityCheck]),p=eP(l.addNestedSub,a.getState,c||a.getState,f,s);return vr.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var He=ZU();function ez(t){t()}function tz(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ez(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var lC={notify(){},get:()=>[]};function nz(t,e){let n,r=lC,i=0,s=!1;function o(m){u();const v=r.subscribe(m);let y=!1;return()=>{y||(y=!0,v(),d())}}function a(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return s}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=tz())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lC)}function f(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const h={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return h}var rz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iz=rz?vr.useLayoutEffect:vr.useEffect;function sz({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=vr.useMemo(()=>{const c=nz(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=vr.useMemo(()=>t.getState(),[t]);iz(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||So;return vr.createElement(l.Provider,{value:o},n)}var oz=sz;function tP(t=So){const e=t===So?ZL:hw(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var az=tP();function lz(t=So){const e=t===So?az:tP(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Pr=lz();XU(Cx.useSyncExternalStoreWithSelector);function cz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nP={exports:{}};(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=a.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=a.normalizePath(d.path),a.buildURLFromParts(d)}var f=a.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):c;var p=a.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var h=i.exec(p.path);p.netLoc=h[1],p.path=h[2]}p.netLoc&&!p.path&&(p.path="/");var m={scheme:p.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(m.netLoc=p.netLoc,f.path[0]!=="/"))if(!f.path)m.path=p.path,f.params||(m.params=p.params,f.query||(m.query=p.query));else{var v=p.path,y=v.substring(0,v.lastIndexOf("/")+1)+f.path;m.path=a.normalizePath(y)}return m.path===null&&(m.path=u.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(m)},parseURL:function(l){var c=r.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=a})()})(nP);var pw=nP.exports;function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){fz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dz(t){var e=uz(t,"string");return typeof e=="symbol"?e:String(e)}function fz(t,e,n){return e=dz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jt(){return Jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jt.apply(this,arguments)}const ue=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},hz=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=pz},pz=Number.MAX_SAFE_INTEGER||9007199254740991;let R=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),Re=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),G=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const qo=function(){},Rx={trace:qo,debug:qo,log:qo,warn:qo,info:qo,error:qo};let Xu=Rx;function mz(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):qo}function gz(t,...e){e.forEach(function(n){Xu[n]=t[n]?t[n].bind(t):mz(n)})}function vz(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){gz(t,"debug","log","info","warn","error");try{Xu.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)}catch{Xu=Rx}}else Xu=Rx}const z=Xu,yz=/^(\d+)x(\d+)$/,uC=/(.+?)=(".*?"|.*?)(?:,|$)/g;class At{constructor(e){typeof e=="string"&&(e=At.parseAttrList(e)),Jt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=yz.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const r={},i='"';for(uC.lastIndex=0;(n=uC.exec(e))!==null;){let s=n[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const o=n[1].trim();r[o]=s}return r}}function xz(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function bz(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class rP{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const r=n.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){z.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Jt(new At({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);ue(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(ue(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&ue(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class K0{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var ut={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class iP{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[ut.AUDIO]:null,[ut.VIDEO]:null,[ut.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=(n==null?void 0:n.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=pw.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class Gv extends iP{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new K0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!ue(this.programDateTime))return null;const e=ue(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),r=n.length;if(r>1||r===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,s,o=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:s,partial:o};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,r),l.startDTS=Math.min(l.startDTS,i),l.endDTS=Math.max(l.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[ut.AUDIO]=null,e[ut.VIDEO]=null,e[ut.AUDIOVIDEO]=null}}class wz extends iP{constructor(e,n,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new K0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const Sz=10;class Ez{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?ue(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||Sz}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function mw(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Tz(t){const e=kx(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function _z(t){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function Cz(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),n=mw(o)):n=Tz(o)}}return n}function kx(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const Rc=typeof self<"u"?self:void 0;var tt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Jn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function Wv(t){switch(t){case Jn.FAIRPLAY:return tt.FAIRPLAY;case Jn.PLAYREADY:return tt.PLAYREADY;case Jn.WIDEVINE:return tt.WIDEVINE;case Jn.CLEARKEY:return tt.CLEARKEY}}var ph={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function qv(t){if(t===ph.WIDEVINE)return tt.WIDEVINE;if(t===ph.PLAYREADY)return tt.PLAYREADY;if(t===ph.CENC||t===ph.CLEARKEY)return tt.CLEARKEY}function Yv(t){switch(t){case tt.FAIRPLAY:return Jn.FAIRPLAY;case tt.PLAYREADY:return Jn.PLAYREADY;case tt.WIDEVINE:return Jn.WIDEVINE;case tt.CLEARKEY:return Jn.CLEARKEY}}function mh(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[tt.FAIRPLAY,tt.WIDEVINE,tt.PLAYREADY,tt.CLEARKEY].filter(i=>!!e[i]):[];return!r[tt.WIDEVINE]&&n&&r.push(tt.WIDEVINE),r}const sP=function(t){return Rc!=null&&(t=Rc.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function Rz(t,e,n,r){let i;switch(t){case tt.FAIRPLAY:i=["cenc","sinf"];break;case tt.WIDEVINE:case tt.PLAYREADY:i=["cenc"];break;case tt.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return kz(i,e,n,r)}function kz(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function oP(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),o=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(o){const a=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(a){const l=mw(a).subarray(0,16);return _z(l),l}}return null}function Ea(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const gw=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,aP=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,Od=(t,e)=>{const n=e;let r=0;for(;gw(t,e);){r+=10;const i=H0(t,e+6);r+=i,aP(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},H0=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},Az=(t,e)=>gw(t,e)&&H0(t,e+6)+10<=t.length-e,vw=t=>{const e=cP(t);for(let n=0;n<e.length;n++){const r=e[n];if(lP(r))return Mz(r)}},lP=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",Lz=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=H0(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}},cP=t=>{let e=0;const n=[];for(;gw(t,e);){const r=H0(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=Lz(t.subarray(e)),o=Pz(s);o&&n.push(o),e+=s.size+10}aP(t,e)&&(e+=10)}return n},Pz=t=>t.type==="PRIV"?Iz(t):t.type[0]==="W"?Oz(t):Dz(t),Iz=t=>{if(t.size<2)return;const e=zi(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},Dz=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=zi(t.data.subarray(n),!0);n+=r.length+1;const i=zi(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=zi(t.data.subarray(1));return{key:t.type,data:e}},Oz=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=zi(t.data.subarray(n),!0);n+=r.length+1;const i=zi(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=zi(t.data);return{key:t.type,data:e}},Mz=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}},zi=(t,e=!1)=>{const n=Nz();if(n){const c=n.decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const r=t.length;let i,s,o,a="",l=0;for(;l<r;){if(i=t[l++],i===0&&e)return a;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:s=t[l++],a+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t[l++],o=t[l++],a+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}}return a};let Qv;function Nz(){if(!navigator.userAgent.includes("PlayStation 4"))return!Qv&&typeof self.TextDecoder<"u"&&(Qv=new self.TextDecoder("utf-8")),Qv}const Si={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},Em=Math.pow(2,32)-1,Fz=[].push,uP={video:1,audio:2,id3:3,text:4};function nn(t){return String.fromCharCode.apply(null,t)}function dP(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function we(t,e){const n=fP(t,e);return n<0?4294967296+n:n}function dC(t,e){let n=we(t,e);return n*=Math.pow(2,32),n+=we(t,e+4),n}function fP(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Xv(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function $z(t){const e=t.byteLength;for(let n=0;n<e;){const r=we(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function Ae(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const s=we(t,i),o=nn(t.subarray(i+4,i+8)),a=s>1?i+s:r;if(o===e[0])if(e.length===1)n.push(t.subarray(i+8,a));else{const l=Ae(t.subarray(i+8,a),e.slice(1));l.length&&Fz.apply(n,l)}i=a}return n}function Bz(t){const e=[],n=t[0];let r=8;const i=we(t,r);r+=4;let s=0,o=0;n===0?(s=we(t,r),o=we(t,r+4),r+=8):(s=dC(t,r),o=dC(t,r+8),r+=16),r+=2;let a=t.length+o;const l=dP(t,r);r+=2;for(let c=0;c<l;c++){let u=r;const d=we(t,u);u+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return z.warn("SIDX has hierarchical references (not supported)"),null;const h=we(t,u);u+=4,e.push({referenceSize:f,subsegmentDuration:h,info:{duration:h/i,start:a,end:a+f-1}}),a+=f,u+=4,r=u}return{earliestPresentationTime:s,timescale:i,version:n,referencesCount:l,references:e}}function hP(t){const e=[],n=Ae(t,["moov","trak"]);for(let i=0;i<n.length;i++){const s=n[i],o=Ae(s,["tkhd"])[0];if(o){let a=o[0];const l=we(o,a===0?12:20),c=Ae(s,["mdia","mdhd"])[0];if(c){a=c[0];const u=we(c,a===0?12:20),d=Ae(s,["mdia","hdlr"])[0];if(d){const f=nn(d.subarray(8,12)),p={soun:ut.AUDIO,vide:ut.VIDEO}[f];if(p){const h=Ae(s,["mdia","minf","stbl","stsd"])[0],m=jz(h);e[l]={timescale:u,type:p},e[p]=wn({timescale:u,id:l},m)}}}}}return Ae(t,["moov","mvex","trex"]).forEach(i=>{const s=we(i,4),o=e[s];o&&(o.default={duration:we(i,12),flags:we(i,20)})}),e}function jz(t){const e=t.subarray(8),n=e.subarray(8+78),r=nn(e.subarray(4,8));let i=r;const s=r==="enca"||r==="encv";if(s){const a=Ae(e,[r])[0].subarray(r==="enca"?28:78);Ae(a,["sinf"]).forEach(c=>{const u=Ae(c,["schm"])[0];if(u){const d=nn(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const f=Ae(c,["frma"])[0];f&&(i=nn(f))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const o=Ae(n,["avcC"])[0];i+="."+gh(o[1])+gh(o[2])+gh(o[3]);break}case"mp4a":{const o=Ae(e,[r])[0],a=Ae(o.subarray(28),["esds"])[0];if(a&&a.length>12){let l=4;if(a[l++]!==3)break;l=Jv(a,l),l+=2;const c=a[l++];if(c&128&&(l+=2),c&64&&(l+=a[l++]),a[l++]!==4)break;l=Jv(a,l);const u=a[l++];if(u===64)i+="."+gh(u);else break;if(l+=12,a[l++]!==5)break;l=Jv(a,l);const d=a[l++];let f=(d&248)>>3;f===31&&(f+=1+((d&7)<<3)+((a[l]&224)>>5)),i+="."+f}break}case"hvc1":case"hev1":{const o=Ae(n,["hvcC"])[0],a=o[1],l=["","A","B","C"][a>>6],c=a&31,u=we(o,2),d=(a&32)>>5?"H":"L",f=o[12],p=o.subarray(6,12);i+="."+l+c,i+="."+u.toString(16).toUpperCase(),i+="."+d+f;let h="";for(let m=p.length;m--;){const v=p[m];(v||h)&&(h="."+v.toString(16).toUpperCase()+h)}i+=h;break}case"dvh1":case"dvhe":{const o=Ae(n,["dvcC"])[0],a=o[2]>>1&127,l=o[2]<<5&32|o[3]>>3&31;i+="."+vi(a)+"."+vi(l);break}case"vp09":{const o=Ae(n,["vpcC"])[0],a=o[4],l=o[5],c=o[6]>>4&15;i+="."+vi(a)+"."+vi(l)+"."+vi(c);break}case"av01":{const o=Ae(n,["av1C"])[0],a=o[1]>>>5,l=o[1]&31,c=o[2]>>>7?"H":"M",u=(o[2]&64)>>6,d=(o[2]&32)>>5,f=a===2&&u?d?12:10:u?10:8,p=(o[2]&16)>>4,h=(o[2]&8)>>3,m=(o[2]&4)>>2,v=o[2]&3,y=1,x=1,b=1,S=0;i+="."+a+"."+vi(l)+c+"."+vi(f)+"."+p+"."+h+m+v+"."+vi(y)+"."+vi(x)+"."+vi(b)+"."+S;break}}return{codec:i,encrypted:s}}function Jv(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function gh(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function vi(t){return(t<10?"0":"")+t}function Uz(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&Ae(t,["moov","trak"]).forEach(i=>{const o=Ae(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=Ae(o,["enca"]);const l=a.length>0;l||(a=Ae(o,["encv"])),a.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);Ae(u,["sinf"]).forEach(f=>{const p=pP(f);if(p){const h=p.subarray(8,24);h.some(m=>m!==0)||(z.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${Si.hexDump(h)} -> ${Si.hexDump(n)}`),p.set(n,8))}})})}),t}function pP(t){const e=Ae(t,["schm"])[0];if(e){const n=nn(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return Ae(t,["schi","tenc"])[0]}return null}function zz(t,e){return Ae(e,["moof","traf"]).reduce((n,r)=>{const i=Ae(r,["tfdt"])[0],s=i[0],o=Ae(r,["tfhd"]).reduce((a,l)=>{const c=we(l,4),u=t[c];if(u){let d=we(i,4);if(s===1){if(d===Em)return z.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;d*=Em+1,d+=we(i,8)}const f=u.timescale||9e4,p=d/f;if(ue(p)&&(a===null||p<a))return p}return a},null);return o!==null&&ue(o)&&(n===null||o<n)?o:n},null)}function Vz(t,e){let n=0,r=0,i=0;const s=Ae(t,["moof","traf"]);for(let o=0;o<s.length;o++){const a=s[o],l=Ae(a,["tfhd"])[0],c=we(l,4),u=e[c];if(!u)continue;const d=u.default,f=we(l,0)|(d==null?void 0:d.flags);let p=d==null?void 0:d.duration;f&8&&(f&2?p=we(l,12):p=we(l,8));const h=u.timescale||9e4,m=Ae(a,["trun"]);for(let v=0;v<m.length;v++){if(n=Kz(m[v]),!n&&p){const y=we(m[v],4);n=p*y}u.type===ut.VIDEO?r+=n/h:u.type===ut.AUDIO&&(i+=n/h)}}if(r===0&&i===0){let o=1/0,a=0,l=0;const c=Ae(t,["sidx"]);for(let u=0;u<c.length;u++){const d=Bz(c[u]);if(d!=null&&d.references){o=Math.min(o,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((p,h)=>p+h.info.duration||0,0);a=Math.max(a,f+d.earliestPresentationTime/d.timescale),l=a-o}}if(l&&ue(l))return l}return r||i}function Kz(t){const e=we(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let r=0;const i=we(t,4);for(let s=0;s<i;s++){if(e&256){const o=we(t,n);r+=o,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return r}function Hz(t,e,n){Ae(e,["moof","traf"]).forEach(r=>{Ae(r,["tfhd"]).forEach(i=>{const s=we(i,4),o=t[s];if(!o)return;const a=o.timescale||9e4;Ae(r,["tfdt"]).forEach(l=>{const c=l[0],u=n*a;if(u){let d=we(l,4);if(c===0)d-=u,d=Math.max(d,0),Xv(l,4,d);else{d*=Math.pow(2,32),d+=we(l,8),d-=u,d=Math.max(d,0);const f=Math.floor(d/(Em+1)),p=Math.floor(d%(Em+1));Xv(l,4,f),Xv(l,8,p)}}})})})}function Gz(t){const e={valid:null,remainder:null},n=Ae(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=Ea(t,0,r.byteOffset-8),e.remainder=Ea(t,r.byteOffset-8),e}function qr(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function fC(t,e){const n=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return Ae(r,["moof"]).map(l=>{const c=l.byteOffset-8;Ae(l,["traf"]).map(d=>{const f=Ae(d,["tfdt"]).map(p=>{const h=p[0];let m=we(p,4);return h===1&&(m*=Math.pow(2,32),m+=we(p,8)),m/i})[0];return f!==void 0&&(t=f),Ae(d,["tfhd"]).map(p=>{const h=we(p,4),m=we(p,0)&16777215,v=(m&1)!==0,y=(m&2)!==0,x=(m&8)!==0;let b=0;const S=(m&16)!==0;let w=0;const _=(m&32)!==0;let T=8;h===s&&(v&&(T+=8),y&&(T+=4),x&&(b=we(p,T),T+=4),S&&(w=we(p,T),T+=4),_&&(T+=4),e.type==="video"&&(o=Wz(e.codec)),Ae(d,["trun"]).map(C=>{const k=C[0],A=we(C,0)&16777215,I=(A&1)!==0;let N=0;const M=(A&4)!==0,D=(A&256)!==0;let O=0;const $=(A&512)!==0;let W=0;const U=(A&1024)!==0,j=(A&2048)!==0;let B=0;const H=we(C,4);let q=8;I&&(N=we(C,q),q+=4),M&&(q+=4);let ne=N+c;for(let te=0;te<H;te++){if(D?(O=we(C,q),q+=4):O=b,$?(W=we(C,q),q+=4):W=w,U&&(q+=4),j&&(k===0?B=we(C,q):B=fP(C,q),q+=4),e.type===ut.VIDEO){let he=0;for(;he<W;){const Z=we(r,ne);if(ne+=4,qz(o,r[ne])){const ve=r.subarray(ne,ne+Z);mP(ve,o?2:1,t+B/i,n)}ne+=Z,he+=Z+4}}t+=O/i}}))})})}),n}function Wz(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function qz(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function mP(t,e,n,r){const i=gP(t);let s=0;s+=e;let o=0,a=0,l=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;l=i[s++],o+=l}while(l===255);a=0;do{if(s>=i.length)break;l=i[s++],a+=l}while(l===255);const c=i.length-s;let u=s;if(a<c)s+=a;else if(a>c){z.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(o===4){if(i[u++]===181){const f=dP(i,u);if(u+=2,f===49){const p=we(i,u);if(u+=4,p===1195456820){const h=i[u++];if(h===3){const m=i[u++],v=31&m,y=64&m,x=y?2+v*3:0,b=new Uint8Array(x);if(y){b[0]=m;for(let S=1;S<x;S++)b[S]=i[u++]}r.push({type:h,payloadType:o,pts:n,bytes:b})}}}}}else if(o===5&&a>16){const d=[];for(let h=0;h<16;h++){const m=i[u++].toString(16);d.push(m.length==1?"0"+m:m),(h===3||h===5||h===7||h===9)&&d.push("-")}const f=a-16,p=new Uint8Array(f);for(let h=0;h<f;h++)p[h]=i[u++];r.push({payloadType:o,pts:n,uuid:d.join(""),userData:zi(p),userDataBytes:p})}}}function gP(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===n[0]&&(o++,n.shift()),s[r]=t[o];return s}function Yz(t){const e=t[0];let n="",r="",i=0,s=0,o=0,a=0,l=0,c=0;if(e===0){for(;nn(t.subarray(c,c+1))!=="\0";)n+=nn(t.subarray(c,c+1)),c+=1;for(n+=nn(t.subarray(c,c+1)),c+=1;nn(t.subarray(c,c+1))!=="\0";)r+=nn(t.subarray(c,c+1)),c+=1;r+=nn(t.subarray(c,c+1)),c+=1,i=we(t,12),s=we(t,16),a=we(t,20),l=we(t,24),c=28}else if(e===1){c+=4,i=we(t,c),c+=4;const d=we(t,c);c+=4;const f=we(t,c);for(c+=4,o=2**32*d+f,hz(o)||(o=Number.MAX_SAFE_INTEGER,z.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=we(t,c),c+=4,l=we(t,c),c+=4;nn(t.subarray(c,c+1))!=="\0";)n+=nn(t.subarray(c,c+1)),c+=1;for(n+=nn(t.subarray(c,c+1)),c+=1;nn(t.subarray(c,c+1))!=="\0";)r+=nn(t.subarray(c,c+1)),c+=1;r+=nn(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:a,id:l,payload:u}}function Qz(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(t,4),i=0,r=8;i<n;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function Xz(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;if(e){r=1,i=new Uint8Array(e.length*16);for(let a=0;a<e.length;a++){const l=e[a];if(l.byteLength!==16)throw new RangeError("Invalid key");i.set(l,a*16)}}else r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(o.buffer).setUint32(0,n.byteLength,!1),Qz([112,115,115,104],new Uint8Array([r,0,0,0]),t,s,i,o,n||new Uint8Array)}function Jz(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),s=Zz(i);e.push(s),r+=s.size}}return e}function Zz(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const o=t.buffer,a=Si.hexDump(new Uint8Array(o,n+12,16)),l=t.getUint32(28);let c=null,u=null;if(s===0){if(e-32<l||l<22)return{offset:n,size:e};u=new Uint8Array(o,n+32,l)}else if(s===1){if(!l||r<n+32+l*16+16)return{offset:n,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(o,n+32+d*16,16))}return{version:s,systemId:a,kids:c,data:u,offset:n,size:e}}let vh={};class Md{static clearKeyUriToKeyIdMap(){vh={}}constructor(e,n,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Jn.FAIRPLAY:case Jn.WIDEVINE:case Jn.PLAYREADY:case Jn.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&z.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=eV(e);return new Md(this.method,this.uri,"identity",this.keyFormatVersions,r)}const n=Cz(this.uri);if(n)switch(this.keyFormat){case Jn.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case Jn.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=Xz(r,null,n),this.keyId=oP(n);break}default:{let r=n.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=vh[this.uri];if(!r){const i=Object.keys(vh).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),vh[this.uri]=r}this.keyId=r}return this}}function eV(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const vP=/\{\$([a-zA-Z0-9-_]+)\}/g;function hC(t){return vP.test(t)}function qn(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],s=e[i];s&&(e[i]=Ax(t,s))}}function Ax(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(vP,r=>{const i=r.substring(2,r.length-1),s=n==null?void 0:n[i];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function pC(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(n).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function tV(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function $a(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function nV(t){return typeof self<"u"&&t===self.ManagedMediaSource}const Tm={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function rV(t,e){const n=Tm[e];return!!n&&!!n[t.slice(0,4)]}function Zv(t,e,n=!0){return!t.split(",").some(r=>!yP(r,e,n))}function yP(t,e,n=!0){var r;const i=$a(n);return(r=i==null?void 0:i.isTypeSupported(Nd(t,e)))!=null?r:!1}function Nd(t,e){return`${e}/mp4;codecs="${t}"`}function mC(t){if(t){const e=t.substring(0,4);return Tm.video[e]}return 2}function _m(t){return t.split(",").reduce((e,n)=>{const r=Tm.video[n];return r?(r*2+e)/(e?3:2):(Tm.audio[n]+e)/(e?2:1)},0)}const ey={};function iV(t,e=!0){if(ey[t])return ey[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(yP(n[r],"audio",e))return ey[t]=n[r],n[r];return t}const sV=/flac|opus/i;function Cm(t,e=!0){return t.replace(sV,n=>iV(n.toLowerCase(),e))}function gC(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function oV(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");if(r.length>2){let i=r.shift()+".";i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[n]=i}}return e.join(",")}const vC=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,yC=/#EXT-X-MEDIA:(.*)/g,aV=/^#EXT(?:INF|-X-TARGETDURATION):/m,xC=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),lV=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ni{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return pw.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return aV.test(e)}static parseMasterPlaylist(e,n){const r=hC(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];vC.lastIndex=0;let o;for(;(o=vC.exec(e))!=null;)if(o[1]){var a;const c=new At(o[1]);qn(i,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=Ax(i,o[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:Ni.resolve(u,n)},f=c.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),cV(c.CODECS,d),(a=d.unknownCodecs)!=null&&a.length||s.push(d),i.levels.push(d)}else if(o[3]){const c=o[3],u=o[4];switch(c){case"SESSION-DATA":{const d=new At(u);qn(i,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=d["DATA-ID"];f&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[f]=d);break}case"SESSION-KEY":{const d=bC(u,n,i);d.encrypted&&d.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(d)):z.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new At(u);qn(i,d,["NAME","VALUE","QUERYPARAM"]),pC(i,d,n)}break}case"CONTENT-STEERING":{const d=new At(u);qn(i,d,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:Ni.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=wC(u);break}}}const l=s.length>0&&s.length<i.levels.length;return i.levels=l?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const s={},o=r.levels,a={AUDIO:o.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:o.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(yC.lastIndex=0;(i=yC.exec(e))!==null;){const c=new At(i[1]),u=c.TYPE;if(u){const d=a[u],f=s[u]||[];s[u]=f,qn(r,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const p=c.LANGUAGE,h=c["ASSOC-LANGUAGE"],m=c.CHANNELS,v=c.CHARACTERISTICS,y=c["INSTREAM-ID"],x={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||p||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:p,url:c.URI?Ni.resolve(c.URI,n):""};if(h&&(x.assocLang=h),m&&(x.channels=m),v&&(x.characteristics=v),y&&(x.instreamId=y),d!=null&&d.length){const b=Ni.findGroup(d,x.groupId)||d[0];SC(x,b,"audioCodec"),SC(x,b,"textCodec")}f.push(x)}}return s}static parseLevelPlaylist(e,n,r,i,s,o){const a=new Ez(n),l=a.fragments;let c=null,u=0,d=0,f=0,p=0,h=null,m=new Gv(i,n),v,y,x,b=-1,S=!1,w=null;for(xC.lastIndex=0,a.m3u8=e,a.hasVariableRefs=hC(e);(v=xC.exec(e))!==null;){S&&(S=!1,m=new Gv(i,n),m.start=f,m.sn=u,m.cc=p,m.level=r,c&&(m.initSegment=c,m.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,w&&(m.setByteRange(w),w=null)));const k=v[1];if(k){m.duration=parseFloat(k);const A=(" "+v[2]).slice(1);m.title=A||null,m.tagList.push(A?["INF",k,A]:["INF",k])}else if(v[3]){if(ue(m.duration)){m.start=f,x&&_C(m,x,a),m.sn=u,m.level=r,m.cc=p,l.push(m);const A=(" "+v[3]).slice(1);m.relurl=Ax(a,A),EC(m,h),h=m,f+=m.duration,u++,d=0,S=!0}}else if(v[4]){const A=(" "+v[4]).slice(1);h?m.setByteRange(A,h):m.setByteRange(A)}else if(v[5])m.rawProgramDateTime=(" "+v[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),b===-1&&(b=l.length);else{if(v=v[0].match(lV),!v){z.warn("No matches on slow regex match for level playlist!");continue}for(y=1;y<v.length&&!(typeof v[y]<"u");y++);const A=(" "+v[y]).slice(1),I=(" "+v[y+1]).slice(1),N=v[y+2]?(" "+v[y+2]).slice(1):"";switch(A){case"PLAYLIST-TYPE":a.type=I.toUpperCase();break;case"MEDIA-SEQUENCE":u=a.startSN=parseInt(I);break;case"SKIP":{const M=new At(I);qn(a,M,["RECENTLY-REMOVED-DATERANGES"]);const D=M.decimalInteger("SKIPPED-SEGMENTS");if(ue(D)){a.skippedSegments=D;for(let $=D;$--;)l.unshift(null);u+=D}const O=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");O&&(a.recentlyRemovedDateranges=O.split("	"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(I),1);break;case"VERSION":a.version=parseInt(I);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(I||N)&&m.tagList.push(N?[I,N]:[I]);break;case"DISCONTINUITY":p++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([A]);break;case"BITRATE":m.tagList.push([A,I]);break;case"DATERANGE":{const M=new At(I);qn(a,M,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),qn(a,M,M.clientAttrs);const D=new rP(M,a.dateRanges[M.ID]);D.isValid||a.skippedSegments?a.dateRanges[D.id]=D:z.warn(`Ignoring invalid DATERANGE tag: "${I}"`),m.tagList.push(["EXT-X-DATERANGE",I]);break}case"DEFINE":{{const M=new At(I);qn(a,M,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in M?tV(a,M,o):pC(a,M,n)}break}case"DISCONTINUITY-SEQUENCE":p=parseInt(I);break;case"KEY":{const M=bC(I,n,a);if(M.isSupported()){if(M.method==="NONE"){x=void 0;break}x||(x={}),x[M.keyFormat]&&(x=Jt({},x)),x[M.keyFormat]=M}else z.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${I}"`);break}case"START":a.startTimeOffset=wC(I);break;case"MAP":{const M=new At(I);if(qn(a,M,["BYTERANGE","URI"]),m.duration){const D=new Gv(i,n);TC(D,M,r,x),c=D,m.initSegment=c,c.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=c.rawProgramDateTime)}else{const D=m.byteRangeEndOffset;if(D){const O=m.byteRangeStartOffset;w=`${D-O}@${O}`}else w=null;TC(m,M,r,x),c=m,S=!0}break}case"SERVER-CONTROL":{const M=new At(I);a.canBlockReload=M.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=M.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&M.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=M.optionalFloat("PART-HOLD-BACK",0),a.holdBack=M.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const M=new At(I);a.partTarget=M.decimalFloatingPoint("PART-TARGET");break}case"PART":{let M=a.partList;M||(M=a.partList=[]);const D=d>0?M[M.length-1]:void 0,O=d++,$=new At(I);qn(a,$,["BYTERANGE","URI"]);const W=new wz($,m,n,O,D);M.push(W),m.duration+=W.duration;break}case"PRELOAD-HINT":{const M=new At(I);qn(a,M,["URI"]),a.preloadHint=M;break}case"RENDITION-REPORT":{const M=new At(I);qn(a,M,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(M);break}default:z.warn(`line parsed but not handled: ${v}`);break}}}h&&!h.relurl?(l.pop(),f-=h.duration,a.partList&&(a.fragmentHint=h)):a.partList&&(EC(m,h),m.cc=p,a.fragmentHint=m,x&&_C(m,x,a));const _=l.length,T=l[0],C=l[_-1];if(f+=a.skippedSegments*a.targetduration,f>0&&_&&C){a.averagetargetduration=f/_;const k=C.sn;a.endSN=k!=="initSegment"?k:0,a.live||(C.endList=!0),T&&(a.startCC=T.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(f+=a.fragmentHint.duration),a.totalduration=f,a.endCC=p,b>0&&uV(l,b),a}}function bC(t,e,n){var r,i;const s=new At(t);qn(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=s.METHOD)!=null?r:"",a=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,u=(i=s.KEYFORMAT)!=null?i:"identity";a&&s.IV&&!l&&z.error(`Invalid IV: ${s.IV}`);const d=a?Ni.resolve(a,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Md(o,d,u,f,l)}function wC(t){const n=new At(t).decimalFloatingPoint("TIME-OFFSET");return ue(n)?n:null}function cV(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(s=>rV(s,r));i.length&&(e[`${r}Codec`]=i.join(","),n=n.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=n}function SC(t,e,n){const r=e[n];r&&(t[n]=r)}function uV(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function EC(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),ue(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function TC(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function _C(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}var Ke={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Se={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function CC(t){const{type:e}=t;switch(e){case Ke.AUDIO_TRACK:return Se.AUDIO;case Ke.SUBTITLE_TRACK:return Se.SUBTITLE;default:return Se.MAIN}}function ty(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class dV{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(R.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_LOADING,this.onLevelLoading,this),e.off(R.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(R.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,s=r||i,o=new s(n);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Ke.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:s,url:o,deliveryDirectives:a}=n;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:Ke.LEVEL,url:o,deliveryDirectives:a})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Ke.AUDIO_TRACK,url:s,deliveryDirectives:o})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:s,deliveryDirectives:o}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Ke.SUBTITLE_TRACK,url:s,deliveryDirectives:o})}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const c=i.context;if(c&&c.url===e.url&&c.level===e.level){z.trace("[playlist-loader]: playlist request ongoing");return}z.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===Ke.MANIFEST?s=r.manifestLoadPolicy.default:s=Jt({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),ue((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===Ke.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===Ke.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===Ke.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const f=Math.max(u*3,d*.8)*1e3;s=Jt({},s,{maxTimeToFirstByteMs:Math.min(f,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},a={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,u,d,f)=>{const p=this.getInternalLoader(d);this.resetInternalLoader(d.type);const h=c.data;if(h.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),f||null,u);return}u.parsing.start=performance.now(),Ni.isMediaPlaylist(h)?this.handleTrackOrLevelPlaylist(c,u,d,f||null,p):this.handleMasterPlaylist(c,u,d,f)},onError:(c,u,d,f)=>{this.handleNetworkError(u,d,!1,c,f)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};i.load(e,a,l)}handleMasterPlaylist(e,n,r,i){const s=this.hls,o=e.data,a=ty(e,r),l=Ni.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,r,l.playlistParsingError,i,n);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:f,startTimeOffset:p,variableList:h}=l;this.variableList=h;const{AUDIO:m=[],SUBTITLES:v,"CLOSED-CAPTIONS":y}=Ni.parseMasterPlaylistMedia(o,a,l);m.length&&!m.some(b=>!b.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(z.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new At({}),bitrate:0,url:""})),s.trigger(R.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:v,captions:y,contentSteering:c,url:a,stats:n,networkDetails:i,sessionData:d,sessionKeys:f,startTimeOffset:p,variableList:h})}handleTrackOrLevelPlaylist(e,n,r,i,s){const o=this.hls,{id:a,level:l,type:c}=r,u=ty(e,r),d=0,f=ue(l)?l:ue(a)?a:0,p=CC(r),h=Ni.parseLevelPlaylist(e.data,u,f,p,d,this.variableList);if(c===Ke.MANIFEST){const m={attrs:new At({}),bitrate:0,details:h,name:"",url:u};o.trigger(R.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=h,this.handlePlaylistLoaded(h,e,n,r,i,s)}handleManifestParsingError(e,n,r,i,s){this.hls.trigger(R.ERROR,{type:Re.NETWORK_ERROR,details:G.MANIFEST_PARSING_ERROR,fatal:n.type===Ke.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:s})}handleNetworkError(e,n,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Ke.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===Ke.AUDIO_TRACK||e.type===Ke.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);z.warn(`[playlist-loader]: ${o}`);let l=G.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case Ke.MANIFEST:l=r?G.MANIFEST_LOAD_TIMEOUT:G.MANIFEST_LOAD_ERROR,c=!0;break;case Ke.LEVEL:l=r?G.LEVEL_LOAD_TIMEOUT:G.LEVEL_LOAD_ERROR,c=!1;break;case Ke.AUDIO_TRACK:l=r?G.AUDIO_TRACK_LOAD_TIMEOUT:G.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case Ke.SUBTITLE_TRACK:l=r?G.SUBTITLE_TRACK_LOAD_TIMEOUT:G.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:Re.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:a,networkDetails:n,stats:s};if(i){const f=(n==null?void 0:n.url)||e.url;d.response=wn({url:f,data:void 0},i)}this.hls.trigger(R.ERROR,d)}handlePlaylistLoaded(e,n,r,i,s,o){const a=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:f}=i,p=ty(n,i),h=CC(i),m=typeof i.level=="number"&&h===Se.MAIN?c:void 0;if(!e.fragments.length){const y=new Error("No Segments found in Playlist");a.trigger(R.ERROR,{type:Re.NETWORK_ERROR,details:G.LEVEL_EMPTY_ERROR,fatal:!1,url:p,error:y,reason:y.message,response:n,context:i,level:m,parent:h,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){a.trigger(R.ERROR,{type:Re.NETWORK_ERROR,details:G.LEVEL_PARSING_ERROR,fatal:!1,url:p,error:v,reason:v.message,response:n,context:i,level:m,parent:h,networkDetails:s,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case Ke.MANIFEST:case Ke.LEVEL:a.trigger(R.LEVEL_LOADED,{details:e,level:m||0,id:u||0,stats:r,networkDetails:s,deliveryDirectives:f});break;case Ke.AUDIO_TRACK:a.trigger(R.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:f});break;case Ke.SUBTITLE_TRACK:a.trigger(R.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:r,networkDetails:s,deliveryDirectives:f});break}}}function xP(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function bP(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){z.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){z.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function Fl(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function Lx(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=hV(t.cues,e,n);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&t.removeCue(s[o])}i==="disabled"&&(t.mode=i)}function fV(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<t[s].startTime)i=s-1;else if(e>t[s].startTime&&r<n)r=s+1;else return s}return t[r].startTime-e<e-t[i].startTime?r:i}function hV(t,e,n){const r=[],i=fV(t,e);if(i>-1)for(let s=i,o=t.length;s<o;s++){const a=t[s];if(a.startTime>=e&&a.endTime<=n)r.push(a);else if(a.startTime>n)return r}return r}function vp(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}var oi={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const pV=.25;function Px(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function RC(t,e,n,r,i){let s=new t(e,n,"");try{s.value=r,i&&(s.type=i)}catch{s=new t(e,n,JSON.stringify(i?wn({type:i},r):r))}return s}const yh=(()=>{const t=Px();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function ny(t,e){return t.getTime()/1e3-e}function mV(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class gV{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(Fl(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return xP(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=Px();if(o)for(let a=0;a<s.length;a++){const l=s[a].type;if(l===oi.emsg&&!r||!i)continue;const c=cP(s[a].data);if(c){const u=s[a].pts;let d=u+s[a].duration;d>yh&&(d=yh),d-u<=0&&(d=u+pV);for(let p=0;p<c.length;p++){const h=c[p];if(!lP(h)){this.updateId3CueEnds(u,l);const m=RC(o,u,d,h,l);m&&this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===n&&o.startTime<e&&o.endTime===yh&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(s&&(a||l)){let c;i==="audio"?c=u=>u.type===oi.audioId3&&l:i==="video"?c=u=>u.type===oi.emsg&&a:c=u=>u.type===oi.audioId3&&l||u.type===oi.emsg&&a,Lx(s,n,r,c)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=n,o=Object.keys(s);if(i){const u=Object.keys(r).filter(d=>!o.includes(d));for(let d=u.length;d--;){const f=u[d];Object.keys(r[f].cues).forEach(p=>{i.removeCue(r[f].cues[p])}),delete r[f]}}const a=n.fragments[n.fragments.length-1];if(o.length===0||!ue(a==null?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=a.programDateTime/1e3-a.start,c=Px();for(let u=0;u<o.length;u++){const d=o[u],f=s[d],p=ny(f.startDate,l),h=r[d],m=(h==null?void 0:h.cues)||{};let v=(h==null?void 0:h.durationKnown)||!1,y=yh;const x=f.endDate;if(x)y=ny(x,l),v=!0;else if(f.endOnNext&&!v){const S=o.reduce((w,_)=>{if(_!==f.id){const T=s[_];if(T.class===f.class&&T.startDate>f.startDate&&(!w||f.startDate<w.startDate))return T}return w},null);S&&(y=ny(S.startDate,l),v=!0)}const b=Object.keys(f.attr);for(let S=0;S<b.length;S++){const w=b[S];if(!xz(w))continue;const _=m[w];if(_)v&&!h.durationKnown&&(_.endTime=y);else if(c){let T=f.attr[w];bz(w)&&(T=mV(T));const C=RC(c,p,y,{key:w,data:T},oi.dateRange);C&&(C.id=d,this.id3Track.addCue(C),m[w]=C)}}r[d]={cues:m,dateRange:f,durationKnown:v}}}}class vV{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let c=a&&r||n;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=s!==void 0?s:o*i);const u=i,d=1;return c+Math.min(this.stallCount*d,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,r=this.levelDetails;if(e===null||n===null||r===null)return null;const i=r.edge,s=e-n-this.edgeStalled,o=i-r.totalduration,a=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),a)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(R.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(R.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(R.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(R.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var r;n.details===G.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&z.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!n.live)return;const o=this.targetLatency;if(o===null)return;const a=r-o,l=Math.min(this.maxLatency,o+n.targetduration);if(a<l&&a>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,s)),d=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const Ix=["NONE","TYPE-0","TYPE-1",null];function yV(t){return Ix.indexOf(t)>-1}const Rm=["SDR","PQ","HLG"];function xV(t){return!!t&&Rm.indexOf(t)>-1}var yp={No:"",Yes:"YES",v2:"v2"};function kC(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?yp.v2:yp.Yes:yp.No}class AC{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class kc{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return LC(this._audioGroups,e)}hasSubtitleGroup(e){return LC(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function LC(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function ry(t,e){const n=e.startPTS;if(ue(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&(i.duration=r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function wP(t,e,n,r,i,s){r-n<=0&&(z.warn("Fragment should have a positive duration",e),r=n+e.duration,s=i+e.duration);let a=n,l=r;const c=e.startPTS,u=e.endPTS;if(ue(c)){const v=Math.abs(c-n);ue(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,a=Math.max(n,c),n=Math.min(n,c),i=Math.min(i,e.startDTS),l=Math.min(r,u),r=Math.max(r,u),s=Math.max(s,e.endDTS)}const d=n-e.start;e.start!==0&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=l,e.endDTS=s;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let p;const h=f-t.startSN,m=t.fragments;for(m[h]=e,p=h;p>0;p--)ry(m[p],m[p-1]);for(p=h;p<m.length-1;p++)ry(m[p],m[p+1]);return t.fragmentHint&&ry(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function bV(t,e){let n=null;const r=t.fragments;for(let a=r.length-1;a>=0;a--){const l=r[a].initSegment;if(l){n=l;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i;EV(t,e,(a,l,c,u)=>{if(e.skippedSegments&&l.cc!==a.cc){const d=a.cc-l.cc;for(let f=c;f<u.length;f++)u[f].cc+=d}ue(a.startPTS)&&ue(a.endPTS)&&(l.start=l.startPTS=a.startPTS,l.startDTS=a.startDTS,l.maxStartPTS=a.maxStartPTS,l.endPTS=a.endPTS,l.endDTS=a.endDTS,l.minEndPTS=a.minEndPTS,l.duration=a.endPTS-a.startPTS,l.duration&&(i=l),e.PTSKnown=e.alignedSliding=!0),l.elementaryStreams=a.elementaryStreams,l.loader=a.loader,l.stats=a.stats,a.initSegment&&(l.initSegment=a.initSegment,n=a.initSegment)});const s=e.fragments;if(n&&(e.fragmentHint?s.concat(e.fragmentHint):s).forEach(l=>{var c;l&&(!l.initSegment||l.initSegment.relurl===((c=n)==null?void 0:c.relurl))&&(l.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=s.some(a=>!a),e.deltaUpdateFailed){z.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let a=e.skippedSegments;a--;)s.shift();e.startSN=s[0].sn}else e.canSkipDateRanges&&(e.dateRanges=wV(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));e.startCC=e.fragments[0].cc,e.endCC=s[s.length-1].cc}SV(t.partList,e.partList,(a,l)=>{l.elementaryStreams=a.elementaryStreams,l.stats=a.stats}),i?wP(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):SP(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const a=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=a),e.driftEndTime=o,e.driftEnd=a}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function wV(t,e,n){const r=Jt({},t);return n&&n.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new rP(e[i].attr,r[i]);s.isValid?r[i]=s:z.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function SV(t,e,n){if(t&&e){let r=0;for(let i=0,s=t.length;i<=s;i++){const o=t[i],a=e[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}function EV(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=s;c++){const u=l[o+c];let d=a[c];r&&!d&&c<r&&(d=e.fragments[c]=u),u&&d&&n(u,d,c,a)}}function SP(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||Dx(e,r[n].start)}function Dx(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function TV(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,i=4;if(r.length&&n*i>e){const s=r[r.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function _V(t,e,n){if(!(t!=null&&t.details))return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&n&&n.sn===e?n:null}function PC(t,e,n){var r;return t!=null&&t.details?EP((r=t.details)==null?void 0:r.partList,e,n):null}function EP(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function TP(t){t.forEach((e,n)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(i=>{i.level=n})})}function km(t){switch(t.details){case G.FRAG_LOAD_TIMEOUT:case G.KEY_LOAD_TIMEOUT:case G.LEVEL_LOAD_TIMEOUT:case G.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function IC(t,e){const n=km(e);return t.default[`${n?"timeout":"error"}Retry`]}function yw(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function DC(t){return wn(wn({},t),{errorRetry:null,timeoutRetry:null})}function Am(t,e,n,r){if(!t)return!1;const i=r==null?void 0:r.code,s=e<t.maxNumRetry&&(CV(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,s):s}function CV(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const _P={search:function(t,e){let n=0,r=t.length-1,i=null,s=null;for(;n<=r;){i=(n+r)/2|0,s=t[i];const o=e(s);if(o>0)n=i+1;else if(o<0)r=i-1;else return s}return null}};function RV(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!ue(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;n=n||0;for(let s=0;s<t.length;++s){const o=t[s];if(AV(e,n,o))return o}return null}function Lm(t,e,n=0,r=0,i=.005){let s=null;if(t){s=e[t.sn-e[0].sn+1]||null;const a=t.endDTS-n;a>0&&a<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&Ox(n,r,s)===0||kV(s,t,Math.min(i,r))))return s;const o=_P.search(e,Ox.bind(null,n,r));return o&&(o!==t||!s)?o:s}function kV(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),n);return t.start<=r}return!1}function Ox(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function AV(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function LV(t,e){return _P.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var _n={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},ei={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class PV{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=z.log.bind(z,"[info]:"),this.warn=z.warn.bind(z,"[warning]:"),this.error=z.error.bind(z,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(R.ERROR,this.onError,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(R.ERROR,this.onError,this),e.off(R.ERROR,this.onErrorOut,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Se.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var r,i;if(n.fatal)return;const s=this.hls,o=n.context;switch(n.details){case G.FRAG_LOAD_ERROR:case G.FRAG_LOAD_TIMEOUT:case G.KEY_LOAD_ERROR:case G.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case G.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction={action:_n.DoNothing,flags:ei.None};return}case G.FRAG_GAP:case G.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=_n.SendAlternateToPenaltyBox;return}case G.LEVEL_EMPTY_ERROR:case G.LEVEL_PARSING_ERROR:{var a,l;const c=n.parent===Se.MAIN?n.level:s.loadLevel;n.details===G.LEVEL_EMPTY_ERROR&&((a=n.context)!=null&&(l=a.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case G.LEVEL_LOAD_ERROR:case G.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case G.AUDIO_TRACK_LOAD_ERROR:case G.AUDIO_TRACK_LOAD_TIMEOUT:case G.SUBTITLE_LOAD_ERROR:case G.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const c=s.levels[s.loadLevel];if(c&&(o.type===Ke.AUDIO_TRACK&&c.hasAudioGroup(o.groupId)||o.type===Ke.SUBTITLE_TRACK&&c.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=_n.SendAlternateToPenaltyBox,n.errorAction.flags=ei.MoveAllAlternatesMatchingHost;return}}return;case G.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=s.levels[s.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?n.errorAction={action:_n.SendAlternateToPenaltyBox,flags:ei.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(n)}return;case G.BUFFER_ADD_CODEC_ERROR:case G.REMUX_ALLOC_ERROR:case G.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(i=n.level)!=null?i:s.loadLevel);return;case G.INTERNAL_EXCEPTION:case G.BUFFER_APPENDING_ERROR:case G.BUFFER_FULL_ERROR:case G.LEVEL_SWITCH_ERROR:case G.BUFFER_STALLED_ERROR:case G.BUFFER_SEEK_OVER_HOLE:case G.BUFFER_NUDGE_ON_STALL:n.errorAction={action:_n.DoNothing,flags:ei.None};return}n.type===Re.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=IC(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Am(i,s,km(e),e.response))return{action:_n.RetryRequest,flags:ei.None,retryConfig:i,retryCount:s};const a=this.getLevelSwitchAction(e,n);return i&&(a.retryConfig=i,a.retryCount=s),a}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=n.config,a=IC(e.details.startsWith("key")?o:s,e),l=n.levels.reduce((u,d)=>u+d.fragmentError,0);if(i&&(e.details!==G.FRAG_GAP&&i.fragmentError++,Am(a,l,km(e),e.response)))return{action:_n.RetryRequest,flags:ei.None,retryConfig:a,retryCount:l};const c=this.getLevelSwitchAction(e,r);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var s,o;const c=e.details;i.loadError++,c===G.BUFFER_APPEND_ERROR&&i.fragmentError++;let u=-1;const{levels:d,loadLevel:f,minAutoLevel:p,maxAutoLevel:h}=r;r.autoLevelEnabled||(r.loadLevel=-1);const m=(s=e.frag)==null?void 0:s.type,y=(m===Se.AUDIO&&c===G.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===G.BUFFER_ADD_CODEC_ERROR||c===G.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:_})=>i.audioCodec!==_),b=e.sourceBufferName==="video"&&(c===G.BUFFER_ADD_CODEC_ERROR||c===G.BUFFER_APPEND_ERROR)&&d.some(({codecSet:_,audioCodec:T})=>i.codecSet!==_&&i.audioCodec===T),{type:S,groupId:w}=(o=e.context)!=null?o:{};for(let _=d.length;_--;){const T=(_+f)%d.length;if(T!==f&&T>=p&&T<=h&&d[T].loadError===0){var a,l;const C=d[T];if(c===G.FRAG_GAP&&m===Se.MAIN&&e.frag){const k=d[T].details;if(k){const A=Lm(e.frag,k.fragments,e.frag.start);if(A!=null&&A.gap)continue}}else{if(S===Ke.AUDIO_TRACK&&C.hasAudioGroup(w)||S===Ke.SUBTITLE_TRACK&&C.hasSubtitleGroup(w))continue;if(m===Se.AUDIO&&(a=i.audioGroups)!=null&&a.some(k=>C.hasAudioGroup(k))||m===Se.SUBTITLE&&(l=i.subtitleGroups)!=null&&l.some(k=>C.hasSubtitleGroup(k))||y&&i.audioCodec===C.audioCodec||!y&&i.audioCodec!==C.audioCodec||b&&i.codecSet===C.codecSet)continue}u=T;break}}if(u>-1&&r.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:_n.SendAlternateToPenaltyBox,flags:ei.None,nextAutoLevel:u}}return{action:_n.SendAlternateToPenaltyBox,flags:ei.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case _n.DoNothing:break;case _n.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==G.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case ei.None:this.switchLevel(e,o);break;case ei.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=Ix[Ix.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class xw{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=z.log.bind(z,`${n}:`),this.warn=z.warn.bind(z,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n==null?void 0:n.renditionReports;if(i){let s=-1;for(let o=0;o<i.length;o++){const a=i[o];let l;try{l=new self.URL(a.URI,n.url).href}catch(c){z.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){s=o;break}else l===e.substring(0,l.length)&&(s=o)}if(s!==-1){const o=i[s],a=parseInt(o["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(o["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&u>n.partTarget&&(l+=1)}const c=r&&kC(r);return new AC(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,r){const{details:i,stats:s}=n,o=self.performance.now(),a=s.loading.first?Math.max(0,o-s.loading.first):0;if(i.advancedDateTime=Date.now()-a,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),r&&i.fragments.length>0&&bV(r,i),!this.canLoad||!i.live)return;let l,c,u;if(i.canBlockReload&&i.endSN&&i.advanced){const v=this.hls.config.lowLatencyMode,y=i.lastPartSn,x=i.endSN,b=i.lastPartIndex,S=b!==-1,w=y===x,_=v?0:b;S?(c=w?x+1:y,u=w?_:b+1):c=x+1;const T=i.age,C=T+i.ageHeader;let k=Math.min(C-i.partTarget,i.targetduration*1.5);if(k>0){if(r&&k>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${k} with playlist age: ${i.age}`),k=0;else{const A=Math.floor(k/i.targetduration);if(c+=A,u!==void 0){const I=Math.round(k%i.targetduration/i.partTarget);u+=I}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${T.toFixed(2)}s goal: ${k} skip sn ${A} to part ${u}`)}i.tuneInGoal=k}if(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,u),v||!w){this.loadPlaylist(l);return}}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,n.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,p=(i.edge-f)*1e3,h=TV(i,p);i.updated&&o>this.requestScheduled+h&&(this.requestScheduled=s.loading.start),c!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+h-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+h<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=h);let m=this.requestScheduled-o;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),m)}else this.clearTimer()}getDeliveryDirectives(e,n,r,i){let s=kC(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,s=yp.No),new AC(r,i,s)}checkRetry(e){const n=e.details,r=km(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:a}=i||{},l=!!i&&!!a&&(s===_n.RetryRequest||!i.resolved&&s===_n.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(r&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=yw(a,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${n}" in ${u}ms`)}e.levelRetry=!0,i.resolved=!0}return l}}class sl{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class IV{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new sl(e),this.fast_=new sl(n),this.defaultTTFB_=i,this.ttfb_=new sl(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new sl(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new sl(n,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new sl(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const CP={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},OC={};function DV(t,e,n,r,i,s){const o=t.audioCodec?t.audioGroups:null,a=s==null?void 0:s.audioCodec,l=s==null?void 0:s.channels,c=l?parseInt(l):a?1/0:2;let u=null;if(o!=null&&o.length)try{o.length===1&&o[0]?u=e.groups[o[0]].channels:u=o.reduce((d,f)=>{if(f){const p=e.groups[f];if(!p)throw new Error(`Audio track group ${f} not found`);Object.keys(p.channels).forEach(h=>{d[h]=(d[h]||0)+p.channels[h]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!u&&ue(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function OV(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(CP);const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},o=t.videoRange;o!=="SDR"&&(s.transferFunction=o.toLowerCase());const a=r.split(",").map(l=>({type:"media-source",video:wn(wn({},s),{},{contentType:Nd(l,"video")})}));return i&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",f=parseFloat(d);ue(f)&&f>2&&a.push.apply(a,i.split(",").map(p=>({type:"media-source",audio:{contentType:Nd(p,"audio"),channels:""+f}})))}}))}),Promise.all(a.map(l=>{const c=MV(l);return OC[c]||(OC[c]=n.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:a,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:a,decodingInfoResults:[],error:l}))}function MV(t){const{audio:e,video:n}=t,r=n||e;if(r){const i=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${i}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function NV(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function FV(t,e){let n=!1,r=[];return t&&(n=t!=="SDR",r=[t]),e&&(r=e.allowedVideoRanges||Rm.slice(0),n=e.preferHDR!==void 0?e.preferHDR:NV(),n?r=r.filter(i=>i!=="SDR"):r=["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function $V(t,e,n,r,i){const s=Object.keys(t),o=r==null?void 0:r.channels,a=r==null?void 0:r.audioCodec,l=o&&parseInt(o)===2;let c=!0,u=!1,d=1/0,f=1/0,p=1/0,h=0,m=[];const{preferHDR:v,allowedVideoRanges:y}=FV(e,i);for(let w=s.length;w--;){const _=t[s[w]];c=_.channels[2]>0,d=Math.min(d,_.minHeight),f=Math.min(f,_.minFramerate),p=Math.min(p,_.minBitrate);const T=y.filter(C=>_.videoRanges[C]>0);T.length>0&&(u=!0,m=T)}d=ue(d)?d:0,f=ue(f)?f:0;const x=Math.max(1080,d),b=Math.max(30,f);return p=ue(p)?p:n,n=Math.max(p,n),u||(e=void 0,m=[]),{codecSet:s.reduce((w,_)=>{const T=t[_];if(_===w)return w;if(T.minBitrate>n)return Qi(_,`min bitrate of ${T.minBitrate} > current estimate of ${n}`),w;if(!T.hasDefaultAudio)return Qi(_,"no renditions with default or auto-select sound found"),w;if(a&&_.indexOf(a.substring(0,4))%5!==0)return Qi(_,`audio codec preference "${a}" not found`),w;if(o&&!l){if(!T.channels[o])return Qi(_,`no renditions with ${o} channel sound found (channels options: ${Object.keys(T.channels)})`),w}else if((!a||l)&&c&&T.channels[2]===0)return Qi(_,"no renditions with stereo sound found"),w;return T.minHeight>x?(Qi(_,`min resolution of ${T.minHeight} > maximum of ${x}`),w):T.minFramerate>b?(Qi(_,`min framerate of ${T.minFramerate} > maximum of ${b}`),w):m.some(C=>T.videoRanges[C]>0)?T.maxScore<h?(Qi(_,`max score of ${T.maxScore} < selected max of ${h}`),w):w&&(_m(_)>=_m(w)||T.fragmentError>t[w].fragmentError)?w:(h=T.maxScore,_):(Qi(_,`no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),w)},void 0),videoRanges:m,preferHDR:v,minFramerate:f,minBitrate:p}}function Qi(t,e){z.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function BV(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function jV(t,e,n,r){return t.slice(n,r+1).reduce((i,s)=>{if(!s.codecSet)return i;const o=s.audioGroups;let a=i[s.codecSet];a||(i[s.codecSet]=a={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),a.minBitrate=Math.min(a.minBitrate,s.bitrate);const l=Math.min(s.height,s.width);return a.minHeight=Math.min(a.minHeight,l),a.minFramerate=Math.min(a.minFramerate,s.frameRate),a.maxScore=Math.max(a.maxScore,s.score),a.fragmentError+=s.fragmentError,a.videoRanges[s.videoRange]=(a.videoRanges[s.videoRange]||0)+1,o&&o.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(a.hasDefaultAudio=a.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{a.channels[d]=(a.channels[d]||0)+u.channels[d]}))}),i},{})}function Fi(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Ta(t,i,n))return r}return-1}function Ta(t,e,n){const{groupId:r,name:i,lang:s,assocLang:o,default:a}=t,l=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===o)&&(a===void 0||e.default===a)&&(l===void 0||e.forced===l)&&(!("characteristics"in t)||UV(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function UV(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function Yo(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function zV(t,e,n,r,i){const s=e[r],a=e.reduce((f,p,h)=>{const m=p.uri;return(f[m]||(f[m]=[])).push(h),f},{})[s.uri];a.length>1&&(r=Math.max.apply(Math,a));const l=s.videoRange,c=s.frameRate,u=s.codecSet.substring(0,4),d=MC(e,r,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==u)return!1;const p=f.audioGroups,h=n.filter(m=>!p||p.indexOf(m.groupId)!==-1);return Fi(t,h,i)>-1});return d>-1?d:MC(e,r,f=>{const p=f.audioGroups,h=n.filter(m=>!p||p.indexOf(m.groupId)!==-1);return Fi(t,h,i)>-1})}function MC(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}class VV{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:r,hls:i}=this,{autoLevelEnabled:s,media:o}=i;if(!n||!o)return;const a=performance.now(),l=r?r.stats:n.stats,c=r?r.duration:n.duration,u=a-l.loading.start,d=i.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||n.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||o.paused||!o.playbackRate||!o.readyState)return;const f=i.mainForwardBufferInfo;if(f===null)return;const p=this.bwEstimator.getEstimateTTFB(),h=Math.abs(o.playbackRate);if(u<=Math.max(p,1e3*(c/(h*2))))return;const m=f.len/h,v=l.loading.first?l.loading.first-l.loading.start:-1,y=l.loaded&&v>-1,x=this.getBwEstimate(),b=i.levels,S=b[n.level],w=l.total||Math.max(l.loaded,Math.round(c*S.averageBitrate/8));let _=y?u-v:u;_<1&&y&&(_=Math.min(u,l.loaded*8/x));const T=y?l.loaded*1e3/_:0,C=T?(w-l.loaded)/T:w*8/x+p/1e3;if(C<=m)return;const k=T?T*8:x;let A=Number.POSITIVE_INFINITY,I;for(I=n.level-1;I>d;I--){const M=b[I].maxBitrate;if(A=this.getTimeToLoadFrag(p/1e3,k,c*M,!b[I].details),A<m)break}if(A>=C||A>c*10)return;i.nextLoadLevel=i.nextAutoLevel=I,y?this.bwEstimator.sample(u-Math.min(p,v),l.loaded):this.bwEstimator.sampleTTFB(u);const N=b[I].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>N&&this.resetEstimator(N),this.clearTimer(),z.warn(`[abr] Fragment ${n.sn}${r?" part "+r.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${m.toFixed(3)} s
      Estimated load time for current fragment: ${C.toFixed(3)} s
      Estimated load time for down switch fragment: ${A.toFixed(3)} s
      TTFB estimate: ${v|0} ms
      Current BW estimate: ${ue(x)?x|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${I} @ ${N|0} bps`),i.trigger(R.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:r,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(z.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new IV(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.FRAG_LOADING,this.onFragLoading,this),e.on(R.FRAG_LOADED,this.onFragLoaded,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this),e.on(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.FRAG_LOADING,this.onFragLoading,this),e.off(R.FRAG_LOADED,this.onFragLoaded,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this),e.off(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(R.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case G.BUFFER_ADD_CODEC_ERROR:case G.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case G.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const o=performance.now(),a=s?s.stats:r.stats,l=o-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,r,i){const s=e+r/n,o=i?this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,s=i.end-i.start;ue(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===Se.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:n.duration,o=this.hls.levels[n.level],a=(o.loaded?o.loaded.bytes:0)+i.loaded,l=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(n.bitrateTest){const s={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(R.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Se.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,n,e,0,i,1,1);if(s>-1)return s;const o=this.hls.firstLevel,a=Math.min(Math.max(o,n),e);return z.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:o}=r,a=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=s.abrBandWidthFactor,d=s.abrBandWidthUpFactor;if(c){const v=this.findBestLevel(l,o,i,c,0,u,d);if(v>=0)return v}let f=a?Math.min(a,s.maxStarvationDelay):s.maxStarvationDelay;if(!c){const v=this.bitrateTestDelay;v&&(f=(a?Math.min(a,s.maxLoadingDelay):s.maxLoadingDelay)-v,z.info(`[abr] bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),u=d=1)}const p=this.findBestLevel(l,o,i,c,f,u,d);if(z.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`),p>-1)return p;const h=r.levels[o],m=r.levels[r.loadLevel];return(h==null?void 0:h.bitrate)<(m==null?void 0:m.bitrate)?o:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,s,o,a){var l;const c=i+s,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:f,partCurrent:p}=this,{levels:h,allAudioTracks:m,loadLevel:v,config:y}=this.hls;if(h.length===1)return 0;const x=h[d],b=!!(x!=null&&(l=x.details)!=null&&l.live),S=v===-1||u===-1;let w,_="SDR",T=(x==null?void 0:x.frameRate)||0;const{audioPreference:C,videoPreference:k}=y,A=this.audioTracksByGroup||(this.audioTracksByGroup=BV(m));if(S){if(this.firstSelection!==-1)return this.firstSelection;const O=this.codecTiers||(this.codecTiers=jV(h,A,n,r)),$=$V(O,_,e,C,k),{codecSet:W,videoRanges:U,minFramerate:j,minBitrate:B,preferHDR:H}=$;w=W,_=H?U[U.length-1]:U[0],T=j,e=Math.max(e,B),z.log(`[abr] picked start tier ${JSON.stringify($)}`)}else w=x==null?void 0:x.codecSet,_=x==null?void 0:x.videoRange;const I=p?p.duration:f?f.duration:0,N=this.bwEstimator.getEstimateTTFB()/1e3,M=[];for(let O=r;O>=n;O--){var D;const $=h[O],W=O>d;if(!$)continue;if(y.useMediaCapabilities&&!$.supportedResult&&!$.supportedPromise){const te=navigator.mediaCapabilities;typeof(te==null?void 0:te.decodingInfo)=="function"&&DV($,A,_,T,e,C)?($.supportedPromise=OV($,A,te),$.supportedPromise.then(he=>{if(!this.hls)return;$.supportedResult=he;const Z=this.hls.levels,ve=Z.indexOf($);he.error?z.warn(`[abr] MediaCapabilities decodingInfo error: "${he.error}" for level ${ve} ${JSON.stringify(he)}`):he.supported||(z.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${ve} ${JSON.stringify(he)}`),ve>-1&&Z.length>1&&(z.log(`[abr] Removing unsupported level ${ve}`),this.hls.removeLevel(ve)))})):$.supportedResult=CP}if(w&&$.codecSet!==w||_&&$.videoRange!==_||W&&T>$.frameRate||!W&&T>0&&T<$.frameRate||$.supportedResult&&!((D=$.supportedResult.decodingInfoResults)!=null&&D[0].smooth)){M.push(O);continue}const U=$.details,j=(p?U==null?void 0:U.partTarget:U==null?void 0:U.averagetargetduration)||I;let B;W?B=a*e:B=o*e;const H=I&&i>=I*2&&s===0?h[O].averageBitrate:h[O].maxBitrate,q=this.getTimeToLoadFrag(N,B,H*j,U===void 0);if(B>=H&&(O===u||$.loadError===0&&$.fragmentError===0)&&(q<=N||!ue(q)||b&&!this.bitrateTestDelay||q<c)){const te=this.forcedAutoLevel;return O!==v&&(te===-1||te!==v)&&(M.length&&z.trace(`[abr] Skipped level(s) ${M.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${h[M[0]].codecs}" ${h[M[0]].videoRange}; not compatible with "${x.codecs}" ${_}`),z.info(`[abr] switch candidate:${d}->${O} adjustedbw(${Math.round(B)})-bitrate=${Math.round(B-H)} ttfb:${N.toFixed(1)} avgDuration:${j.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${q.toFixed(1)} firstSelection:${S} codecSet:${w} videoRange:${_} hls.loadLevel:${v}`)),S&&(this.firstSelection=O),O}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls,i=Math.min(Math.max(e,r),n);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class KV{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var mn={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class HV{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(R.BUFFER_APPENDED,this.onBufferAppended,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this),e.on(R.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.BUFFER_APPENDED,this.onBufferAppended,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this),e.off(R.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const o=r[i[s]];if((o==null?void 0:o.body.type)===n&&o.buffered){const a=o.body;if(a.start<=e&&e<=a.end)return a}}return null}detectEvictedFragments(e,n,r,i){this.timeRanges&&(this.timeRanges[e]=n);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a||s>=a.body.sn)return;if(!a.buffered&&!a.loaded){a.body.type===r&&this.removeFragment(a.body);return}const l=a.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return u&&this.removeFragment(a.body),u})})}detectPartialFragments(e){const n=this.timeRanges,{frag:r,part:i}=e;if(!n||r.sn==="initSegment")return;const s=ol(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const a=!r.relurl;Object.keys(n).forEach(l=>{const c=r.elementaryStreams[l];if(!c)return;const u=n[l],d=a||c.partial===!0;o.range[l]=this.getBufferedTimes(r,i,d,u)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),xh(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=ol(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,n,r,i){const s={time:[],partial:r},o=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||o;for(let u=0;u<i.length;u++){const d=i.start(u)-this.bufferPadding,f=i.end(u)+this.bufferPadding;if(c>=d&&l<=f){s.time.push({startPTS:Math.max(o,i.start(u)),endPTS:Math.min(a,i.end(u))});break}else if(o<f&&a>d){const p=Math.max(o,i.start(u)),h=Math.min(a,i.end(u));h>p&&(s.partial=!0,s.time.push({startPTS:p,endPTS:h}))}else if(a<=d)break}return s}getPartialFragment(e){let n=null,r,i,s,o=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&xh(u)&&(i=u.body.start-a,s=u.body.end+a,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(n=u.body,o=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||xh(n))}getState(e){const n=ol(e),r=this.fragments[n];return r?r.buffered?xh(r)?mn.PARTIAL:mn.OK:mn.APPENDING:mn.NOT_LOADED}isTimeBuffered(e,n,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&n<=s)return!0;if(n<=i)return!1}return!1}onFragLoaded(e,n){const{frag:r,part:i}=n;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:n,o=ol(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:s}=n;if(r.sn==="initSegment")return;const o=r.type;if(i){let a=this.activePartLists[o];a||(this.activePartLists[o]=a=[]),a.push(i)}this.timeRanges=s,Object.keys(s).forEach(a=>{const l=s[a];this.detectEvictedFragments(a,l,o,i)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=ol(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const l=a.body;l.type!==r||i&&!l.gap||l.start<n&&l.end>e&&(a.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const n=ol(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function xh(t){var e,n,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((r=t.range.audiovideo)==null?void 0:r.partial))}function ol(t){return`${t.type}_${t.level}_${t.sn}`}const GV={length:0,start:()=>0,end:()=>0};class yt{static isBuffered(e,n){try{if(e){const r=yt.getBuffered(e);for(let i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,n,r){try{if(e){const i=yt.getBuffered(e),s=[];let o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,n,r)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let i=[];if(r)for(let c=0;c<e.length;c++){const u=i.length;if(u){const d=i[u-1].end;e[c].start-d<r?e[c].end>d&&(i[u-1].end=e[c].end):i.push(e[c])}else i.push(e[c])}else i=e;let s=0,o,a=n,l=n;for(let c=0;c<i.length;c++){const u=i[c].start,d=i[c].end;if(n+r>=u&&n<d)a=u,l=d,s=l-n;else if(n+r<u){o=u;break}}return{len:s,start:a||0,end:l||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(n){return z.log("failed to get media.buffered",n),GV}}}class bw{constructor(e,n,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=bh(),this.buffering={audio:bh(),video:bh(),audiovideo:bh()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=s,this.partial=o}}function bh(){return{start:0,executeStart:0,executeEnd:0,end:0}}function xp(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function WV(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function qV(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length){z.log("No fragments to align");return}const i=xp(n,r[0].cc);if(!i||i&&!i.startPTS){z.log("No frag in previous level to align on");return}return i}function NC(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function RP(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)NC(n[r],t);e.fragmentHint&&NC(e.fragmentHint,t),e.alignedSliding=!0}function YV(t,e,n){e&&(QV(t,n,e),!n.alignedSliding&&e&&Pm(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&SP(e,n))}function QV(t,e,n){if(WV(t,n,e)){const r=qV(n,e);r&&ue(r.start)&&(z.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),RP(r.start,e))}}function Pm(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,s;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(i=xp(r,o),s=xp(n,o)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=xp(n,i.cc)||n[Math.floor(n.length/2)]);const a=i.programDateTime,l=s.programDateTime;if(!a||!l)return;const c=(l-a)/1e3-(s.start-i.start);RP(c,t)}const FC=Math.pow(2,17);class XV{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new rs({type:Re.NETWORK_ERROR,details:G.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(p=>p[0]==="GAP")){l(BC(e));return}else e.gap=!1;const c=this.loader=e.loader=s?new s(i):new o(i),u=$C(e),d=DC(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:FC};e.stats=c.stats,c.load(u,f,{onSuccess:(p,h,m,v)=>{this.resetLoader(e,c);let y=p.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(y.slice(0,16)),y=y.slice(16)),a({frag:e,part:null,payload:y,networkDetails:v})},onError:(p,h,m,v)=>{this.resetLoader(e,c),l(new rs({type:Re.NETWORK_ERROR,details:G.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:wn({url:r,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:m,stats:v}))},onAbort:(p,h,m)=>{this.resetLoader(e,c),l(new rs({type:Re.NETWORK_ERROR,details:G.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:p}))},onTimeout:(p,h,m)=>{this.resetLoader(e,c),l(new rs({type:Re.NETWORK_ERROR,details:G.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:m,stats:p}))},onProgress:(p,h,m,v)=>{n&&n({frag:e,part:null,payload:m,networkDetails:v})}})})}loadPart(e,n,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(BC(e,n));return}const c=this.loader=e.loader=s?new s(i):new o(i),u=$C(e,n),d=DC(i.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:FC};n.stats=c.stats,c.load(u,f,{onSuccess:(p,h,m,v)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const y={frag:e,part:n,payload:p.data,networkDetails:v};r(y),a(y)},onError:(p,h,m,v)=>{this.resetLoader(e,c),l(new rs({type:Re.NETWORK_ERROR,details:G.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:wn({url:u.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:m,stats:v}))},onAbort:(p,h,m)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new rs({type:Re.NETWORK_ERROR,details:G.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:m,stats:p}))},onTimeout:(p,h,m)=>{this.resetLoader(e,c),l(new rs({type:Re.NETWORK_ERROR,details:G.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:m,stats:p}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,s=i.total;if(r.loaded+=i.loaded,s){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(r.loaded/s),l),d=(l-c)*Math.round(r.loaded/c);r.total=r.loaded+d}else r.total=Math.max(r.loaded,r.total);const o=r.loading,a=i.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function $C(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(ue(i)&&ue(s)){var o;let a=i,l=s;if(t.sn==="initSegment"&&((o=t.decryptdata)==null?void 0:o.method)==="AES-128"){const c=s-i;c%16&&(l=s+(16-c%16)),i!==0&&(r.resetIV=!0,a=i-16)}r.rangeStart=a,r.rangeEnd=l}return r}function BC(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Re.MEDIA_ERROR,details:G.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new rs(r)}class rs extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class JV{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class ZV{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function eK(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?Ea(t,0,e-n):t}class tK{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],a=r[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],f=l[3],p=new Uint32Array(256);let h=0,m=0,v=0;for(v=0;v<256;v++)v<128?p[v]=v<<1:p[v]=v<<1^283;for(v=0;v<256;v++){let y=m^m<<1^m<<2^m<<3^m<<4;y=y>>>8^y&255^99,e[h]=y,n[y]=h;const x=p[h],b=p[x],S=p[b];let w=p[y]*257^y*16843008;i[h]=w<<24|w>>>8,s[h]=w<<16|w>>>16,o[h]=w<<8|w>>>24,a[h]=w,w=S*16843009^b*65537^x*257^h*16843008,c[y]=w<<24|w>>>8,u[y]=w<<16|w>>>16,d[y]=w<<8|w>>>24,f[y]=w,h?(h=x^p[p[p[S^x]]],m^=p[p[m]]):h=m=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let a,l;const c=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),d=this.sBox,f=this.rcon,p=this.invSubMix,h=p[0],m=p[1],v=p[2],y=p[3];let x,b;for(a=0;a<o;a++){if(a<s){x=c[a]=n[a];continue}b=x,a%s===0?(b=b<<8|b>>>24,b=d[b>>>24]<<24|d[b>>>16&255]<<16|d[b>>>8&255]<<8|d[b&255],b^=f[a/s|0]<<24):s>6&&a%s===4&&(b=d[b>>>24]<<24|d[b>>>16&255]<<16|d[b>>>8&255]<<8|d[b&255]),c[a]=x=(c[a-s]^b)>>>0}for(l=0;l<o;l++)a=o-l,l&3?b=c[a]:b=c[a-4],l<4||a<=4?u[l]=b:u[l]=h[d[b>>>24]]^m[d[b>>>16&255]]^v[d[b>>>8&255]]^y[d[b&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],u=a[2],d=a[3],f=this.uint8ArrayToUint32Array_(r);let p=f[0],h=f[1],m=f[2],v=f[3];const y=new Int32Array(e),x=new Int32Array(y.length);let b,S,w,_,T,C,k,A,I,N,M,D,O,$;const W=this.networkToHostOrderSwap;for(;n<y.length;){for(I=W(y[n]),N=W(y[n+1]),M=W(y[n+2]),D=W(y[n+3]),T=I^s[0],C=D^s[1],k=M^s[2],A=N^s[3],O=4,$=1;$<i;$++)b=l[T>>>24]^c[C>>16&255]^u[k>>8&255]^d[A&255]^s[O],S=l[C>>>24]^c[k>>16&255]^u[A>>8&255]^d[T&255]^s[O+1],w=l[k>>>24]^c[A>>16&255]^u[T>>8&255]^d[C&255]^s[O+2],_=l[A>>>24]^c[T>>16&255]^u[C>>8&255]^d[k&255]^s[O+3],T=b,C=S,k=w,A=_,O=O+4;b=o[T>>>24]<<24^o[C>>16&255]<<16^o[k>>8&255]<<8^o[A&255]^s[O],S=o[C>>>24]<<24^o[k>>16&255]<<16^o[A>>8&255]<<8^o[T&255]^s[O+1],w=o[k>>>24]<<24^o[A>>16&255]<<16^o[T>>8&255]<<8^o[C&255]^s[O+2],_=o[A>>>24]<<24^o[T>>16&255]<<16^o[C>>8&255]<<8^o[k&255]^s[O+3],x[n]=W(b^p),x[n+1]=W(_^h),x[n+2]=W(w^m),x[n+3]=W(S^v),p=I,h=N,m=M,v=D,n=n+4}return x.buffer}}const nK=16;class ww{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?eK(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),n,r);const o=this.flush();o?i(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r)}softwareDecrypt(e,n,r){const{currentIV:i,currentResult:s,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=qr(o,e),this.remainderData=null);const a=this.getValidChunk(e);if(!a.length)return null;i&&(r=i);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new tK),l.expandKey(n);const c=s;return this.currentResult=l.decrypt(a.buffer,0,r),this.currentIV=Ea(a,-16).buffer,c||null}webCryptoDecrypt(e,n,r){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r));this.key=n,this.fastAesKey=new ZV(this.subtle,n)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new JV(this.subtle,new Uint8Array(r)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(z.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,n,r)))}onWebCryptoError(e,n,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%nK;return r!==e.length&&(n=Ea(e,0,r),this.remainderData=Ea(e,r)),n}logOnce(e){this.logEnabled&&(z.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const rK={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},J={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Sw extends KV{constructor(e,n,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=J.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=z.log.bind(z,`${i}:`),this.warn=z.warn.bind(z,`${i}:`),this.hls=e,this.fragmentLoader=new XV(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new ww(e.config),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=J.STOPPED}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const r=n.partList;if(r!=null&&r.length){const s=r[r.length-1];return yt.isBuffered(this.media,s.start+s.duration/2)}const i=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===J.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:r,mediaBuffer:i,state:s}=this,o=r?r.currentTime:0,a=yt.bufferInfo(i||r,o,e.maxBufferHole);if(this.log(`media seeking to ${ue(o)?o.toFixed(3):o}, state: ${s}`),this.state===J.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,c=n.start-l,u=n.start+n.duration+l;if(!a.len||u<a.start||c>a.end){const d=o>u;(o<c||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!a.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=J.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,r,i).then(s=>{if(!s)return;const o=this.state;if(this.fragContextChanged(e)){(o===J.FRAG_LOADING||!this.fragCurrent&&o===J.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=J.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(R.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===J.STOPPED||this.state===J.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===mn.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===mn.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(R.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,o=e.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){const a=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer).catch(l=>{throw i.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return i.trigger(R.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:a,tdecrypt:c}}),r.payload=l,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===J.STOPPED||this.state===J.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=J.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var r,i,s,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===Se.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${a?rK.toString(yt.getBuffered(a)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==Se.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=J.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=J.IDLE,a&&(!this.loadedmetadata&&e.type==Se.MAIN&&a.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(l=>!l),a=new bw(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);n.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var s;const o=n==null?void 0:n.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=J.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(R.KEY_LOADED,u),this.state===J.KEY_LOADING&&(this.state=J.IDLE),u}),this.hls.trigger(R.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=o.partList;if(u&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const d=this.getNextPart(u,e,r);if(d>-1){const f=u[d];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=J.FRAG_LOADING;let p;return a?p=a.then(h=>!h||this.fragContextChanged(h.frag)?null:this.doFragPartsLoad(e,f,n,i)).catch(h=>this.handleFragLoadError(h)):p=this.doFragPartsLoad(e,f,n,i).catch(h=>this.handleFragLoadError(h)),this.hls.trigger(R.FRAG_LOADING,{frag:e,part:f,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):p}else if(!e.url||this.loadedEndOfParts(u,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),ue(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=J.FRAG_LOADING;const l=this.config.progressive;let c;return l&&a?c=a.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,i)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?i:void 0),a]).then(([u])=>(!l&&u&&i&&i(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(R.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,r,i){return new Promise((s,o)=>{var a;const l=[],c=(a=r.details)==null?void 0:a.partList,u=d=>{this.fragmentLoader.loadPart(e,d,i).then(f=>{l[d.index]=f;const p=f.part;this.hls.trigger(R.FRAG_LOADED,f);const h=PC(r,e.sn,d.index+1)||EP(c,e.sn,d.index+1);if(h)u(h);else return s({frag:e,part:p,partsLoaded:l})}).catch(o)};u(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===G.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(R.ERROR,n)}else this.hls.trigger(R.ERROR,{type:Re.OTHER_ERROR,details:G.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==J.PARSING){!this.fragCurrent&&this.state!==J.STOPPED&&this.state!==J.ERROR&&(this.state=J.IDLE);return}const{frag:r,part:i,level:s}=n,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const a=n[i],l=o>-1?PC(a,s,o):null,c=l?l.fragment:_V(a,s,r);return c?(r&&r!==c&&(c.stats=r.stats),{frag:c,part:l,level:a}):null}bufferFragmentData(e,n,r,i,s){var o;if(!e||this.state!==J.PARSING)return;const{data1:a,data2:l}=e;let c=a;if(a&&l&&(c=qr(a,l)),!((o=c)!=null&&o.length))return;const u={type:e.type,frag:n,part:r,chunkMeta:i,parent:n.type,data:c};if(this.hls.trigger(R.BUFFER_APPENDING,u),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!yt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=yt.bufferInfo(n,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),a=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,n){const r=this.getLoadPosition();return ue(r)?this.getFwdBufferInfoAtPos(e,r,n):null}getFwdBufferInfoAtPos(e,n,r){const{config:{maxBufferHole:i}}=this,s=yt.bufferInfo(e,n,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(n,r);if(o&&s.nextStart<o.end)return yt.bufferInfo(e,n,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),s=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=Se.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,Se.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start;let a;if(n.live){const l=s.initialLiveManifestSize;if(i<l)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(a=this.getInitialLiveFragment(n,r),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=o&&(a=r[0]);if(!a){const l=s.lowLatencyMode?n.partEnd:n.fragmentEnd;a=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===mn.OK||r===mn.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,s){const o=e.gap,a=this.getNextFragment(this.nextLoadPosition,n);if(a===null)return a;if(e=a,o&&e&&!e.gap&&r.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(l!==null&&r.len+l.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,s=!1,o=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(o=o&&!c.independent,i>-1&&r<c.start)break;const u=c.loaded;u?i=-1:(s||c.independent||o)&&c.fragment===n&&(i=a),s=u}return i}loadedEndOfParts(e,n){const r=e[e.length-1];return r&&n>r.start&&r.loaded}getInitialLiveFragment(e,n){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=RV(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=n[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=LV(n,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:a}=r;const{fragmentHint:l}=r,{maxFragLookUpTolerance:c}=i,u=r.partList,d=!!(i.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(o=o.concat(l),a=l.sn);let f;if(e<n){const p=e>n-c?0:c;f=Lm(s,o,e,p)}else f=o[o.length-1];if(f){const p=f.sn-r.startSN,h=this.fragmentTracker.getState(f);if((h===mn.OK||h===mn.PARTIAL&&f.gap)&&(s=f),s&&f.sn===s.sn&&(!d||u[0].fragment.sn>f.sn)&&s&&f.level===s.level){const v=o[p+1];f.sn<a&&this.fragmentTracker.getState(v)!==mn.OK?f=v:f=null}}return f}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,o=e.fragments[0].start,a=e.edge,l=s>=o-n.maxFragLookUpTolerance&&s<=a;if(i!==null&&r.duration>i&&(s<i||!l)){const c=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&r.readyState<4||s<a-c)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,o=!n,a=e.alignedSliding&&ue(s);if(o||!a&&!s){const{fragPrevious:l}=this;YV(l,r,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${i}`),c}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;if(r<n&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&ue(s)?(r=n+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||n:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==J.FRAG_LOADING_WAITING_RETRY)&&(this.state=J.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const u=this.getCurrentContext(n.chunkMeta);u&&(n.frag=u.frag)}const r=n.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=n.details===G.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=n.errorAction,{action:a,retryCount:l=0,retryConfig:c}=o||{};if(o&&a===_n.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=yw(c,l);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),o.resolved=!0,this.retryDate=self.performance.now()+u,this.state=J.FRAG_LOADING_WAITING_RETRY}else if(c&&o)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!s&&a!==_n.RemoveAlternatePermanently&&(o.resolved=!0);else{z.warn(`${n.details} reached or exceeded max retry (${l})`);return}else(o==null?void 0:o.action)===_n.SendAlternateToPenaltyBox?this.state=J.WAITING_LEVEL:this.state=J.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===J.PARSING||this.state===J.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(n==null?void 0:n.duration)||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===Se.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==J.STOPPED&&(this.state=J.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=yt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===J.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=J.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){var s;const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const f=i?0:wP(o,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(R.LEVEL_PTS_UPDATED,{details:o,level:r,drift:f,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=J.PARSED,this.hls.trigger(R.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class kP{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=iK(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function iK(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const s=t[i];n.set(s,r),r+=s.length}return n}function sK(){return typeof __HLS_WORKER_BUNDLE__=="function"}function oK(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function aK(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function ki(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Ew{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=qr(this.cachedData,e),this.cachedData=null);let r=Od(e,0),i=r?r.length:0,s;const o=this._audioTrack,a=this._id3Track,l=r?vw(r):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&ue(l))&&(this.basePTS=lK(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:oi.audioId3,duration:Number.POSITIVE_INFINITY});i<c;){if(this.canParse(e,i)){const u=this.appendFrame(o,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,s=i):i=c}else Az(e,i)?(r=Od(e,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:oi.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===c&&s!==c){const u=Ea(e,s);this.cachedData?this.cachedData=qr(this.cachedData,u):this.cachedData=u}}return{audioTrack:o,videoTrack:ki(),id3Track:a,textTrack:ki()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:ki(),id3Track:this._id3Track,textTrack:ki()}}destroy(){}}const lK=(t,e,n)=>{if(ue(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};function cK(t,e,n,r){let i,s,o,a;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[n+2]&192)>>>6)+1;const d=(e[n+2]&60)>>>2;if(d>u.length-1){const f=new Error(`invalid ADTS sampling index:${d}`);t.emit(R.ERROR,R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return o=(e[n+2]&1)<<2,o|=(e[n+3]&192)>>>6,z.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(i=5,a=new Array(4),s=d-3):(i=2,a=new Array(2),s=d):l.indexOf("android")!==-1?(i=2,a=new Array(2),s=d):(i=5,a=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&d>=6?s=d-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(d>=6&&o===1||/vivaldi/i.test(l))||!r&&o===1)&&(i=2,a=new Array(2)),s=d)),a[0]=i<<3,a[0]|=(d&14)>>1,a[1]|=(d&1)<<7,a[1]|=o<<3,i===5&&(a[1]|=(s&14)>>1,a[2]=(s&1)<<7,a[2]|=2<<2,a[3]=0),{config:a,samplerate:u[d],channelCount:o,codec:"mp4a.40."+i,manifestCodec:c}}function AP(t,e){return t[e]===255&&(t[e+1]&246)===240}function LP(t,e){return t[e+1]&1?7:9}function Tw(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function uK(t,e){return e+5<t.length}function Im(t,e){return e+1<t.length&&AP(t,e)}function dK(t,e){return uK(t,e)&&AP(t,e)&&Tw(t,e)<=t.length-e}function fK(t,e){if(Im(t,e)){const n=LP(t,e);if(e+n>=t.length)return!1;const r=Tw(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||Im(t,i)}return!1}function PP(t,e,n,r,i){if(!t.samplerate){const s=cK(e,n,r,i);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,z.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function IP(t){return 1024*9e4/t}function hK(t,e){const n=LP(t,e);if(e+n<=t.length){const r=Tw(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function DP(t,e,n,r,i){const s=IP(t.samplerate),o=r+i*s,a=hK(e,n);let l;if(a){const{frameLength:d,headerLength:f}=a,p=f+d,h=Math.max(0,n+p-e.length);h?(l=new Uint8Array(p-f),l.set(e.subarray(n+f,e.length),0)):l=e.subarray(n+f,n+p);const m={unit:l,pts:o};return h||t.samples.push(m),{sample:m,length:p,missing:h}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:o},length:c,missing:-1}}let wh=null;const pK=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],mK=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],gK=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],vK=[0,1,1,4];function OP(t,e,n,r,i){if(n+24>e.length)return;const s=MP(e,n);if(s&&n+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,a=r+i*o,l={unit:e.subarray(n,n+s.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function MP(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&s!==3){const o=t[e+2]>>1&1,a=t[e+3]>>6,l=n===3?3-r:r===3?3:4,c=pK[l*14+i-1]*1e3,d=mK[(n===3?0:n===2?1:2)*3+s],f=a===3?1:2,p=gK[n][r],h=vK[r],m=p*8*h,v=Math.floor(p*c/d+o)*h;if(wh===null){const b=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);wh=b?parseInt(b[1]):0}return!!wh&&wh<=87&&r===2&&c>=224e3&&a===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:f,frameLength:v,samplesPerFrame:m}}}function _w(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function NP(t,e){return e+1<t.length&&_w(t,e)}function yK(t,e){return _w(t,e)&&4<=t.length-e}function FP(t,e){if(e+1<t.length&&_w(t,e)){const r=MP(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===t.length||NP(t,s)}return!1}class xK extends Ew{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Od(e,0);let r=(n==null?void 0:n.length)||0;if(FP(e,r))return!1;for(let i=e.length;r<i;r++)if(fK(e,r))return z.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return dK(e,n)}appendFrame(e,n,r){PP(e,this.observer,n,r,e.manifestCodec);const i=DP(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const bK=/\/emsg[-/]ID3/i;class wK{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const s=this.videoTrack=ki("video",1),o=this.audioTrack=ki("audio",1),a=this.txtTrack=ki("text",1);if(this.id3Track=ki("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=hP(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;s.id=c,s.timescale=a.timescale=u,s.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;o.id=c,o.timescale=u,o.codec=d}a.id=uP.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return $z(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=qr(this.remainderData,e));const a=Gz(r);this.remainderData=a.remainder,i.samples=a.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,n);return s.samples=fC(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=fC(e,n),{videoTrack:n,audioTrack:ki(),id3Track:i,textTrack:ki()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=Ae(e.samples,["emsg"]);i&&i.forEach(s=>{const o=Yz(s);if(bK.test(o.schemeIdUri)){const a=ue(o.presentationTime)?o.presentationTime/o.timeScale:n+o.presentationTimeDelta/o.timeScale;let l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=o.payload;r.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:oi.emsg,duration:l})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const $P=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=t[e];const a=Math.min(r,8),l=8-a;s[0]=4278190080>>>24+l<<l,i[0]=(o[0]&s[0])>>l,n=n?n<<a|i[0]:i[0],e+=1,r-=a}return n};class SK extends Ew{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=BP(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=Od(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&vw(n)!==void 0&&$P(e,r)<16}}function BP(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const a=[48e3,44100,32e3][s],l=e[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+s]*2;if(n+u>e.length)return-1;const d=e[n+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const p=(e[n+6]<<8|e[n+7])>>12-f&1,m=[2,1,2,3,3,4,4,5][d]+p,v=e[n+5]>>3,y=e[n+5]&7,x=new Uint8Array([s<<6|v<<1|y>>2,(y&3)<<6|d<<3|p<<2|l>>4,l<<4&224]),b=1536/a*9e4,S=r+i*b,w=e.subarray(n,n+u);return t.config=x,t.channelCount=m,t.samplerate=a,t.samples.push({unit:w,pts:S}),u}class EK{constructor(){this.VideoSample=null}createVideoSample(e,n,r,i){return{key:e,frame:!1,pts:n,dts:r,units:[],debug:i,length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&z.log(e.pts+"/"+e.dts+":"+e.debug)}}class jC{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&z.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(n+i+256)%256),n=r===0?n:r}readSPS(){let e=0,n=0,r=0,i=0,s,o,a;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),f=this.skipBits.bind(this),p=this.skipEG.bind(this),h=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);l();const v=l();if(c(5),f(3),l(),h(),v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128){const _=u();if(_===3&&f(1),h(),h(),f(1),d())for(o=_!==3?8:12,a=0;a<o;a++)d()&&(a<6?m(16):m(64))}h();const y=u();if(y===0)u();else if(y===1)for(f(1),p(),p(),s=u(),a=0;a<s;a++)p();h(),f(1);const x=u(),b=u(),S=c(1);S===0&&f(1),f(1),d()&&(e=u(),n=u(),r=u(),i=u());let w=[1,1];if(d()&&d())switch(l()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:{w=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((x+1)*16-e*2-n*2),height:(2-S)*(b+1)*16-(S?2:4)*(r+i),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class TK extends EK{parseAVCPES(e,n,r,i,s){const o=this.parseAVCNALu(e,r.data);let a=this.VideoSample,l,c=!1;r.data=null,a&&o.length&&!e.audFound&&(this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),o.forEach(u=>{var d;switch(u.type){case 1:{let m=!1;l=!0;const v=u.data;if(c&&v.length>4){const y=new jC(v).readSliceType();(y===2||y===4||y===7||y===9)&&(m=!0)}if(m){var f;(f=a)!=null&&f.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null)}a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.frame=!0,a.key=m;break}case 5:l=!0,(d=a)!=null&&d.frame&&!a.key&&(this.pushAccessUnit(a,e),a=this.VideoSample=null),a||(a=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),a.key=!0,a.frame=!0;break;case 6:{l=!0,mP(u.data,1,r.pts,n.samples);break}case 7:{var p,h;l=!0,c=!0;const m=u.data,y=new jC(m).readSPS();if(!e.sps||e.width!==y.width||e.height!==y.height||((p=e.pixelRatio)==null?void 0:p[0])!==y.pixelRatio[0]||((h=e.pixelRatio)==null?void 0:h[1])!==y.pixelRatio[1]){e.width=y.width,e.height=y.height,e.pixelRatio=y.pixelRatio,e.sps=[m],e.duration=s;const x=m.subarray(1,4);let b="avc1.";for(let S=0;S<3;S++){let w=x[S].toString(16);w.length<2&&(w="0"+w),b+=w}e.codec=b}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,a&&this.pushAccessUnit(a,e),a=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:l=!0;break;default:l=!1,a&&(a.debug+="unknown NAL "+u.type+" ");break}a&&l&&a.units.push(u)}),i&&a&&(this.pushAccessUnit(a,e),this.VideoSample=null)}parseAVCNALu(e,n){const r=n.byteLength;let i=e.naluState||0;const s=i,o=[];let a=0,l,c,u,d=-1,f=0;for(i===-1&&(d=0,f=n[0]&31,i=0,a=1);a<r;){if(l=n[a++],!i){i=l?0:1;continue}if(i===1){i=l?0:2;continue}if(!l)i=3;else if(l===1){if(c=a-i-1,d>=0){const p={data:n.subarray(d,c),type:f};o.push(p)}else{const p=this.getLastNalUnit(e.samples);p&&(s&&a<=4-s&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-s)),c>0&&(p.data=qr(p.data,n.subarray(0,c)),p.state=0))}a<r?(u=n[a]&31,d=a,f=u,i=0):i=-1}else i=0}if(d>=0&&i>=0){const p={data:n.subarray(d,r),type:f,state:i};o.push(p)}if(o.length===0){const p=this.getLastNalUnit(e.samples);p&&(p.data=qr(p.data,n))}return e.naluState=i,o}}class _K{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new ww(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(a=>{const l=new Uint8Array(a);i.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)})}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,n,r,i,s){const o=gP(s.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)})}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const s=e[n].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,n,r,i,o),!this.decrypter.isSync()))return}}}}const fn=188;class Us{constructor(e,n,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.videoParser=new TK}static probe(e){const n=Us.syncOffset(e);return n>0&&z.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let r=Math.min(fn*5,n-fn)+1,i=0;for(;i<r;){let s=!1,o=-1,a=0;for(let l=i;l<n;l+=fn)if(e[l]===71&&(n-l===fn||e[l+fn]===71)){if(a++,o===-1&&(o=l,o!==0&&(r=Math.min(o+fn*99,e.length-fn)+1)),s||(s=Mx(e,l)===0),s&&a>1&&(o===0&&a>2||l+fn>r))return o}else{if(a)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:uP[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Us.createTrack("video"),this._audioTrack=Us.createTrack("audio",i),this._id3Track=Us.createTrack("id3"),this._txtTrack=Us.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=o.pid,d=o.pesData,f=a.pid,p=l.pid,h=a.pesData,m=l.pesData,v=null,y=this.pmtParsed,x=this._pmtId,b=e.length;if(this.remainderData&&(e=qr(this.remainderData,e),b=e.length,this.remainderData=null),b<fn&&!i)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};const S=Math.max(0,Us.syncOffset(e));b-=(b-S)%fn,b<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,b,e.buffer.byteLength-b));let w=0;for(let T=S;T<b;T+=fn)if(e[T]===71){const C=!!(e[T+1]&64),k=Mx(e,T),A=(e[T+3]&48)>>4;let I;if(A>1){if(I=T+5+e[T+4],I===T+fn)continue}else I=T+4;switch(k){case u:C&&(d&&(s=al(d))&&this.videoParser.parseAVCPES(o,c,s,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(I,T+fn)),d.size+=T+fn-I);break;case f:if(C){if(h&&(s=al(h)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,s);break;case"mp3":this.parseMPEGPES(a,s);break;case"ac3":this.parseAC3PES(a,s);break}h={data:[],size:0}}h&&(h.data.push(e.subarray(I,T+fn)),h.size+=T+fn-I);break;case p:C&&(m&&(s=al(m))&&this.parseID3PES(l,s),m={data:[],size:0}),m&&(m.data.push(e.subarray(I,T+fn)),m.size+=T+fn-I);break;case 0:C&&(I+=e[I]+1),x=this._pmtId=CK(e,I);break;case x:{C&&(I+=e[I]+1);const N=RK(e,I,this.typeSupported,r,this.observer);u=N.videoPid,u>0&&(o.pid=u,o.segmentCodec=N.segmentVideoCodec),f=N.audioPid,f>0&&(a.pid=f,a.segmentCodec=N.segmentAudioCodec),p=N.id3Pid,p>0&&(l.pid=p),v!==null&&!y&&(z.warn(`MPEG-TS PMT found at ${T} after unknown PID '${v}'. Backtracking to sync byte @${S} to parse all TS packets.`),v=null,T=S-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=k;break}}else w++;w>0&&Dm(this.observer,new Error(`Found ${w} TS packet/s that do not start with 0x47`)),o.pesData=d,a.pesData=h,l.pesData=m;const _={audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(_),_}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,a=n.pesData,l=i.pesData;let c;if(o&&(c=al(o))?(this.videoParser.parseAVCPES(r,s,c,!0,this._duration),r.pesData=null):r.pesData=o,a&&(c=al(a))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else a!=null&&a.size&&z.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a;l&&(c=al(l))?(this.parseID3PES(i,c),i.pesData=null):i.pesData=l}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new _K(this.observer,this.config,n);return this.decrypt(i,s)}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let s=n.data;if(i){this.aacOverFlow=null;const d=i.missing,f=i.sample.unit.byteLength;if(d===-1)s=qr(i.sample.unit,s);else{const p=f-d;i.sample.unit.set(s.subarray(0,d),p),e.samples.push(i.sample),r=i.missing}}let o,a;for(o=r,a=s.length;o<a-1&&!Im(s,o);o++);if(o!==r){let d;const f=o<a-1;if(f?d=`AAC PES did not start with ADTS header,offset:${o}`:d="No ADTS header found in AAC PES",Dm(this.observer,new Error(d),f),!f)return}PP(e,this.observer,s,o,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(i){const d=IP(e.samplerate);l=i.sample.pts+d}else{z.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;o<a;)if(u=DP(e,s,o,l,c),o+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;o<a-1&&!Im(s,o);o++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let s=0,o=0;const a=n.pts;if(a===void 0){z.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(NP(r,o)){const l=OP(e,r,o,a,s);if(l)o+=l.length,s++;else break}else o++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){z.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let o=0,a=0,l;for(;a<s&&(l=BP(e,r,a,i,o++))>0;)a+=l}}parseID3PES(e,n){if(n.pts===void 0){z.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Jt({},n,{type:this._videoTrack?oi.emsg:oi.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function Mx(t,e){return((t[e+1]&31)<<8)+t[e+2]}function CK(t,e){return(t[e+10]&31)<<8|t[e+11]}function RK(t,e,n,r,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(t[e+1]&15)<<8|t[e+2],a=e+3+o-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<a;){const c=Mx(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){iy("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=c);break;case 21:s.id3Pid===-1&&(s.id3Pid=c);break;case 219:if(!r){iy("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=c,s.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?z.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="mp3");break;case 193:if(!r){iy("AC-3");break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="ac3"):z.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&u>0){let d=e+5,f=u;for(;f>2;){switch(t[d]){case 106:n.ac3!==!0?z.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=c,s.segmentAudioCodec="ac3");break}const h=t[d+1]+2;d+=h,f-=h}}break;case 194:case 135:return Dm(i,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return Dm(i,new Error("Unsupported HEVC in M2TS found")),s}e+=u+5}return s}function Dm(t,e,n){z.warn(`parsing error: ${e.message}`),t.emit(R.ERROR,R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function iy(t){z.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function al(t){let e=0,n,r,i,s,o;const a=t.data;if(!t||t.size===0)return null;for(;a[0].length<19&&a.length>1;)a[0]=qr(a[0],a[1]),a.splice(1,1);if(n=a[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(r=(n[4]<<8)+n[5],r&&r>t.size-6)return null;const c=n[7];c&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(o=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-o>60*9e4&&(z.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),i=n[8];let u=i+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let f=0,p=a.length;f<p;f++){n=a[f];let h=n.byteLength;if(u)if(u>h){u-=h;continue}else n=n.subarray(u),h-=u,u=0;d.set(n,e),e+=h}return r&&(r-=i+3),{data:d,pts:s,dts:o,len:r}}return null}class kK extends Ew{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Od(e,0);let r=(n==null?void 0:n.length)||0;if(n&&e[r]===11&&e[r+1]===119&&vw(n)!==void 0&&$P(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(FP(e,r))return z.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return yK(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return OP(e,n,r,this.basePTS,this.frameIndex)}}class UC{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const As=Math.pow(2,32)-1;class V{static init(){V.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in V.types)V.types.hasOwnProperty(e)&&(V.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);V.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);V.STTS=V.STSC=V.STCO=s,V.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),V.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),V.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),V.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);V.FTYP=V.box(V.types.ftyp,o,l,o,a),V.DINF=V.box(V.types.dinf,V.box(V.types.dref,i))}static box(e,...n){let r=8,i=n.length;const s=i;for(;i--;)r+=n[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(n[i],r),r+=n[i].byteLength;return o}static hdlr(e){return V.box(V.types.hdlr,V.HDLR_TYPES[e])}static mdat(e){return V.box(V.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(As+1)),i=Math.floor(n%(As+1));return V.box(V.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return V.box(V.types.mdia,V.mdhd(e.timescale,e.duration),V.hdlr(e.type),V.minf(e))}static mfhd(e){return V.box(V.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?V.box(V.types.minf,V.box(V.types.smhd,V.SMHD),V.DINF,V.stbl(e)):V.box(V.types.minf,V.box(V.types.vmhd,V.VMHD),V.DINF,V.stbl(e))}static moof(e,n,r){return V.box(V.types.moof,V.mfhd(e),V.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=V.trak(e[n]);return V.box.apply(null,[V.types.moov,V.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(V.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=V.trex(e[n]);return V.box.apply(null,[V.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(As+1)),i=Math.floor(n%(As+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return V.box(V.types.mvhd,s)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,s;for(i=0;i<n.length;i++)s=n[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return V.box(V.types.sdtp,r)}static stbl(e){return V.box(V.types.stbl,V.stsd(e),V.box(V.types.stts,V.STTS),V.box(V.types.stsc,V.STSC),V.box(V.types.stsz,V.STSZ),V.box(V.types.stco,V.STCO))}static avc1(e){let n=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const a=V.box(V.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return V.box(V.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,V.box(V.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),V.box(V.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return V.box(V.types.mp4a,V.audioStsd(e),V.box(V.types.esds,V.esds(e)))}static mp3(e){return V.box(V.types[".mp3"],V.audioStsd(e))}static ac3(e){return V.box(V.types["ac-3"],V.audioStsd(e),V.box(V.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?V.box(V.types.stsd,V.STSD,V.mp3(e)):e.segmentCodec==="ac3"?V.box(V.types.stsd,V.STSD,V.ac3(e)):V.box(V.types.stsd,V.STSD,V.mp4a(e)):V.box(V.types.stsd,V.STSD,V.avc1(e))}static tkhd(e){const n=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,o=Math.floor(r/(As+1)),a=Math.floor(r%(As+1));return V.box(V.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const r=V.sdtp(e),i=e.id,s=Math.floor(n/(As+1)),o=Math.floor(n%(As+1));return V.box(V.types.traf,V.box(V.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),V.box(V.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),V.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,V.box(V.types.trak,V.tkhd(e),V.mdia(e))}static trex(e){const n=e.id;return V.box(V.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let a,l,c,u,d,f;for(n+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),a=0;a<i;a++)l=r[a],c=l.duration,u=l.size,d=l.flags,f=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&240<<8,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*a);return V.box(V.types.trun,o)}static initSegment(e){V.types||V.init();const n=V.moov(e);return qr(V.FTYP,n)}}V.types=void 0;V.HDLR_TYPES=void 0;V.STTS=void 0;V.STSC=void 0;V.STCO=void 0;V.STSZ=void 0;V.VMHD=void 0;V.SMHD=void 0;V.STSD=void 0;V.FTYP=void 0;V.DINF=void 0;const jP=9e4;function Cw(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function AK(t,e,n=1,r=!1){return Cw(t,e,1/n,r)}function hu(t,e=!1){return Cw(t,1e3,1/jP,e)}function LK(t,e=1){return Cw(t,jP,1/e)}const PK=10*1e3,zC=1024,IK=1152,DK=1536;let ll=null,sy=null;class bp{constructor(e,n,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,ll===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ll=o?parseInt(o[1]):0}if(sy===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);sy=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){z.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){z.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){z.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,i=e.reduce((s,o)=>{let a=o.pts,l=a-s;return l<-4294967296&&(n=!0,a=Br(a,r),l=a-s),l>0?s:a},r);return n&&z.debug("PTS rollover detected"),i}remux(e,n,r,i,s,o,a,l){let c,u,d,f,p,h,m=s,v=s;const y=e.pid>-1,x=n.pid>-1,b=n.samples.length,S=e.samples.length>0,w=a&&b>0||b>1;if((!y||S)&&(!x||w)||this.ISGenerated||a){if(this.ISGenerated){var T,C,k,A;const D=this.videoTrackConfig;D&&(n.width!==D.width||n.height!==D.height||((T=n.pixelRatio)==null?void 0:T[0])!==((C=D.pixelRatio)==null?void 0:C[0])||((k=n.pixelRatio)==null?void 0:k[1])!==((A=D.pixelRatio)==null?void 0:A[1]))&&this.resetInitSegment()}else d=this.generateIS(e,n,s,o);const I=this.isVideoContiguous;let N=-1,M;if(w&&(N=OK(n.samples),!I&&this.config.forceKeyFrameOnDiscontinuity))if(h=!0,N>0){z.warn(`[mp4-remuxer]: Dropped ${N} out of ${b} video samples due to a missing keyframe`);const D=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(N),n.dropped+=N,v+=(n.samples[0].pts-D)/n.inputTimeScale,M=v}else N===-1&&(z.warn(`[mp4-remuxer]: No keyframe found out of ${b} video samples`),h=!1);if(this.ISGenerated){if(S&&w){const D=this.getVideoStartPts(n.samples),$=(Br(e.samples[0].pts,D)-D)/n.inputTimeScale;m+=Math.max(0,$),v+=Math.max(0,-$)}if(S){if(e.samplerate||(z.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,s,o)),u=this.remuxAudio(e,m,this.isAudioContiguous,o,x||w||l===Se.AUDIO?v:void 0),w){const D=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(z.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,s,o)),c=this.remuxVideo(n,v,I,D)}}else w&&(c=this.remuxVideo(n,v,I,0));c&&(c.firstKeyFrame=N,c.independent=N!==-1,c.firstKeyFramePTS=M)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(p=UP(r,s,this._initPTS,this._initDTS)),i.samples.length&&(f=zP(i,s,this._initPTS))),{audio:u,video:c,initSegment:d,independent:h,text:f,id3:p}}generateIS(e,n,r,i){const s=e.samples,o=n.samples,a=this.typeSupported,l={},c=this._initPTS;let u=!c||i,d="audio/mp4",f,p,h;if(u&&(f=p=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(d="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):V.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(h=e.inputTimeScale,!c||h!==c.timescale?f=p=s[0].pts-Math.round(h*r):u=!1)}if(n.sps&&n.pps&&o.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:V.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(h=n.inputTimeScale,!c||h!==c.timescale){const m=this.getVideoStartPts(o),v=Math.round(h*r);p=Math.min(p,Br(o[0].dts,m)-v),f=Math.min(f,m-v)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:f,timescale:h},this._initDTS={baseTime:p,timescale:h}):f=h=void 0,{tracks:l,initPTS:f,timescale:h}}remuxVideo(e,n,r,i){const s=e.inputTimeScale,o=e.samples,a=[],l=o.length,c=this._initPTS;let u=this.nextAvcDts,d=8,f=this.videoSampleDuration,p,h,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=!1;if(!r||u===null){const j=n*s,B=o[0].pts-Br(o[0].dts,o[0].pts);ll&&u!==null&&Math.abs(j-B-u)<15e3?r=!0:u=j-B}const x=c.baseTime*s/c.timescale;for(let j=0;j<l;j++){const B=o[j];B.pts=Br(B.pts-x,u),B.dts=Br(B.dts-x,u),B.dts<o[j>0?j-1:j].dts&&(y=!0)}y&&o.sort(function(j,B){const H=j.dts-B.dts,q=j.pts-B.pts;return H||q}),p=o[0].dts,h=o[o.length-1].dts;const b=h-p,S=b?Math.round(b/(l-1)):f||e.inputTimeScale/30;if(r){const j=p-u,B=j>S,H=j<-1;if((B||H)&&(B?z.warn(`AVC: ${hu(j,!0)} ms (${j}dts) hole between fragments detected at ${n.toFixed(3)}`):z.warn(`AVC: ${hu(-j,!0)} ms (${j}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!H||u>=o[0].pts||ll)){p=u;const q=o[0].pts-j;if(B)o[0].dts=p,o[0].pts=q;else for(let ne=0;ne<o.length&&!(o[ne].dts>q);ne++)o[ne].dts-=j,o[ne].pts-=j;z.log(`Video: Initial PTS/DTS adjusted: ${hu(q,!0)}/${hu(p,!0)}, delta: ${hu(j,!0)} ms`)}}p=Math.max(0,p);let w=0,_=0,T=p;for(let j=0;j<l;j++){const B=o[j],H=B.units,q=H.length;let ne=0;for(let te=0;te<q;te++)ne+=H[te].data.length;_+=ne,w+=q,B.length=ne,B.dts<T?(B.dts=T,T+=S/4|0||1):T=B.dts,m=Math.min(B.pts,m),v=Math.max(B.pts,v)}h=o[l-1].dts;const C=_+4*w+8;let k;try{k=new Uint8Array(C)}catch(j){this.observer.emit(R.ERROR,R.ERROR,{type:Re.MUX_ERROR,details:G.REMUX_ALLOC_ERROR,fatal:!1,error:j,bytes:C,reason:`fail allocating video mdat ${C}`});return}const A=new DataView(k.buffer);A.setUint32(0,C),k.set(V.types.mdat,4);let I=!1,N=Number.POSITIVE_INFINITY,M=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY,O=Number.NEGATIVE_INFINITY;for(let j=0;j<l;j++){const B=o[j],H=B.units;let q=0;for(let he=0,Z=H.length;he<Z;he++){const ve=H[he],Pe=ve.data,be=ve.data.byteLength;A.setUint32(d,be),d+=4,k.set(Pe,d),d+=be,q+=4+be}let ne;if(j<l-1)f=o[j+1].dts-B.dts,ne=o[j+1].pts-B.pts;else{const he=this.config,Z=j>0?B.dts-o[j-1].dts:S;if(ne=j>0?B.pts-o[j-1].pts:S,he.stretchShortVideoTrack&&this.nextAudioPts!==null){const ve=Math.floor(he.maxBufferHole*s),Pe=(i?m+i*s:this.nextAudioPts)-B.pts;Pe>ve?(f=Pe-Z,f<0?f=Z:I=!0,z.log(`[mp4-remuxer]: It is approximately ${Pe/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=Z}else f=Z}const te=Math.round(B.pts-B.dts);N=Math.min(N,f),D=Math.max(D,f),M=Math.min(M,ne),O=Math.max(O,ne),a.push(new VC(B.key,f,q,te))}if(a.length){if(ll){if(ll<70){const j=a[0].flags;j.dependsOn=2,j.isNonSync=0}}else if(sy&&O-M<D-N&&S/D<.025&&a[0].cts===0){z.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let j=p;for(let B=0,H=a.length;B<H;B++){const q=j+a[B].duration,ne=j+a[B].cts;if(B<H-1){const te=q+a[B+1].cts;a[B].duration=te-ne}else a[B].duration=B?a[B-1].duration:S;a[B].cts=0,j=q}}}f=I||!f?S:f,this.nextAvcDts=u=h+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const $=V.moof(e.sequenceNumber++,p,Jt({},e,{samples:a})),W="video",U={data1:$,data2:k,startPTS:m/s,endPTS:(v+f)/s,startDTS:p/s,endDTS:u/s,type:W,hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,U}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return IK;case"ac3":return DK;default:return zC}}remuxAudio(e,n,r,i,s){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],h=s!==void 0;let m=e.samples,v=f?0:8,y=this.nextAudioPts||-1;const x=n*o,b=d.baseTime*o/d.timescale;if(this.isAudioContiguous=r=r||m.length&&y>0&&(i&&Math.abs(x-y)<9e3||Math.abs(Br(m[0].pts-b,x)-y)<20*u),m.forEach(function($){$.pts=Br($.pts-b,x)}),!r||y<0){if(m=m.filter($=>$.pts>=0),!m.length)return;s===0?y=0:i&&!h?y=Math.max(0,x):y=m[0].pts}if(e.segmentCodec==="aac"){const $=this.config.maxAudioFramesDrift;for(let W=0,U=y;W<m.length;W++){const j=m[W],B=j.pts,H=B-U,q=Math.abs(1e3*H/o);if(H<=-$*u&&h)W===0&&(z.warn(`Audio frame @ ${(B/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*H/o)} ms.`),this.nextAudioPts=y=U=B);else if(H>=$*u&&q<PK&&h){let ne=Math.round(H/u);U=B-ne*u,U<0&&(ne--,U+=u),W===0&&(this.nextAudioPts=y=U),z.warn(`[mp4-remuxer]: Injecting ${ne} audio frame @ ${(U/o).toFixed(3)}s due to ${Math.round(1e3*H/o)} ms gap.`);for(let te=0;te<ne;te++){const he=Math.max(U,0);let Z=UC.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Z||(z.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Z=j.unit.subarray()),m.splice(W,0,{unit:Z,pts:he}),U+=u,W++}}j.pts=U,U+=u}}let S=null,w=null,_,T=0,C=m.length;for(;C--;)T+=m[C].unit.byteLength;for(let $=0,W=m.length;$<W;$++){const U=m[$],j=U.unit;let B=U.pts;if(w!==null){const q=p[$-1];q.duration=Math.round((B-w)/l)}else if(r&&e.segmentCodec==="aac"&&(B=y),S=B,T>0){T+=v;try{_=new Uint8Array(T)}catch(q){this.observer.emit(R.ERROR,R.ERROR,{type:Re.MUX_ERROR,details:G.REMUX_ALLOC_ERROR,fatal:!1,error:q,bytes:T,reason:`fail allocating audio mdat ${T}`});return}f||(new DataView(_.buffer).setUint32(0,T),_.set(V.types.mdat,4))}else return;_.set(j,v);const H=j.byteLength;v+=H,p.push(new VC(!0,c,H,0)),w=B}const k=p.length;if(!k)return;const A=p[p.length-1];this.nextAudioPts=y=w+l*A.duration;const I=f?new Uint8Array(0):V.moof(e.sequenceNumber++,S/l,Jt({},e,{samples:p}));e.samples=[];const N=S/o,M=y/o,O={data1:I,data2:_,startPTS:N,endPTS:M,startDTS:N,endDTS:M,type:"audio",hasAudio:!0,hasVideo:!1,nb:k};return this.isAudioContiguous=!0,O}remuxEmptyAudio(e,n,r,i){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,a=s/o,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:i.startDTS*s)+u,f=i.endDTS*s+u,p=a*zC,h=Math.ceil((f-d)/p),m=UC.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(z.warn("[mp4-remuxer]: remux empty Audio"),!m){z.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const v=[];for(let y=0;y<h;y++){const x=d+y*p;v.push({unit:m,pts:x,dts:x})}return e.samples=v,this.remuxAudio(e,n,r,!1)}}function Br(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function OK(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function UP(t,e,n,r){const i=t.samples.length;if(!i)return;const s=t.inputTimeScale;for(let a=0;a<i;a++){const l=t.samples[a];l.pts=Br(l.pts-n.baseTime*s/n.timescale,e*s)/s,l.dts=Br(l.dts-r.baseTime*s/r.timescale,e*s)/s}const o=t.samples;return t.samples=[],{samples:o}}function zP(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let o=0;o<r;o++){const a=t.samples[o];a.pts=Br(a.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((o,a)=>o.pts-a.pts);const s=t.samples;return t.samples=[],{samples:s}}class VC{constructor(e,n,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class MK{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(Uz(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=hP(e);i.audio&&(n=KC(i.audio,ut.AUDIO)),i.video&&(r=KC(i.video,ut.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:n+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:z.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,r,i,s,o){var a,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};ue(u)||(u=this.lastEndTime=s||0);const f=n.samples;if(!(f!=null&&f.length))return d;const p={initPTS:void 0,timescale:1};let h=this.initData;if((a=h)!=null&&a.length||(this.generateInitSegment(f),h=this.initData),!((l=h)!=null&&l.length))return z.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const m=Vz(f,h),v=zz(h,f),y=v===null?s:v;(NK(c,y,s,m)||p.timescale!==c.timescale&&o)&&(p.initPTS=y-s,c&&c.timescale===1&&z.warn(`Adjusting initPTS by ${p.initPTS-c.baseTime}`),this.initPTS=c={baseTime:p.initPTS,timescale:1});const x=e?y-c.baseTime/c.timescale:u,b=x+m;Hz(h,f,c.baseTime/c.timescale),m>0?this.lastEndTime=b:(z.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const S=!!h.audio,w=!!h.video;let _="";S&&(_+="audio"),w&&(_+="video");const T={data1:f,startPTS:x,startDTS:x,endPTS:b,endDTS:b,type:_,hasAudio:S,hasVideo:w,nb:1,dropped:0};return d.audio=T.type==="audio"?T:void 0,d.video=T.type!=="audio"?T:void 0,d.initSegment=p,d.id3=UP(r,s,c,c),i.samples.length&&(d.text=zP(i,s,c)),d}}function NK(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>i}function KC(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===ut.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return Cm(n,!1);const r="mp4a.40.5";return z.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${r}"`),r}return z.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let is;try{is=self.performance.now.bind(self.performance)}catch{z.debug("Unable to use Performance API on this environment"),is=Rc==null?void 0:Rc.Date.now}const wp=[{demux:wK,remux:MK},{demux:Us,remux:bp},{demux:xK,remux:bp},{demux:kK,remux:bp}];wp.splice(2,0,{demux:SK,remux:bp});class HC{constructor(e,n,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const s=r.transmuxing;s.executeStart=is();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;i&&(this.currentTransmuxState=i);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:f,timeOffset:p,initSegmentChange:h}=i||a,{audioCodec:m,videoCodec:v,defaultInitPts:y,duration:x,initSegmentData:b}=l,S=FK(o,n);if(S&&S.method==="AES-128"){const C=this.getDecrypter();if(C.isSync()){let k=C.softwareDecrypt(o,S.key.buffer,S.iv.buffer);if(r.part>-1&&(k=C.flush()),!k)return s.executeEnd=is(),oy(r);o=new Uint8Array(k)}else return this.decryptionPromise=C.webCryptoDecrypt(o,S.key.buffer,S.iv.buffer).then(k=>{const A=this.push(k,null,r);return this.decryptionPromise=null,A}),this.decryptionPromise}const w=this.needsProbing(u,d);if(w){const C=this.configureTransmuxer(o);if(C)return z.warn(`[transmuxer] ${C.message}`),this.observer.emit(R.ERROR,R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message}),s.executeEnd=is(),oy(r)}(u||d||h||w)&&this.resetInitSegment(b,m,v,x,n),(u||h||w)&&this.resetInitialTimestamp(y),c||this.resetContiguity();const _=this.transmux(o,S,p,f,r),T=this.currentTransmuxState;return T.contiguous=!0,T.discontinuity=!1,T.trackSwitch=!1,s.executeEnd=is(),_}flush(e){const n=e.transmuxing;n.executeStart=is();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const o=[],{timeOffset:a}=i;if(r){const d=r.flush();d&&o.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return n.executeEnd=is(),[oy(e)];const u=l.flush(a);return Sp(u)?u.then(d=>(this.flushRemux(o,d,e),o)):(this.flushRemux(o,u,e),o)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:a}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;z.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const u=this.remuxer.remux(i,s,o,a,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=is()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,s){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,n,r,i),a.resetInitSegment(e,n,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,s){let o;return n&&n.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,n,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,n,r,i){const{audioTrack:s,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,a,l,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,s){return this.demuxer.demuxSampleAes(e,n,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i,vendor:s}=this;let o;for(let f=0,p=wp.length;f<p;f++){var a;if((a=wp[f].demux)!=null&&a.probe(e)){o=wp[f];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=o.remux,d=o.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(r,n,i,s)),(!l||!(l instanceof d))&&(this.demuxer=new d(r,n,i),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new ww(this.config)),e}}function FK(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const oy=t=>({remuxResult:{},chunkMeta:t});function Sp(t){return"then"in t&&t.then instanceof Function}class $K{constructor(e,n,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class BK{constructor(e,n,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}var VP={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],p]:l._events[h].push(p):(l._events[h]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,h=new Array(p);f<p;f++)h[f]=d[f].fn;return h},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,p,h){var m=n?n+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,h),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var S=v.length,w;for(b=0;b<S;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,f);break;default:if(!x)for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v[b].fn.apply(v[b].context,x)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var h=this._events[p];if(h.fn)h.fn===u&&(!f||h.once)&&(!d||h.context===d)&&o(this,p);else{for(var m=0,v=[],y=h.length;m<y;m++)(h[m].fn!==u||f&&!h[m].once||d&&h[m].context!==d)&&v.push(h[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(VP);var jK=VP.exports,Rw=cz(jK);class KP{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===R.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new Rw,this.observer.on(R.FRAG_DECRYPTED,o),this.observer.on(R.ERROR,o);const a=$a(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||sK())){try{s.workerPath?(z.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=aK(s.workerPath)):(z.log(`injecting Web Worker for "${n}"`),this.workerContext=oK()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const f=new Error(`${d.message}  (${d.filename}:${d.lineno})`);s.enableWorker=!1,z.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(R.ERROR,{type:Re.OTHER_ERROR,details:G.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:n,config:JSON.stringify(s)})}catch(u){z.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new HC(this.observer,l,s,"",n)}return}this.transmuxer=new HC(this.observer,l,s,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,r,i,s,o,a,l,c,u){var d,f;c.transmuxing.start=self.performance.now();const{transmuxer:p}=this,h=o?o.start:s.start,m=s.decryptdata,v=this.frag,y=!(v&&s.cc===v.cc),x=!(v&&c.level===v.level),b=v?c.sn-v.sn:-1,S=this.part?c.part-this.part.index:-1,w=b===0&&c.id>1&&c.id===(v==null?void 0:v.stats.chunkCount),_=!x&&(b===1||b===0&&(S===1||w&&S<=0)),T=self.performance.now();(x||b||s.stats.parsing.start===0)&&(s.stats.parsing.start=T),o&&(S||!_)&&(o.stats.parsing.start=T);const C=!(v&&((d=s.initSegment)==null?void 0:d.url)===((f=v.initSegment)==null?void 0:f.url)),k=new BK(y,_,l,x,h,C);if(!_||y||C){z.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${y}
        trackSwitch: ${x}
        contiguous: ${_}
        accurateTimeOffset: ${l}
        timeOffset: ${h}
        initSegmentChange: ${C}`);const A=new $K(r,i,n,a,u);this.configureTransmuxer(A)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:k},e instanceof ArrayBuffer?[e]:[]);else if(p){const A=p.push(e,m,c,k);Sp(A)?(p.async=!0,A.then(I=>{this.handleTransmuxComplete(I)}).catch(I=>{this.transmuxerError(I,c,"transmuxer-interface push error")})):(p.async=!1,this.handleTransmuxComplete(A))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let r=n.flush(e);Sp(r)||n.async?(Sp(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){z.warn(`worker message received with no ${n?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(n.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":z[n.data.logType]&&z[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,r.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const GC=100;class UK extends Sw{constructor(e,n,r){super(e,n,r,"[audio-stream-controller]",Se.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(R.ERROR,this.onError,this),e.on(R.BUFFER_RESET,this.onBufferReset,this),e.on(R.BUFFER_CREATED,this.onBufferCreated,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(R.ERROR,this.onError,this),e.off(R.BUFFER_RESET,this.onBufferReset,this),e.off(R.BUFFER_CREATED,this.onBufferCreated,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){if(r==="main"){const o=n.cc;this.initPTS[n.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}`),this.videoTrackCC=o,this.state===J.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=J.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(GC),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=J.IDLE):(this.loadedmetadata=!1,this.state=J.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case J.IDLE:this.doTickIdle();break;case J.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=J.WAITING_INIT_PTS}break}case J.FRAG_LOADING_WAITING_RETRY:{var n;const r=performance.now(),i=this.retryDate;if(!i||r>=i||(n=this.media)!=null&&n.seeking){const{levels:s,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[o])||null),this.state=J.IDLE}break}case J.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:o,complete:a}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=J.FRAG_LOADING;const l=o.flush(),c={frag:i,part:s,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),a&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=yt.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);Ox(c.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=J.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=J.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:r,trackId:i}=this,s=e.config;if(!this.buffering||!r&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[i]))return;const o=n[i],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a)){this.state=J.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,ut.AUDIO,Se.AUDIO));const c=this.getFwdBufferInfo(l,Se.AUDIO);if(c===null)return;if(!this.switchingTrack&&this._streamEnded(c,a)){e.trigger(R.BUFFER_EOS,{type:"audio"}),this.state=J.ENDED;return}const u=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Se.MAIN),d=c.len,f=this.getMaxBufferLength(u==null?void 0:u.len),p=a.fragments,h=p[0].start,m=this.getLoadPosition(),v=this.flushing?m:c.end;if(this.switchingTrack&&r){const S=m;a.PTSKnown&&S<h&&(c.end>h||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=h+.05)}if(d>=f&&!this.switchingTrack&&v<p[p.length-1].start)return;let y=this.getNextFragment(v,a),x=!1;if(y&&this.isLoopLoading(y,v)&&(x=!!y.gap,y=this.getNextFragmentLoopLoading(y,a,c,Se.MAIN,f)),!y){this.bufferFlushed=!0;return}const b=u&&y.start>u.end+a.targetduration;if(b||!(u!=null&&u.len)&&c.len){const S=this.getAppendedFrag(y.start,Se.MAIN);if(S===null||(x||(x=!!S.gap||!!b&&u.len===0),b&&!x||x&&c.nextStart&&c.nextStart<S.end))return}this.loadFragment(y,o,v)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new kc(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(GC):this.resetTransmuxer(),r?(this.switchingTrack=n,this.state=J.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=J.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(R.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:i}=this,{details:s,id:o}=n;if(!i){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const a=i[o];let l=0;if(s.live||(r=a.details)!=null&&r.live){this.checkLiveUpdate(s);const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;if(!a.details&&s.hasProgramDateTime&&u.hasProgramDateTime)Pm(s,u),l=s.fragments[0].start;else{var c;l=this.alignPlaylists(s,a.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}a.details=s,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,l),this.state===J.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=J.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const d=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new KP(this.hls,Se.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[r.cc],h=(n=r.initSegment)==null?void 0:n.data;if(p!==void 0){const v=i?i.index:-1,y=v!==-1,x=new bw(r.level,r.sn,r.stats.chunkCount,s.byteLength,v,y);f.push(s,h,d,"",r,i,u.totalduration,!1,x,p)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);const{cache:m}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new kP,complete:!1};m.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=J.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==Se.AUDIO){if(!this.loadedmetadata&&r.type===Se.MAIN){const s=this.videoBuffer||this.media;s&&yt.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(R.AUDIO_TRACK_SWITCHED,wn({},s)))}this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=J.ERROR;return}switch(n.details){case G.FRAG_GAP:case G.FRAG_PARSING_ERROR:case G.FRAG_DECRYPT_ERROR:case G.FRAG_LOAD_ERROR:case G.FRAG_LOAD_TIMEOUT:case G.KEY_LOAD_ERROR:case G.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Se.AUDIO,n);break;case G.AUDIO_TRACK_LOAD_ERROR:case G.AUDIO_TRACK_LOAD_TIMEOUT:case G.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===J.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===Ke.AUDIO_TRACK&&(this.state=J.IDLE);break;case G.BUFFER_APPEND_ERROR:case G.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===G.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case G.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==ut.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==ut.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===J.ENDED&&(this.state=J.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,Se.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{details:d}=u,{audio:f,text:p,id3:h,initSegment:m}=s;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=J.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const v=l.initSegment||l;this._bufferInitSegment(u,m.tracks,v,o),i.trigger(R.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:r,tracks:m.tracks})}if(f){const{startPTS:v,endPTS:y,startDTS:x,endDTS:b}=f;c&&(c.elementaryStreams[ut.AUDIO]={startPTS:v,endPTS:y,startDTS:x,endDTS:b}),l.setElementaryStreamInfo(ut.AUDIO,v,y,x,b),this.bufferFragmentData(f,l,c,o)}if(h!=null&&(n=h.samples)!=null&&n.length){const v=Jt({id:r,frag:l,details:d},h);i.trigger(R.FRAG_PARSING_METADATA,v)}if(p){const v=Jt({id:r,frag:l,details:d},p);i.trigger(R.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,n,r,i){if(this.state!==J.PARSING)return;n.video&&delete n.video;const s=n.audio;if(!s)return;s.id="audio";const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(R.BUFFER_CODECS,n);const a=s.initSegment;if(a!=null&&a.byteLength){const l={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:a};this.hls.trigger(R.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===mn.NOT_LOADED||i===mn.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=J.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragments[0].start!==n.details.fragments[0].start&&Pm(n.details,o)}else this.startFragRequested=!0,super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:i,characteristics:s,audioCodec:o,channels:a}=this.bufferedTrack;Ta({name:n,lang:r,assocLang:i,characteristics:s,audioCodec:o,channels:a},e,Yo)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(R.AUDIO_TRACK_SWITCHED,wn({},e))}}function HP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Fd(t[n].attrs,e[n].attrs))return!1;return!0}function Fd(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function Nx(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class zK extends xw{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVEL_LOADING,this.onLevelLoading,this),e.off(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(R.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(R.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(a=>(i==null?void 0:i.indexOf(a))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(f=>!r||r.indexOf(f.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(f=>f.default)&&(this.selectDefaultTrack=!1),a.forEach((f,p)=>{f.id=p});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.audioPreference;if(!s&&l){const f=Fi(l,a,Yo);if(f>-1)s=a[f];else{const p=Fi(l,this.tracks);s=this.tracks[p]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(R.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(a.length&&d===-1){var o;const f=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(f.message),this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===Ke.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Ta(e,i,Yo))return i;const s=Fi(e,this.tracksInGroup,Yo);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(i){let o=n.loadLevel;o===-1&&(o=n.firstAutoLevel);const a=zV(e,n.levels,r,o,Yo);if(a===-1)return null;n.nextLoadLevel=a}if(e.channels||e.audioCodec){const o=Fi(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(R.AUDIO_TRACK_SWITCHING,wn({},i)),s))return;const o=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(o)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Ta(e,i,Yo)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:l}=e;for(let c=0;c<n.length;c++){const u=n[c];if(Ta({name:r,lang:i,assocLang:s,characteristics:o,audioCodec:a,channels:l},u,Yo))return c}for(let c=0;c<n.length;c++){const u=n[c];if(Fd(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const u=n[c];if(Fd(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),this.clearTimer(),this.hls.trigger(R.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}const WC=500;class VK extends Sw{constructor(e,n,r){super(e,n,r,"[subtitle-stream-controller]",Se.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.ERROR,this.onError,this),e.on(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(R.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(R.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.ERROR,this.onError,this),e.off(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(R.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(R.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=J.IDLE,this.setInterval(WC),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragPrevious=r,this.state=J.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const a=r.start;for(let c=0;c<s.length;c++)if(a>=s[c].start&&a<=s[c].end){o=s[c];break}const l=r.start+r.duration;o?o.end=l:(o={start:a,end:l},s.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=s){o.shift();continue}else if(o[a].start<s)o[a].start=s;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(r,s,Se.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===Se.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const r=n.frag;(r==null?void 0:r.type)===Se.SUBTITLE&&(n.details===G.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==J.STOPPED&&(this.state=J.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&HP(this.levels,n)){this.levels=n.map(r=>new kc(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new kc(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Se.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(WC)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:s}=this,{details:o,id:a}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const l=s[a];if(a>=s.length||!l)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||(r=l.details)!=null&&r.live){const d=this.mainDetails;if(o.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!l.details)o.hasProgramDateTime&&d.hasProgramDateTime?(Pm(o,d),c=o.fragments[0].start):f&&(c=f.start,Dx(o,c));else{var u;c=this.alignPlaylists(o,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&f&&(c=f.start,Dx(o,c))}}l.details=o,this.levelLastLoaded=l,a===i&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,c),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===J.IDLE&&(Lm(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(a=>{throw s.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:n}),a}).then(a=>{const l=performance.now();s.trigger(R.FRAG_DECRYPTED,{frag:n,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=J.IDLE})}}doTick(){if(!this.media){this.state=J.IDLE;return}if(this.state===J.IDLE){const{currentTrackId:e,levels:n}=this,r=n==null?void 0:n[e];if(!r||!n.length||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),o=yt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:a,len:l}=o,c=this.getFwdBufferInfo(this.media,Se.MAIN),u=r.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const f=u.fragments,p=f.length,h=u.edge;let m=null;const v=this.fragPrevious;if(a<h){const y=i.maxFragLookUpTolerance,x=a>h-y?0:y;m=Lm(v,f,Math.max(f[0].start,a),x),!m&&v&&v.start<f[0].start&&(m=f[0])}else m=f[p-1];if(!m)return;if(m=this.mapToInitFragWhenRequired(m),m.sn!=="initSegment"){const y=m.sn-u.startSN,x=f[y-1];x&&x.cc===m.cc&&this.fragmentTracker.getState(x)===mn.NOT_LOADED&&(m=x)}this.fragmentTracker.getState(m)===mn.NOT_LOADED&&this.loadFragment(m,r,a)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,r))}get mediaBufferTimeRanges(){return new KK(this.tracksBuffered[this.currentTrackId]||[])}}class KK{constructor(e){this.buffered=void 0;const n=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}class HK extends xw{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=vp(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")n=r[s];else if(r[s].mode==="showing"){n=r[s];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVEL_LOADING,this.onLevelLoading,this),e.off(R.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(R.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(R.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),vp(this.media.textTracks).forEach(n=>{Fl(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:s}=n,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=n.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,a)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(u=>!r||r.indexOf(u.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(u=>u.default)&&(this.selectDefaultTrack=!1),o.forEach((u,d)=>{u.id=d});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const a=this.hls.config.subtitlePreference;if(!s&&a){this.selectDefaultTrack=!1;const u=Fi(a,o);if(u>-1)s=o[u];else{const d=Fi(a,this.tracks);s=this.tracks[d]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const c={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(R.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const s=n[i];if(!(r&&!s.default||!r&&!e)&&(!e||Ta(s,e)))return i}if(e){for(let i=0;i<n.length;i++){const s=n[i];if(Fd(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const s=n[i];if(Fd(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(Nx(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===Ke.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Ta(e,r))return r;const i=Fi(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=Fi(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const r=n.id,i=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(R.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=vp(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(s=>Nx(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!ue(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(R.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:a="",name:l,type:c,url:u}=i;this.hls.trigger(R.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:c,url:u});const d=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(d)}}class GK{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,r){const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const r=new Promise(s=>{n=s}),i={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const n=this.queues[e];if(n.length){const r=n[0];try{r.execute()}catch(i){z.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),r.onError(i);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const qC=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class WK{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(R.MEDIA_ATTACHED,{media:r,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&z.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=nV($a(e.config.preferManagedMediaSource)),this.log=z.log.bind(z,n),this.warn=z.warn.bind(z,n),this.error=z.error.bind(z,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.BUFFER_RESET,this.onBufferReset,this),e.on(R.BUFFER_APPENDING,this.onBufferAppending,this),e.on(R.BUFFER_CODECS,this.onBufferCodecs,this),e.on(R.BUFFER_EOS,this.onBufferEos,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(R.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(R.FRAG_PARSED,this.onFragParsed,this),e.on(R.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.BUFFER_RESET,this.onBufferReset,this),e.off(R.BUFFER_APPENDING,this.onBufferAppending,this),e.off(R.BUFFER_CODECS,this.onBufferCodecs,this),e.off(R.BUFFER_EOS,this.onBufferEos,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(R.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(R.FRAG_PARSED,this.onFragParsed,this),e.off(R.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new GK(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let r=2;(n.audio&&!n.video||!n.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const r=this.media=n.media,i=$a(this.appendSource);if(r&&i){var s;const o=this.mediaSource=new i;this.log(`created media source: ${(s=o.constructor)==null?void 0:s.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));const a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const l=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||l&&o instanceof l,YC(r),qK(r,a),r.load()}catch{r.src=a}else r.src=a;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:r}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&YC(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(R.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,n){const r=this.getSourceBufferTypes().length,i=Object.keys(n);if(i.forEach(o=>{if(r){const l=this.tracks[o];if(l&&typeof l.buffer.changeType=="function"){var a;const{id:c,codec:u,levelCodec:d,container:f,metadata:p}=n[o],h=gC(l.codec,l.levelCodec),m=h==null?void 0:h.replace(qC,"$1");let v=gC(u,d);const y=(a=v)==null?void 0:a.replace(qC,"$1");if(v&&m!==y){o.slice(0,5)==="audio"&&(v=Cm(v,this.appendSource));const x=`${f};codecs=${v}`;this.appendChangeType(o,x),this.log(`switching codec ${h} to ${v}`),this.tracks[o]={buffer:l.buffer,codec:u,container:f,levelCodec:d,metadata:p,id:c}}}}else this.pendingTracks[o]=n[o]}),r)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:r,operationQueue:i,tracks:s}=this,{data:o,type:a,frag:l,part:c,chunkMeta:u}=n,d=u.buffering[a],f=self.performance.now();d.start=f;const p=l.stats.buffering,h=c?c.stats.buffering:null;p.start===0&&(p.start=f),h&&h.start===0&&(h.start=f);const m=s.audio;let v=!1;a==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const y=l.start,x={execute:()=>{if(d.executeStart=self.performance.now(),v){const b=this.sourceBuffer[a];if(b){const S=y-b.timestampOffset;Math.abs(S)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${y} (delta: ${S}) sn: ${l.sn})`),b.timestampOffset=y)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const b=self.performance.now();d.executeEnd=d.end=b,p.first===0&&(p.first=b),h&&h.first===0&&(h.first=b);const{sourceBuffer:S}=this,w={};for(const _ in S)w[_]=yt.getBuffered(S[_]);this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(R.BUFFER_APPENDED,{type:a,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:w})},onError:b=>{const S={type:Re.MEDIA_ERROR,parent:l.type,details:G.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:l,part:c,chunkMeta:u,error:b,err:b,fatal:!1};if(b.code===DOMException.QUOTA_EXCEEDED_ERR)S.details=G.BUFFER_FULL_ERROR;else{const w=++this.appendErrors[a];S.details=G.BUFFER_APPEND_ERROR,this.warn(`Failed ${w}/${r.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),w>=r.config.appendErrorMaxRetry&&(S.fatal=!0)}r.trigger(R.ERROR,S)}};i.append(x,a,!!this.pendingTracks[a])}onBufferFlushing(e,n){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(R.BUFFER_FLUSHED,{type:s})},onError:o=>{this.warn(`Failed to remove from ${s} SourceBuffer`,o)}});n.type?r.append(i(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,n){const{frag:r,part:i}=n,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[ut.AUDIOVIDEO]?s.push("audiovideo"):(o[ut.AUDIO]&&s.push("audio"),o[ut.VIDEO]&&s.push("video"));const a=()=>{const l=self.performance.now();r.stats.buffering.end=l,i&&(i.stats.buffering.end=l);const c=i?i.stats:r.stats;this.hls.trigger(R.FRAG_BUFFERED,{frag:r,part:i,stats:c,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(a,s)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((i,s)=>{const o=this.sourceBuffer[s];return o&&(!n.type||n.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} sourceBuffer now EOS`))),i&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const o=this.sourceBuffer[s];o&&(o.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.getSourceBufferTypes().length)return;const s=e.config,o=r.currentTime,a=n.levelTargetDuration,l=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(ue(l)&&l>0){const c=Math.max(l,a),u=Math.floor(o/a)*a-c;this.flushBackBuffer(o,a,u)}if(ue(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const c=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),u=Math.max(c,a),d=Math.floor(o/a)*a+u;this.flushFrontBuffer(o,a,d)}}flushBackBuffer(e,n,r){const{details:i,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(a=>{const l=s[a];if(l){const c=yt.getBuffered(l);if(c.length>0&&r>c.start(0)){if(this.hls.trigger(R.BACK_BUFFER_REACHED,{bufferEnd:r}),i!=null&&i.live)this.hls.trigger(R.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(l.ended&&c.end(c.length-1)-e<n*2){this.log(`Cannot flush ${a} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(R.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:a})}}})}flushFrontBuffer(e,n,r){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const a=i[o];if(a){const l=yt.getBuffered(a),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(r>u||e>=u&&e<=d)return;if(a.ended&&e-d<2*n){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(R.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,o=r.duration,a=ue(i.duration)?i.duration:0;e.live&&n.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(s>a&&s>o||!ue(o))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const n=this.mediaSource,r=e.fragments;if(r.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,r[0].start),o=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${s}-${o}.`),n.setLiveSeekableRange(s,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&(!e||i===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(R.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(o=>{n.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!n[s]){var i;const o=e[s];if(!o)throw Error(`source buffer exists for track ${s}, however track does not`);let a=((i=o.levelCodec)==null?void 0:i.indexOf(","))===-1?o.levelCodec:o.codec;a&&s.slice(0,5)==="audio"&&(a=Cm(a,this.appendSource));const l=`${o.container};codecs=${a}`;this.log(`creating sourceBuffer(${l})`);try{const c=n[s]=r.addSourceBuffer(l),u=s;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,f)=>{const p=f.removedRanges;p!=null&&p.length&&this.hls.trigger(R.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:c,codec:a,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:s,mimeType:l})}}}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(i)}removeExecutor(e,n,r){const{media:i,mediaSource:s,operationQueue:o,sourceBuffer:a}=this,l=a[e];if(!i||!s||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const c=ue(i.duration)?i.duration:1/0,u=ue(s.duration)?s.duration:1/0,d=Math.max(0,n),f=Math.min(r,c,u);f>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),l.remove(d,f)):o.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.sourceBuffer[n];if(!r){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=n.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),n.forEach(s=>{const o=this.sourceBuffer[s];o!=null&&o.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:n,listener:s}),i.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(r=>{n.removeEventListener(r.event,r.listener)})}}function YC(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function qK(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const YK={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},GP=t=>String.fromCharCode(YK[t]||t),ti=15,Xi=100,QK={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},XK={17:2,18:4,21:6,22:8,23:10,19:13,20:15},JK={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},ZK={25:2,26:4,29:6,30:8,31:10,27:13,28:15},eH=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class tH{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;z.log(`${this.time} [${e}] ${r}`)}}}const Uo=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class WP{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class nH{constructor(){this.uchar=" ",this.penState=new WP}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class rH{constructor(e){this.chars=[],this.pos=0,this.currPenState=new WP,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<Xi;n++)this.chars.push(new nH);this.logger=e}equals(e){for(let n=0;n<Xi;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<Xi;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<Xi;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Xi&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Xi)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=GP(e);if(this.pos>=Xi){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<Xi;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<Xi;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class ay{constructor(e){this.rows=[],this.currRow=ti-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<ti;n++)this.rows.push(new rH(e));this.logger=e}reset(){for(let e=0;e<ti;e++)this.rows[e].clear();this.currRow=ti-1}equals(e){let n=!0;for(let r=0;r<ti;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<ti;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<ti;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let a=0;a<ti;a++)this.rows[a].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[s].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(o.rows[s+c])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let s=0;s<ti;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?n.push("Row "+i+": '"+o+"'"):n.push(o.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class QC{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new ay(r),this.nonDisplayedMemory=new ay(r),this.lastOutputScreen=new ay(r),this.currRollUpRow=this.displayedMemory.rows[ti-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[ti-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class XC{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=sH(),this.logger=void 0;const i=this.logger=new tH;this.channels=[null,new QC(e,n,i),new QC(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,s=n[r+1]&127;let o=!1,a=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Uo([n[r],n[r+1]])+"] -> ("+Uo([i,s])+")");const l=this.cmdHistory;if(i>=16&&i<=31){if(iH(i,s,l)){Sh(null,null,l),this.logger.log(3,()=>"Repeated command ("+Uo([i,s])+") is dropped");continue}Sh(i,s,this.cmdHistory),o=this.parseCmd(i,s),o||(o=this.parseMidrow(i,s)),o||(o=this.parsePAC(i,s)),o||(o=this.parseBackgroundAttributes(i,s))}else Sh(null,null,l);if(!o&&(a=this.parseChars(i,s),a)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Uo([i,s])+" orig: "+Uo([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?n===32?o.ccRCL():n===33?o.ccBS():n===34?o.ccAOF():n===35?o.ccAON():n===36?o.ccDER():n===37?o.ccRU(2):n===38?o.ccRU(3):n===39?o.ccRU(4):n===40?o.ccFON():n===41?o.ccRDC():n===42?o.ccTR():n===43?o.ccRTD():n===44?o.ccEDM():n===45?o.ccCR():n===46?o.ccENM():n===47&&o.ccEOC():o.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Uo([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(i||s))return!1;const o=e<=23?1:2;n>=64&&n<=95?r=o===1?QK[e]:JK[e]:r=o===1?XK[e]:ZK[e];const a=this.channels[o];return a?(a.setPAC(this.interpretPAC(r,n)),this.currentChannel=o,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=n+80:s===18?o=n+112:o=n+144,this.logger.log(2,()=>"Special char '"+GP(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+Uo(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((n-32)/2),o.background=eH[s],n%2===1&&(o.background=o.background+"_semi")):n===45?o.background="transparent":(o.foreground="black",n===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}Sh(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function Sh(t,e,n){n.a=t,n.b=e}function iH(t,e,n){return n.a===t&&n.b===e}function sH(){return{a:null,b:null}}class Eh{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var kw=function(){if(Rc!=null&&Rc.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const c=l.toLowerCase();return~a.indexOf(c)?c:!1}function r(a){return n(t,a)}function i(a){return n(e,a)}function s(a,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)a[d]=u[d]}return a}function o(a,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let f="",p=!1,h=a,m=l,v=c,y=null,x="",b=!0,S="auto",w="start",_=50,T="middle",C=50,k="middle";Object.defineProperty(u,"id",s({},d,{get:function(){return f},set:function(A){f=""+A}})),Object.defineProperty(u,"pauseOnExit",s({},d,{get:function(){return p},set:function(A){p=!!A}})),Object.defineProperty(u,"startTime",s({},d,{get:function(){return h},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");h=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",s({},d,{get:function(){return m},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");m=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",s({},d,{get:function(){return v},set:function(A){v=""+A,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",s({},d,{get:function(){return y},set:function(A){y=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",s({},d,{get:function(){return x},set:function(A){const I=r(A);if(I===!1)throw new SyntaxError("An invalid or illegal string was specified.");x=I,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",s({},d,{get:function(){return b},set:function(A){b=!!A,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",s({},d,{get:function(){return S},set:function(A){if(typeof A!="number"&&A!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",s({},d,{get:function(){return w},set:function(A){const I=i(A);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");w=I,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",s({},d,{get:function(){return _},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");_=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",s({},d,{get:function(){return T},set:function(A){const I=i(A);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");T=I,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",s({},d,{get:function(){return C},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");C=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",s({},d,{get:function(){return k},set:function(A){const I=i(A);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");k=I,this.hasBeenReset=!0}})),u.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class oH{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function qP(t){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class aH{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function YP(t,e,n,r){const i=r?t.split(r):[t];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(n);if(o.length!==2)continue;const a=o[0],l=o[1];e(a,l)}}const Fx=new kw(0,0,""),Th=Fx.align==="middle"?"middle":"center";function lH(t,e,n){const r=t;function i(){const a=qP(t);if(a===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){const c=new aH;YP(a,function(f,p){let h;switch(f){case"region":for(let m=n.length-1;m>=0;m--)if(n[m].id===p){c.set(f,n[m].region);break}break;case"vertical":c.alt(f,p,["rl","lr"]);break;case"line":h=p.split(","),c.integer(f,h[0]),c.percent(f,h[0])&&c.set("snapToLines",!1),c.alt(f,h[0],["auto"]),h.length===2&&c.alt("lineAlign",h[1],["start",Th,"end"]);break;case"position":h=p.split(","),c.percent(f,h[0]),h.length===2&&c.alt("positionAlign",h[1],["start",Th,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,p);break;case"align":c.alt(f,p,["start",Th,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&Fx.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",Th);let d=c.get("position","auto");d==="auto"&&Fx.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),s(t,e)}function QP(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class cH{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new oH,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let s=n.buffer,o=0;for(s=QP(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const a=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,n.buffer=s.slice(o),a}function i(s){YP(s,function(o,a){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=r();const a=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let o=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(o?o=!1:s=r(),n.state){case"HEADER":/:/.test(s)?i(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new kw(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{lH(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const a=s.indexOf("-->")!==-1;if(!s||a&&(o=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const uH=/\r\n|\n\r|\n|\r/g,ly=function(e,n,r=0){return e.slice(r,r+n.length)===n},dH=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!ue(n)||!ue(r)||!ue(i)||!ue(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=60*60*1e3*s,n},cy=function(e){let n=5381,r=e.length;for(;r;)n=n*33^e.charCodeAt(--r);return(n>>>0).toString()};function Aw(t,e,n){return cy(t.toString())+cy(e.toString())+cy(n)}const fH=function(e,n,r){let i=e[n],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function hH(t,e,n,r,i,s,o){const a=new cH,l=zi(new Uint8Array(t)).trim().replace(uH,`
`).split(`
`),c=[],u=e?LK(e.baseTime,e.timescale):0;let d="00:00.000",f=0,p=0,h,m=!0;a.oncue=function(v){const y=n[r];let x=n.ccOffset;const b=(f-u)/9e4;if(y!=null&&y.new&&(p!==void 0?x=n.ccOffset=y.start:fH(n,r,b)),b){if(!e){h=new Error("Missing initPTS for VTT MPEGTS");return}x=b-n.presentationOffset}const S=v.endTime-v.startTime,w=Br((v.startTime+x-p)*9e4,i*9e4)/9e4;v.startTime=Math.max(w,0),v.endTime=Math.max(w+S,0);const _=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(_)),v.id||(v.id=Aw(v.startTime,v.endTime,_)),v.endTime>0&&c.push(v)},a.onparsingerror=function(v){h=v},a.onflush=function(){if(h){o(h);return}s(c)},l.forEach(v=>{if(m)if(ly(v,"X-TIMESTAMP-MAP=")){m=!1,v.slice(16).split(",").forEach(y=>{ly(y,"LOCAL:")?d=y.slice(6):ly(y,"MPEGTS:")&&(f=parseInt(y.slice(7)))});try{p=dH(d)/1e3}catch(y){h=y}return}else v===""&&(m=!1);a.parse(v+`
`)}),a.flush()}const uy="stpp.ttml.im1t",XP=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,JP=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,pH={left:"start",center:"center",right:"end",start:"start",end:"end"};function JC(t,e,n,r){const i=Ae(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(a=>zi(a)),o=AK(e.baseTime,1,e.timescale);try{s.forEach(a=>n(mH(a,o)))}catch(a){r(a)}}function mH(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((d,f)=>(d[f]=i.getAttribute(`ttp:${f}`)||s[f],d),{}),a=i.getAttribute("xml:space")!=="preserve",l=ZC(dy(i,"styling","style")),c=ZC(dy(i,"layout","region")),u=dy(i,"body","[begin]");return[].map.call(u,d=>{const f=ZP(d,a);if(!f||!d.hasAttribute("begin"))return null;const p=hy(d.getAttribute("begin"),o),h=hy(d.getAttribute("dur"),o);let m=hy(d.getAttribute("end"),o);if(p===null)throw eR(d);if(m===null){if(h===null)throw eR(d);m=p+h}const v=new kw(p-e,m-e,f);v.id=Aw(v.startTime,v.endTime,v.text);const y=c[d.getAttribute("region")],x=l[d.getAttribute("style")],b=gH(y,x,l),{textAlign:S}=b;if(S){const w=pH[S];w&&(v.lineAlign=w),v.align=S}return Jt(v,b),v}).filter(d=>d!==null)}function dy(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function ZC(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function ZP(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var s;return r.nodeName==="br"&&i?n+`
`:(s=r.childNodes)!=null&&s.length?ZP(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function gH(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&n.hasOwnProperty(o)&&(i=n[o]),s.reduce((a,l)=>{const c=fy(e,r,l)||fy(t,r,l)||fy(i,r,l);return c&&(a[l]=c),a},{})}function fy(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function eR(t){return new Error(`Could not parse ttml timestamp ${t}`)}function hy(t,e){if(!t)return null;let n=qP(t);return n===null&&(XP.test(t)?n=vH(t,e):JP.test(t)&&(n=yH(t,e))),n}function vH(t,e){const n=XP.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function yH(t,e){const n=JP.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class xH{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=nR(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(R.FRAG_LOADING,this.onFragLoading,this),e.on(R.FRAG_LOADED,this.onFragLoaded,this),e.on(R.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(R.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(R.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(R.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(R.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(R.FRAG_LOADING,this.onFragLoading,this),e.off(R.FRAG_LOADED,this.onFragLoaded,this),e.off(R.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(R.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(R.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(R.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(R.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new Eh(this,"textTrack1"),n=new Eh(this,"textTrack2"),r=new Eh(this,"textTrack3"),i=new Eh(this,"textTrack4");this.cea608Parser1=new XC(1,e,n),this.cea608Parser2=new XC(3,r,i)}}addCues(e,n,r,i,s){let o=!1;for(let a=s.length;a--;){const l=s[a],c=bH(l[0],l[1],n,r);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],r),o=!0,c/(r-n)>.5))return}if(o||s.push([n,r]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,n,r,i)}else{const a=this.Cues.newCue(null,n,r,i);this.hls.trigger(R.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[n.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(R.FRAG_LOADED,a)}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(tR(s,{name:e,lang:n,attrs:{}}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=n[e],a=this.getExistingTrack(s,o);if(a)r[e]=a,Fl(r[e]),xP(r[e],i);else{const l=this.createTextTrack("captions",s,o);l&&(l[e]=!0,r[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(R.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{Fl(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=nR(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)Fl(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(s=>s.textCodec===uy);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(HP(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,a=o?vp(o.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(a){let d=null;for(let f=0;f<a.length;f++)if(a[f]&&tR(a[f],l)){d=a[f],a[f]=null;break}d&&(u=d)}if(u)Fl(u);else{const d=e8(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),a!=null&&a.length){const l=a.filter(c=>c!==null).map(c=>c.label);l.length&&z.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(R.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===Se.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:o,lastSn:a}=this,{cc:l,sn:c}=n.frag,u=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;s&&o&&(c!==a+1||c===a&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===Se.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in n;if(s==null||!s.encrypted||o){const a=this.tracks[r.level],l=this.vttCCs;l[r.cc]||(l[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),a&&a.textCodec===uy?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;JC(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{z.log(`Failed to parse IMSC1: ${i}`),r.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,a=s.length-1;if(!s[r.cc]&&a===-1){o.push(e);return}const l=this.hls,c=(n=r.initSegment)!=null&&n.data?qr(r.initSegment.data,new Uint8Array(i)):i;hH(c,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,u=>{this._appendCues(u,r.level),l.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?o.push(e):this._fallbackToIMSC1(r,i),z.log(`Failed to parse VTT cue: ${u}`),!(d&&a>r.cc)&&l.trigger(R.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:u})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||JC(n,this.initPTS[e.cc],()=>{r.textCodec=uy,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(s=>bP(i,s))}else{const i=this.tracks[n];if(!i)return;const s=i.default?"default":"subtitles"+n;r.trigger(R.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Se.SUBTITLE&&this.onFragLoaded(R.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!r||!i)return;const{frag:s,samples:o}=n;if(!(s.type===Se.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let a=0;a<o.length;a++){const l=o[a].bytes;if(l){const c=this.extractCea608Data(l);r.addData(o[a].pts,c[0]),i.addData(o[a].pts,c[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>Lx(a[l],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>Lx(a[l],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],a=127&e[i++],l=127&e[i++];if(a===0&&l===0)continue;if((4&o)!==0){const u=3&o;(u===0||u===1)&&(n[u].push(a),n[u].push(l))}}return n}}function e8(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function tR(t,e){return!!t&&t.kind===e8(e)&&Nx(e,t)}function bH(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function nR(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class Lw{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(R.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.BUFFER_CODECS,this.onBufferCodecs,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(R.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.BUFFER_CODECS,this.onBufferCodecs,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&ue(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&z.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,Lw.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let s=e.length-1;const o=Math.max(n,r);for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=o||l.height>=o)&&i(l,e[a+1])){s=a;break}}return s}}class wH{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(R.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(R.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,a=n-this.lastDecodedFrames,l=1e3*o/s,c=this.hls;if(c.trigger(R.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),l>0&&o>c.config.fpsDroppedMonitoringThreshold*a){let u=c.currentLevel;z.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(R.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const _h="[eme]";class Wl{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Wl.CDMCleanupPromise?[Wl.CDMCleanupPromise]:[],this.debug=z.debug.bind(z,_h),this.log=z.log.bind(z,_h),this.warn=z.warn.bind(z,_h),this.error=z.error.bind(z,_h),this.onMediaEncrypted=n=>{const{initDataType:r,initData:i}=n,s=`"${n.type}" event: init data type: "${r}"`;if(this.debug(s),i!==null){if(!this.keyFormatPromise){let o=Object.keys(this.keySystemAccessPromises);o.length||(o=mh(this.config));const a=o.map(Yv).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(a)}this.keyFormatPromise.then(o=>{const a=Wv(o);let l,c;if(r==="sinf"){if(a!==tt.FAIRPLAY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const h=nn(new Uint8Array(i));try{const m=mw(JSON.parse(h).sinf),v=pP(m);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=v.subarray(8,24),c=tt.FAIRPLAY}catch(m){this.warn(`${s} Failed to parse sinf: ${m}`);return}}else{if(a!==tt.WIDEVINE&&a!==tt.PLAYREADY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${r}" for selected key-system ${a}`);return}const h=Jz(i),m=h.filter(y=>!!y.systemId&&qv(y.systemId)===a);m.length>1&&this.warn(`${s} Using first of ${m.length} pssh found for selected key-system ${a}`);const v=m[0];if(!v){h.length===0||h.some(y=>!y.systemId)?this.warn(`${s} contains incomplete or invalid pssh data`):this.log(`ignoring ${s} for ${h.map(y=>qv(y.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=qv(v.systemId),v.version===0&&v.data)if(c===tt.WIDEVINE){const y=v.data.length-22;l=v.data.subarray(y,y+16)}else c===tt.PLAYREADY&&(l=oP(v.data))}if(!c||!l){this.log(`Unable to handle ${s} with key-system ${a}`);return}const u=Si.hexDump(l),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let p=d[u];for(let h=0;h<f.length;h++){const m=f[h],v=m.decryptdata;if(!v.keyId)continue;const y=Si.hexDump(v.keyId);if(u===y||v.uri.replace(/-/g,"").indexOf(u)!==-1){if(p=d[y],v.pssh)break;delete d[y],v.pssh=new Uint8Array(i),v.keyId=l,p=d[u]=p.then(()=>this.generateRequestWithPreferredKeySession(m,r,i,"encrypted-event-key-match")),p.catch(x=>this.handleError(x));break}}if(!p){if(c!==a){this.log(`Ignoring "${s}" with ${c} init data for selected key-system ${a}`);return}p=d[u]=this.getKeySystemSelectionPromise([c]).then(({keySystem:h,mediaKeys:m})=>{var v;this.throwIfDestroyed();const y=new Md("ISO-23001-7",u,(v=Yv(h))!=null?v:"");return y.pssh=new Uint8Array(i),y.keyId=l,this.attemptSetMediaKeys(h,m).then(()=>{this.throwIfDestroyed();const x=this.createMediaKeySessionContext({decryptdata:y,keySystem:h,mediaKeys:m});return this.generateRequestWithPreferredKeySession(x,r,i,"encrypted-event-no-match")})}),p.catch(h=>this.handleError(h))}})}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(R.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(R.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(R.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(R.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(R.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n[e];if(i)return i.licenseUrl;if(e===tt.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(o,a,l)=>!!o&&l.indexOf(o)===a,i=n.map(o=>o.audioCodec).filter(r),s=n.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,a)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,i,s).then(d=>o({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof Or?a(d):a(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return sP===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){const i=Rz(e,n,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),o=this.requestMediaKeySystemAccess(e,i);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),a.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),a.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${Si.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Si.hexDump(e.keyId)}updateKeySession(e,n){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Si.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),i.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,r)=>{const i=mh(this.config),s=e.map(Wv).filter(o=>!!o&&i.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const a=Yv(o);a?n(a):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const n=e.keyInfo.decryptdata,r=this.getKeyIdString(n),i=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(n).then(({keySystem:o,mediaKeys:a})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,a).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:o,mediaKeys:a,decryptdata:n}),c="cenc";return this.generateRequestWithPreferredKeySession(l,c,n.pssh,"playlist-key")}))),s.catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Or?this.hls.trigger(R.ERROR,e.data):this.hls.trigger(R.ERROR,{type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=Wv(e.keyFormat),s=i?[i]:mh(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=mh(this.config)),e.length===0)throw new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var s,o;const a=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const h=a.call(this.hls,n,r,e);if(!h)throw new Error("Invalid response from configured generateRequest filter");n=h.initDataType,r=e.decryptdata.pssh=h.initData?new Uint8Array(h.initData):null}catch(h){var l;if(this.warn(h.message),(l=this.hls)!=null&&l.config.debug)throw h}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${c} (init data type: ${n} length: ${r?r.byteLength:null})`);const u=new Rw,d=e._onmessage=h=>{const m=e.mediaKeysSession;if(!m){u.emit("error",new Error("invalid state"));return}const{messageType:v,message:y}=h;this.log(`"${v}" message event for session "${m.sessionId}" message size: ${y.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,y).catch(x=>{this.handleError(x),u.emit("error",x)}):v==="license-release"?e.keySystem===tt.FAIRPLAY&&(this.updateKeySession(e,kx("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},f=e._onkeystatuseschange=h=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;u.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const p=new Promise((h,m)=>{u.on("error",m),u.on("keyStatus",v=>{v.startsWith("usable")?h():v==="output-restricted"?m(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?m(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?m(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(n,r).then(()=>{var h;this.log(`Request generated for key-session "${(h=e.mediaKeysSession)==null?void 0:h.sessionId}" keyId: ${c}`)}).catch(h=>{throw new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_NO_SESSION,error:h,fatal:!1},`Error generating key-session request: ${h}`)}).then(()=>p).catch(h=>{throw u.removeAllListeners(),this.removeSession(e),h}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,r)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${Si.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${Si.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{const l={responseType:"arraybuffer",url:s},c=n.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,p,h,m)=>{o(f.data)},onError:(f,p,h,m)=>{a(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:h,response:wn({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${s}). Status: ${f.code} (${f.text})`))},onTimeout:(f,p,h)=>{a(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:h,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(f,p,h)=>{a(new Error("aborted"))}};i.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${n}"`),i(e)}).catch(o=>{s(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let u;for(let d=0,f=s.length;d<f;d++){var o,a;u=s[d];const p=(o=u.querySelector("name"))==null?void 0:o.textContent,h=(a=u.querySelector("value"))==null?void 0:a.textContent;p&&h&&e.setRequestHeader(p,h)}}const l=i.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return kx(atob(c))}setupLicenseXHR(e,n,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",n,!0),s.call(this.hls,e,n,r,i)}).then(o=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,o,e)}catch(u){this.error(u)}i(l)}else{const l=r.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)s(new Or({type:Re.KEY_SYSTEM_ERROR,details:G.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,n).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==tt.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Md.clearKeyUriToKeyIdMap();const r=n.length;Wl.CDMCleanupPromise=Promise.all(n.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}Wl.CDMCleanupPromise=void 0;class Or extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var On;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(On||(On={}));var $x;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})($x||($x={}));var aa;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(aa||(aa={}));const SH={[aa.OBJECT]:["br","d","ot","tb"],[aa.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[aa.SESSION]:["cid","pr","sf","sid","st","v"],[aa.STATUS]:["bs","rtp"]};class Ac{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof Ac?r:new Ac(r))),this.value=e,this.params=n}}class t8{constructor(e){this.description=void 0,this.description=e}}const EH="Dict";function TH(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function _H(t,e,n,r){return new Error(`failed to ${t} "${TH(e)}" as ${n}`,{cause:r})}const rR="Bare Item",CH="Boolean",RH="Byte Sequence",kH="Decimal",AH="Integer";function LH(t){return t<-999999999999999||999999999999999<t}const PH=/[\x00-\x1f\x7f]+/,IH="Token",DH="Key";function Gi(t,e,n){return _H("serialize",t,e,n)}function OH(t){if(typeof t!="boolean")throw Gi(t,CH);return t?"?1":"?0"}function MH(t){return btoa(String.fromCharCode(...t))}function NH(t){if(ArrayBuffer.isView(t)===!1)throw Gi(t,RH);return`:${MH(t)}:`}function n8(t){if(LH(t))throw Gi(t,AH);return t.toString()}function FH(t){return`@${n8(t.getTime()/1e3)}`}function r8(t,e){if(t<0)return-r8(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}function $H(t){const e=r8(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Gi(t,kH);const n=e.toString();return n.includes(".")?n:`${n}.0`}const BH="String";function jH(t){if(PH.test(t))throw Gi(t,BH);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function UH(t){return t.description||t.toString().slice(7,-1)}function iR(t){const e=UH(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Gi(e,IH);return e}function Bx(t){switch(typeof t){case"number":if(!ue(t))throw Gi(t,rR);return Number.isInteger(t)?n8(t):$H(t);case"string":return jH(t);case"symbol":return iR(t);case"boolean":return OH(t);case"object":if(t instanceof Date)return FH(t);if(t instanceof Uint8Array)return NH(t);if(t instanceof t8)return iR(t);default:throw Gi(t,rR)}}function jx(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw Gi(t,DH);return t}function Pw(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${jx(e)}`:`;${jx(e)}=${Bx(n)}`).join("")}function i8(t){return t instanceof Ac?`${Bx(t.value)}${Pw(t.params)}`:Bx(t)}function zH(t){return`(${t.value.map(i8).join(" ")})${Pw(t.params)}`}function VH(t,e={whitespace:!0}){if(typeof t!="object")throw Gi(t,EH);const n=t instanceof Map?t.entries():Object.entries(t),r=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([i,s])=>{s instanceof Ac||(s=new Ac(s));let o=jx(i);return s.value===!0?o+=Pw(s.params):(o+="=",Array.isArray(s.value)?o+=zH(s):o+=i8(s)),o}).join(`,${r}`)}function KH(t,e){return VH(t,e)}const HH=t=>t==="ot"||t==="sf"||t==="st",GH=t=>typeof t=="number"?ue(t):t!=null&&t!==""&&t!==!1;function WH(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}function qH(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?s:s&3|8).toString(16)})}}}const Ep=t=>Math.round(t),YH=(t,e)=>(e!=null&&e.baseUrl&&(t=WH(t,e.baseUrl)),encodeURIComponent(t)),Ch=t=>Ep(t/100)*100,QH={br:Ep,d:Ep,bl:Ch,dl:Ch,mtp:Ch,nor:YH,rtp:Ch,tb:Ep};function XH(t,e){const n={};if(t==null||typeof t!="object")return n;const r=Object.keys(t).sort(),i=Jt({},QH,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return r.forEach(o=>{if(s!=null&&s(o))return;let a=t[o];const l=i[o];l&&(a=l(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||GH(a)&&(HH(o)&&typeof a=="string"&&(a=new t8(a)),n[o]=a))}),n}function s8(t,e={}){return t?KH(XH(t,e),Jt({whitespace:!1},e)):""}function JH(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(SH).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=n.reduce((s,o)=>{var a,l;const[c,u]=o,d=((a=r.find(f=>f[1].includes(c)))==null?void 0:a[0])||aa.REQUEST;return(l=s[d])!=null||(s[d]={}),s[d][c]=u,s},{});return Object.entries(i).reduce((s,[o,a])=>(s[o]=s8(a,e),s),{})}function ZH(t,e,n){return Jt(t,JH(e,n))}const eG="CMCD";function tG(t,e={}){if(!t)return"";const n=s8(t,e);return`${eG}=${encodeURIComponent(n)}`}const sR=/CMCD=[^&#]+/;function nG(t,e,n){const r=tG(e,n);if(!r)return t;if(sR.test(t))return t.replace(sR,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class rG{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:On.MANIFEST,su:!this.initialized})}catch(s){z.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,o=this.hls.levels[s.level],a=this.getObjectType(s),l={d:s.duration*1e3,ot:a};(a===On.VIDEO||a===On.AUDIO||a==On.MUXED)&&(l.br=o.bitrate/1e3,l.tb=this.getTopBandwidth(a)/1e3,l.bl=this.getBufferLength(a)),this.apply(i,l)}catch(s){z.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||qH(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHED,this.onMediaDetached,this),e.on(R.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHED,this.onMediaDetached,this),e.off(R.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:$x.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Jt(n,this.createData());const r=n.ot===On.INIT||n.ot===On.VIDEO||n.ot===On.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((s,o)=>(i.includes(o)&&(s[o]=n[o]),s),{})),this.useHeaders?(e.headers||(e.headers={}),ZH(e.headers,n)):e.url=nG(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return On.TIMED_TEXT;if(e.sn==="initSegment")return On.INIT;if(n==="audio")return On.AUDIO;if(n==="main")return this.hls.audioTracks.length?On.VIDEO:On.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===On.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}for(const s of r)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,r=e===On.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:yt.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){n(s),this.loader.load(s,o,a)}}}}const iG=3e5;class sG{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=z.log.bind(z,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if((r==null?void 0:r.action)===_n.SendAlternateToPenaltyBox&&r.flags===ei.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this.pathwayPriority,o=this.pathwayId;if(n.context){const{groupId:a,pathwayId:l,type:c}=n.context;a&&i?o=this.getPathwayForGroupId(a,c,o):l&&(o=l)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&i&&(s=i.reduce((a,l)=>(a.indexOf(l.pathwayId)===-1&&a.push(l.pathwayId),a),[])),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==o),r.resolved||z.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>iG&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in r)continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(n=this.getLevelsForPathway(o),n.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,TP(n),this.hls.trigger(R.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(n===Ke.AUDIO_TRACK&&i[s].hasAudioGroup(e)||n===Ke.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=s;if(n.some(u=>u.pathwayId===o))return;const c=this.getLevelsForPathway(a).map(u=>{const d=new At(u.attrs);d["PATHWAY-ID"]=o;const f=d.AUDIO&&`${d.AUDIO}_clone_${o}`,p=d.SUBTITLES&&`${d.SUBTITLES}_clone_${o}`;f&&(r[d.AUDIO]=f,d.AUDIO=f),p&&(i[d.SUBTITLES]=p,d.SUBTITLES=p);const h=o8(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),m=new kc({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:h,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let v=1;v<u.audioGroups.length;v++)m.addGroupId("audio",`${u.audioGroups[v]}_clone_${o}`);if(u.subtitleGroups)for(let v=1;v<u.subtitleGroups.length;v++)m.addGroupId("text",`${u.subtitleGroups[v]}_clone_${o}`);return m});n.push(...c),oR(this.audioTracks,r,l,o),oR(this.subtitleTracks,i,l,o)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+u)}const s={responseType:"json",url:i.href},o=n.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,d,f,p)=>{this.log(`Loaded steering manifest: "${i}"`);const h=u.data;if(h.VERSION!==1){this.log(`Steering VERSION ${h.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=h.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":y}=h;if(m)try{this.uri=new self.URL(m,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||f.url),v&&this.clonePathways(v);const x={steeringManifest:h,url:i.toString()};this.hls.trigger(R.STEERING_MANIFEST_LOADED,x),y&&this.updatePathwayPriority(y)},onError:(u,d,f,p)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let h=this.timeToLoad*1e3;if(u.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const v=m.getResponseHeader("Retry-After");v&&(h=parseFloat(v)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,h)},onTimeout:(u,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function oR(t,e,n,r){t&&Object.keys(e).forEach(i=>{const s=t.filter(o=>o.groupId===i).map(o=>{const a=Jt({},o);return a.details=void 0,a.attrs=new At(a.attrs),a.url=a.attrs.URI=o8(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),a.groupId=a.attrs["GROUP-ID"]=e[i],a.attrs["PATHWAY-ID"]=r,a});t.push(...s)})}function o8(t,e,n,r){const{HOST:i,PARAMS:s,[n]:o}=r;let a;e&&(a=o==null?void 0:o[e],a&&(t=a));const l=new self.URL(t);return i&&!a&&(l.host=i),s&&Object.keys(s).sort().forEach(c=>{c&&l.searchParams.set(c,s[c])}),l.href}const oG=/^age:\s*[\d.]+\s*$/im;class a8{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new K0,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,n.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),s(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const a in i)e.setRequestHeader(a,i[a]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&ue(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const o=n.status,a=n.responseType==="text"?n.responseText:null;if(o>=200&&o<300){const d=a??n.response;if(d!=null){r.loading.end=Math.max(self.performance.now(),r.loading.first);const f=n.responseType==="arraybuffer"?d.byteLength:d.length;if(r.loaded=r.total=f,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const p=this.callbacks.onProgress;if(p&&p(r,e,d,n),!this.callbacks)return;const h={url:n.responseURL,data:d,code:o};this.callbacks.onSuccess(h,r,e,n);return}}const l=s.loadPolicy.errorRetry,c=r.retry,u={url:e.url,data:void 0,code:o};Am(l,c,!1,u)?this.retry(l):(z.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:n.statusText},e,n,r))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(Am(e,n,!0))this.retry(e);else{var r;z.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=yw(e,r.retry),r.retry++,z.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&oG.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function aG(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const lG=/(\d+)-(\d+)\/(\d+)/;class aR{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||fG,this.controller=new self.AbortController,this.stats=new K0}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=cG(e,this.controller.signal),o=r.onProgress,a=e.responseType==="arraybuffer",l=a?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=c&&ue(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},n.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const f=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},u-(f-i.loading.start)),!d.ok){const{status:p,statusText:h}=d;throw new hG(h||"fetch, bad network response",p,d)}return i.loading.first=f,i.total=dG(d.headers)||i.total,o&&ue(n.highWaterMark)?this.loadProgressively(d,i,e,n.highWaterMark,o):a?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const p=d[l];p&&(i.loaded=i.total=p);const h={url:f.url,data:d,code:f.status};o&&!ue(n.highWaterMark)&&o(i,e,d,f),r.onSuccess(h,i,e,f)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const f=d&&d.code||0,p=d?d.message:null;r.onError({code:f,text:p},e,d?d.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,s){const o=new kP,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return o.dataLength&&s(n,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return n.loaded+=d,d<i||o.dataLength?(o.push(u),o.dataLength>=i&&s(n,r,o.flush(),e)):s(n,r,u,e),l()}).catch(()=>Promise.reject());return l()}}function cG(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Jt({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function uG(t){const e=lG.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function dG(t){const e=t.get("Content-Range");if(e){const r=uG(e);if(ue(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function fG(t,e){return new self.Request(t.url,e)}class hG extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const pG=/\s/,mG={newCue(t,e,n,r){const i=[];let s,o,a,l,c;const u=self.VTTCue||self.TextTrackCue;for(let f=0;f<r.rows.length;f++)if(s=r.rows[f],a=!0,l=0,c="",!s.isEmpty()){var d;for(let m=0;m<s.chars.length;m++)pG.test(s.chars[m].uchar)&&a?l++:(c+=s.chars[m].uchar,a=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const p=QP(c.trim()),h=Aw(e,n,p);t!=null&&(d=t.cues)!=null&&d.getCueById(h)||(o=new u(e,n,p),o.id=h,o.line=f+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),i.push(o))}return t&&i.length&&(i.sort((f,p)=>f.line==="auto"||p.line==="auto"?0:f.line>8&&p.line>8?p.line-f.line:f.line-p.line),i.forEach(f=>bP(t,f))),i}},gG={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},l8=wn(wn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:a8,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:VV,bufferController:WK,capLevelController:Lw,errorController:PV,fpsController:wH,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:sP,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:gG},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},vG()),{},{subtitleStreamController:VK,subtitleTrackController:HK,timelineController:xH,audioStreamController:UK,audioTrackController:zK,emeController:Wl,cmcdController:rG,contentSteeringController:sG});function vG(){return{cueHandler:mG,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function yG(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=Ux(t),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,a=e[o]===void 0,l=[];i.forEach(c=>{const u=`${s}Loading${c}`,d=e[u];if(d!==void 0&&a){l.push(u);const f=n[o].default;switch(e[o]={default:f},c){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&z.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),wn(wn({},n),e)}function Ux(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(Ux):Object.keys(t).reduce((e,n)=>(e[n]=Ux(t[n]),e),{}):t}function xG(t){const e=t.loader;e!==aR&&e!==a8?(z.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):aG()&&(t.loader=aR,t.progressive=!0,t.enableSoftwareAES=!0,z.log("[config]: Progressive streaming enabled, using FetchLoader"))}let py;class bG extends xw{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this),e.on(R.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this),e.off(R.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],s={},o={};let a=!1,l=!1,c=!1;n.levels.forEach(u=>{var d,f;const p=u.attrs;let{audioCodec:h,videoCodec:m}=u;((d=h)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(py||(py=/chrome|firefox/i.test(navigator.userAgent)),py&&(u.audioCodec=h=void 0)),h&&(u.audioCodec=h=Cm(h,r)),((f=m)==null?void 0:f.indexOf("avc1"))===0&&(m=u.videoCodec=oV(m));const{width:v,height:y,unknownCodecs:x}=u;if(a||(a=!!(v&&y)),l||(l=!!m),c||(c=!!h),x!=null&&x.length||h&&!Zv(h,"audio",r)||m&&!Zv(m,"video",r))return;const{CODECS:b,"FRAME-RATE":S,"HDCP-LEVEL":w,"PATHWAY-ID":_,RESOLUTION:T,"VIDEO-RANGE":C}=p,A=`${`${_||"."}-`}${u.bitrate}-${T}-${S}-${b}-${C}-${w}`;if(s[A])if(s[A].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const I=o[A]+=1;u.attrs["PATHWAY-ID"]=new Array(I+1).join(".");const N=new kc(u);s[A]=N,i.push(N)}else s[A].addGroupId("audio",p.AUDIO),s[A].addGroupId("text",p.SUBTITLES);else{const I=new kc(u);s[A]=I,o[A]=1,i.push(I)}}),this.filterAndSortMediaOptions(i,n,a,l,c)}filterAndSortMediaOptions(e,n,r,i,s){let o=[],a=[],l=e;if((r||i)&&s&&(l=l.filter(({videoCodec:h,videoRange:m,width:v,height:y})=>(!!h||!!(v&&y))&&xV(m))),l.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const h=new Error("no level with compatible codecs found in manifest");this.hls.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:h,reason:h.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:h}=this.hls.config;o=n.audioTracks.filter(m=>!m.audioCodec||Zv(m.audioCodec,"audio",h)),lR(o)}n.subtitles&&(a=n.subtitles,lR(a));const c=l.slice(0);l.sort((h,m)=>{if(h.attrs["HDCP-LEVEL"]!==m.attrs["HDCP-LEVEL"])return(h.attrs["HDCP-LEVEL"]||"")>(m.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&h.height!==m.height)return h.height-m.height;if(h.frameRate!==m.frameRate)return h.frameRate-m.frameRate;if(h.videoRange!==m.videoRange)return Rm.indexOf(h.videoRange)-Rm.indexOf(m.videoRange);if(h.videoCodec!==m.videoCodec){const v=mC(h.videoCodec),y=mC(m.videoCodec);if(v!==y)return y-v}if(h.uri===m.uri&&h.codecSet!==m.codecSet){const v=_m(h.codecSet),y=_m(m.codecSet);if(v!==y)return y-v}return h.averageBitrate!==m.averageBitrate?h.averageBitrate-m.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let h=0;h<c.length;h++)if(c[h].pathwayId===l[0].pathwayId){u=c[h];break}}this._levels=l;for(let h=0;h<l.length;h++)if(l[h]===u){var d;this._firstLevel=h;const m=u.bitrate,v=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${m}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const y=Math.min(m,this.hls.config.abrEwmaDefaultEstimateMax);y>v&&v===l8.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=y)}break}const f=s&&!i,p={levels:l,audioTracks:o,subtitleTracks:a,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:i,altAudio:!f&&o.some(h=>!!h.url)};this.hls.trigger(R.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(R.ERROR,{type:Re.OTHER_ERROR,details:G.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=n[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&i&&s===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${r}${s?" with Pathway "+s:""}`);const l={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(R.LEVEL_SWITCHING,l);const c=o.details;if(!c||c.live){const u=this.switchParams(o.uri,i==null?void 0:i.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===Ke.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===Se.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:s}=n,o=this._levels[i];if(!o){var a;this.warn(`Invalid level index ${i}`),(a=n.deliveryDirectives)!=null&&a.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(i,n,o.details)):(r=n.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let i=r.uri;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${i}`),this.clearTimer(),this.hls.trigger(R.LEVEL_LOADING,{url:i,level:n,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(o=>o.level=-1)),!1));TP(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(R.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(R.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function lR(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}class wG{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=G.KEY_LOAD_ERROR,r,i,s){return new rs({type:Re.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<n.length;s++){const o=n[s];if(i<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,G.KEY_LOAD_ERROR,c))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,G.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((r=a)!=null&&r.decryptdata.key)return s.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((i=a)!=null&&i.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(s.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,G.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,s=new i(r);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,a)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=r.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,p,h,m)=>{const{frag:v,keyInfo:y,url:x}=h;if(!v.decryptdata||y!==this.keyUriToKeyInfo[x])return a(this.createKeyLoadError(v,G.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));y.decryptdata.key=v.decryptdata.key=new Uint8Array(f.data),v.keyLoader=null,y.loader=null,o({frag:v,keyInfo:y})},onError:(f,p,h,m)=>{this.resetLoader(p),a(this.createKeyLoadError(n,G.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),h,wn({url:l.url,data:void 0},f)))},onTimeout:(f,p,h)=>{this.resetLoader(p),a(this.createKeyLoadError(n,G.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),h))},onAbort:(f,p,h)=>{this.resetLoader(p),a(this.createKeyLoadError(n,G.INTERNAL_ABORTED,new Error("key loading aborted"),h))}};s.load(l,u,d)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,s=r.loader;n.keyLoader===s&&(n.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function c8(){return self.SourceBuffer||self.WebKitSourceBuffer}function u8(){if(!$a())return!1;const e=c8();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function SG(){if(!u8())return!1;const t=$a();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(Nd(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(Nd(e,"audio"))))}function EG(){var t;const e=c8();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const TG=250,Tp=2,_G=.1,CG=.05;class RG{constructor(e,n,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:o,seeking:a}=i,l=this.seeking&&!a,c=!this.seeking&&a;if(this.seeking=a,o!==e){if(this.moved=!0,a||(this.nudgeRetry=0),s!==null){if(this.stallReported){const v=self.performance.now()-s;z.warn(`playback not stuck anymore @${o}, after ${Math.round(v)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(i.paused&&!a||i.ended||i.playbackRate===0||!yt.getBuffered(i).length){this.nudgeRetry=0;return}const u=yt.bufferInfo(i,o,0),d=u.nextStart||0;if(a){const v=u.len>Tp,y=!d||n&&n.start<=o||d-o>Tp&&!this.fragmentTracker.getPartialFragment(o);if(v||y)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(u.len>0)&&!d)return;const y=Math.max(d,u.start||0)-o,x=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,S=(x==null||(f=x.details)==null?void 0:f.live)?x.details.targetduration*2:Tp,w=this.fragmentTracker.getPartialFragment(o);if(y>0&&(y<=S||w)){i.paused||this._trySkipBufferHole(w);return}}const p=self.performance.now();if(s===null){this.stalled=p;return}const h=p-s;if(!a&&h>=TG&&(this._reportStall(u),!this.media))return;const m=yt.bufferInfo(i,o,r.maxBufferHole);this._tryFixBufferStall(m,h)}_tryFixBufferStall(e,n){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const o=s.currentTime,a=i.getPartialFragment(o);a&&(this._trySkipBufferHole(a)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&n>r.highBufferWatchdogPeriod*1e3&&(z.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);z.warn(s.message),n.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,o=yt.bufferInfo(i,s,0),a=s<o.start?o.start:o.nextStart;if(a){const l=o.len<=n.maxBufferHole,c=o.len>0&&o.len<1&&i.readyState<3,u=a-s;if(u>0&&(l||c)){if(u>n.maxBufferHole){const{fragmentTracker:f}=this;let p=!1;if(s===0){const h=f.getAppendedFrag(0,Se.MAIN);h&&a<h.end&&(p=!0)}if(!p){const h=e||f.getAppendedFrag(s,Se.MAIN);if(h){let m=!1,v=h.end;for(;v<a;){const y=f.getPartialFragment(v);if(y)v+=y.duration;else{m=!0;break}}if(m)return 0}}}const d=Math.max(a+CG,s+_G);if(z.warn(`skipping hole, adjusting currentTime from ${s} to ${d}`),this.moved=!0,this.stalled=null,i.currentTime=d,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${d}`);r.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const o=s+(i+1)*e.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${s} to ${o}`);z.warn(a.message),r.currentTime=o,n.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);z.error(o.message),n.trigger(R.ERROR,{type:Re.MEDIA_ERROR,details:G.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const kG=100;class AG extends Sw{constructor(e,n,r){super(e,n,r,"[stream-controller]",Se.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(R.MANIFEST_LOADING,this.onManifestLoading,this),e.on(R.MANIFEST_PARSED,this.onManifestParsed,this),e.on(R.LEVEL_LOADING,this.onLevelLoading,this),e.on(R.LEVEL_LOADED,this.onLevelLoaded,this),e.on(R.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(R.ERROR,this.onError,this),e.on(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(R.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(R.BUFFER_CREATED,this.onBufferCreated,this),e.on(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(R.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(R.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(R.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(R.MANIFEST_LOADING,this.onManifestLoading,this),e.off(R.MANIFEST_PARSED,this.onManifestParsed,this),e.off(R.LEVEL_LOADED,this.onLevelLoaded,this),e.off(R.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(R.ERROR,this.onError,this),e.off(R.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(R.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(R.BUFFER_CREATED,this.onBufferCreated,this),e.off(R.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(R.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(R.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:r}=this;if(this.stopLoad(),this.setInterval(kG),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.firstAutoLevel),r.nextLoadLevel=i,this.level=r.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=J.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=J.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case J.WAITING_LEVEL:{const{levels:n,level:r}=this,i=n==null?void 0:n[r],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(s))break;this.state=J.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=J.IDLE;break}break}case J.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),r=this.retryDate;if(!r||n>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,o=i==null?void 0:i[s];this.resetStartWhenNotLoaded(o||null),this.state=J.IDLE}}break}this.state===J.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[s]))return;const o=r[s],a=this.getMainFwdBufferInfo();if(a===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){const m={};this.altAudio&&(m.type="video"),this.hls.trigger(R.BUFFER_EOS,m),this.state=J.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=o.details;if(!c||this.state===J.WAITING_LEVEL||c.live&&this.levelLastLoaded!==o){this.level=s,this.state=J.WAITING_LEVEL;return}const u=a.len,d=this.getMaxBufferLength(o.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:a.end;let p=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&p&&p.sn!=="initSegment"&&this.fragmentTracker.getState(p)!==mn.OK){var h;const v=((h=this.backtrackFragment)!=null?h:p).sn-c.startSN,y=c.fragments[v-1];y&&p.cc===y.cc&&(p=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,f)){if(!p.gap){const v=this.audioOnly&&!this.altAudio?ut.AUDIO:ut.VIDEO,y=(v===ut.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,Se.MAIN)}p=this.getNextFragmentLoopLoading(p,c,a,Se.MAIN,d)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,o,f))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===mn.NOT_LOADED||i===mn.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Se.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<s.targetduration*2)return}if(!n.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?r=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:r=0}else r=0;const o=this.getBufferedFrag(n.currentTime+r);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,u=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case J.KEY_LOADING:case J.FRAG_LOADING:case J.FRAG_LOADING_WAITING_RETRY:case J.PARSING:case J.PARSED:this.state=J.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new RG(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;ue(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(R.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let r=!1,i=!1;n.levels.forEach(s=>{const o=s.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!EG(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==J.IDLE)return;const i=r[n.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=J.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i}=this,s=n.level,o=n.details,a=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const l=i[s],c=this.fragCurrent;c&&(this.state===J.FRAG_LOADING||this.state===J.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let u=0;if(o.live||(r=l.details)!=null&&r.live){var d;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;u=this.alignPlaylists(o,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=o,this.levelLastLoaded=l,this.hls.trigger(R.LEVEL_UPDATED,{details:o,level:s}),this.state===J.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=J.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,u),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:r,part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const a=o[r.level],l=a.details;if(!l){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const c=a.videoCodec,u=l.PTSKnown||!l.live,d=(n=r.initSegment)==null?void 0:n.data,f=this._getAudioCodec(a),p=this.transmuxer=this.transmuxer||new KP(this.hls,Se.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=i?i.index:-1,m=h!==-1,v=new bw(r.level,r.sn,r.stats.chunkCount,s.byteLength,h,m),y=this.initPTS[r.cc];p.push(s,d,f,c,r,i,l.totalduration,u,v,y)}onAudioTrackSwitching(e,n){const r=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger(R.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(R.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=n.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,s,o=!1;for(const a in r){const l=r[a];if(l.id==="main"){if(s=a,i=l,a==="video"){const c=r[a];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r&&r.type!==Se.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===J.PARSED&&(this.state=J.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,n){var r;if(n.fatal){this.state=J.ERROR;return}switch(n.details){case G.FRAG_GAP:case G.FRAG_PARSING_ERROR:case G.FRAG_DECRYPT_ERROR:case G.FRAG_LOAD_ERROR:case G.FRAG_LOAD_TIMEOUT:case G.KEY_LOAD_ERROR:case G.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Se.MAIN,n);break;case G.LEVEL_LOAD_ERROR:case G.LEVEL_LOAD_TIMEOUT:case G.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===J.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===Ke.LEVEL&&(this.state=J.IDLE);break;case G.BUFFER_APPEND_ERROR:case G.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===G.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case G.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!yt.getBuffered(e).length){const r=this.state!==J.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=J.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==ut.AUDIO||this.audioOnly&&!this.altAudio){const r=(n===ut.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,Se.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=yt.getBuffered(e),o=(i.length?i.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${n}`),e.currentTime=r}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;n.fragmentError=0,this.state=J.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(R.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{video:d,text:f,id3:p,initSegment:h}=s,{details:m}=u,v=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=J.PARSING,h){if(h!=null&&h.tracks){const b=l.initSegment||l;this._bufferInitSegment(u,h.tracks,b,o),i.trigger(R.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:r,tracks:h.tracks})}const y=h.initPTS,x=h.timescale;ue(y)&&(this.initPTS[l.cc]={baseTime:y,timescale:x},i.trigger(R.INIT_PTS_FOUND,{frag:l,id:r,initPTS:y,timescale:x}))}if(d&&m&&l.sn!=="initSegment"){const y=m.fragments[l.sn-1-m.startSN],x=l.sn===m.startSN,b=!y||l.cc>y.cc;if(s.independent!==!1){const{startPTS:S,endPTS:w,startDTS:_,endDTS:T}=d;if(c)c.elementaryStreams[d.type]={startPTS:S,endPTS:w,startDTS:_,endDTS:T};else if(d.firstKeyFrame&&d.independent&&o.id===1&&!b&&(this.couldBacktrack=!0),d.dropped&&d.independent){const C=this.getMainFwdBufferInfo(),k=(C?C.end:this.getLoadPosition())+this.config.maxBufferHole,A=d.firstKeyFramePTS?d.firstKeyFramePTS:S;if(!x&&k<A-this.config.maxBufferHole&&!b){this.backtrack(l);return}else b&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,w,l.start,T,!0)}else x&&S>Tp&&(l.gap=!0);l.setElementaryStreamInfo(d.type,S,w,_,T),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,o,x||b)}else if(x||b)l.gap=!0;else{this.backtrack(l);return}}if(v){const{startPTS:y,endPTS:x,startDTS:b,endDTS:S}=v;c&&(c.elementaryStreams[ut.AUDIO]={startPTS:y,endPTS:x,startDTS:b,endDTS:S}),l.setElementaryStreamInfo(ut.AUDIO,y,x,b,S),this.bufferFragmentData(v,l,c,o)}if(m&&p!=null&&(n=p.samples)!=null&&n.length){const y={id:r,frag:l,details:m,samples:p.samples};i.trigger(R.FRAG_PARSING_METADATA,y)}if(m&&f){const y={id:r,frag:l,details:m,samples:f.samples};i.trigger(R.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,n,r,i){if(this.state!==J.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:o,audiovideo:a}=n;if(s){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=s.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),s.levelCodec=l,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${s.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),this.hls.trigger(R.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const u=n[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(R.BUFFER_APPENDING,{type:l,data:u,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Se.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=J.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(yt.isBuffered(e,r)?n=this.getAppendedFrag(r):yt.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,s=n.level;(!i||n.sn!==i.sn||i.level!==s)&&(this.fragPlaying=n,this.hls.trigger(R.FRAG_CHANGED,{frag:n}),(!i||i.level!==s)&&this.hls.trigger(R.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,r=this.currentFrag;if(r&&ue(n)&&ue(r.programDateTime)){const i=r.programDateTime+(n-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class ds{static get version(){return"1.5.20"}static isMSESupported(){return u8()}static isSupported(){return SG()}static getMediaSource(){return $a()}static get Events(){return R}static get ErrorTypes(){return Re}static get ErrorDetails(){return G}static get DefaultConfig(){return ds.defaultConfig?ds.defaultConfig:l8}static set DefaultConfig(e){ds.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Rw,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,vz(e.debug||!1,"Hls instance");const n=this.config=yG(ds.DefaultConfig,e);this.userConfig=e,n.progressive&&xG(n);const{abrController:r,bufferController:i,capLevelController:s,errorController:o,fpsController:a}=n,l=new o(this),c=this.abrController=new r(this),u=this.bufferController=new i(this),d=this.capLevelController=new s(this),f=new a(this),p=new dV(this),h=new gV(this),m=n.contentSteeringController,v=m?new m(this):null,y=this.levelController=new bG(this,v),x=new HV(this),b=new wG(this.config),S=this.streamController=new AG(this,x,b);d.setStreamController(S),f.setStreamController(S);const w=[p,y,S];v&&w.splice(1,0,v),this.networkControllers=w;const _=[c,u,d,f,h,x];this.audioTrackController=this.createController(n.audioTrackController,w);const T=n.audioStreamController;T&&w.push(new T(this,x,b)),this.subtitleTrackController=this.createController(n.subtitleTrackController,w);const C=n.subtitleStreamController;C&&w.push(new C(this,x,b)),this.createController(n.timelineController,_),b.emeController=this.emeController=this.createController(n.emeController,_),this.cmcdController=this.createController(n.cmcdController,_),this.latencyController=this.createController(vV,_),this.coreComponents=_,w.push(l);const k=l.onErrorOut;typeof k=="function"&&this.on(R.ERROR,k,l)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(z.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===R.ERROR;this.trigger(R.ERROR,{type:Re.OTHER_ERROR,details:G.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){z.log("destroy"),this.trigger(R.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){z.log("attachMedia"),this._media=e,this.trigger(R.MEDIA_ATTACHING,{media:e})}detachMedia(){z.log("detachMedia"),this.trigger(R.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,r=this.url,i=this.url=pw.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,z.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(R.MANIFEST_LOADING,{url:e})}startLoad(e=-1){z.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e),!(!this.started||!this.networkControllers));n++);}stopLoad(){z.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}resumeBuffering(){z.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()})}pauseBuffering(){z.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()})}swapAudioCodec(){z.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){z.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){z.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){z.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){z.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){z.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){z.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(z.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){yV(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}ds.defaultConfig=void 0;const Iw="-";function LG(t){const e=IG(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(o){const a=o.split(Iw);return a[0]===""&&a.length!==1&&a.shift(),d8(a,e)||PG(o)}function s(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function d8(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?d8(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Iw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const cR=/^\[(.+)\]$/;function PG(t){if(cR.test(t)){const e=cR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function IG(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OG(Object.entries(t.classGroups),n).forEach(([s,o])=>{zx(o,r,s,e)}),r}function zx(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:uR(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(DG(i)){zx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{zx(o,uR(e,s),n,r)})})}function uR(t,e){let n=t;return e.split(Iw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function DG(t){return t.isThemeGetter}function OG(t,e){return e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t}function MG(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}}const f8="!";function NG(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(o){const a=[];let l=0,c=0,u;for(let m=0;m<o.length;m++){let v=o[m];if(l===0){if(v===r&&(n||o.slice(m,m+i)===e)){a.push(o.slice(c,m)),c=m+i;continue}if(v==="/"){u=m;continue}}v==="["?l++:v==="]"&&l--}const d=a.length===0?o:o.substring(c),f=d.startsWith(f8),p=f?d.substring(1):d,h=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}}}function FG(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function $G(t){return{cache:MG(t.cacheSize),splitModifiers:NG(t),...LG(t)}}const BG=/\s+/;function jG(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=new Set;return t.trim().split(BG).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(o);let d=r(u?c.substring(0,u):c),f=Boolean(u);if(!d){if(!u)return{isTailwindClass:!1,originalClassName:o};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:o};f=!1}const p=FG(a).join(":");return{isTailwindClass:!0,modifierId:l?p+f8:p,classGroupId:d,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=o,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(d=>s.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function UG(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=h8(e))&&(r&&(r+=" "),r+=n);return r}function h8(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=h8(t[r]))&&(n&&(n+=" "),n+=e);return n}function zG(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=$G(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=jG(l,n);return i(l,u),u}return function(){return s(UG.apply(null,arguments))}}function St(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const p8=/^\[(?:([a-z-]+):)?(.+)\]$/i,VG=/^\d+\/\d+$/,KG=new Set(["px","full","screen"]),HG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ji(t){return la(t)||KG.has(t)||VG.test(t)}function Ls(t){return Gc(t,"length",rW)}function la(t){return Boolean(t)&&!Number.isNaN(Number(t))}function Rh(t){return Gc(t,"number",la)}function pu(t){return Boolean(t)&&Number.isInteger(Number(t))}function QG(t){return t.endsWith("%")&&la(t.slice(0,-1))}function Ie(t){return p8.test(t)}function Ps(t){return HG.test(t)}const XG=new Set(["length","size","percentage"]);function JG(t){return Gc(t,XG,m8)}function ZG(t){return Gc(t,"position",m8)}const eW=new Set(["image","url"]);function tW(t){return Gc(t,eW,sW)}function nW(t){return Gc(t,"",iW)}function mu(){return!0}function Gc(t,e,n){const r=p8.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function rW(t){return GG.test(t)&&!WG.test(t)}function m8(){return!1}function iW(t){return qG.test(t)}function sW(t){return YG.test(t)}function oW(){const t=St("colors"),e=St("spacing"),n=St("blur"),r=St("brightness"),i=St("borderColor"),s=St("borderRadius"),o=St("borderSpacing"),a=St("borderWidth"),l=St("contrast"),c=St("grayscale"),u=St("hueRotate"),d=St("invert"),f=St("gap"),p=St("gradientColorStops"),h=St("gradientColorStopPositions"),m=St("inset"),v=St("margin"),y=St("opacity"),x=St("padding"),b=St("saturate"),S=St("scale"),w=St("sepia"),_=St("skew"),T=St("space"),C=St("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Ie,e],N=()=>[Ie,e],M=()=>["",Ji,Ls],D=()=>["auto",la,Ie],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],U=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",Ie],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[la,Rh],q=()=>[la,Ie];return{cacheSize:500,separator:":",theme:{colors:[mu],spacing:[Ji,Ls],blur:["none","",Ps,Ie],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ps,Ie],borderSpacing:N(),borderWidth:M(),contrast:H(),grayscale:j(),hueRotate:q(),invert:j(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[QG,Ls],inset:I(),margin:I(),opacity:H(),padding:N(),saturate:H(),scale:H(),sepia:j(),skew:q(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),Ie]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pu,Ie]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",pu,Ie]}],"grid-cols":[{"grid-cols":[mu]}],"col-start-end":[{col:["auto",{span:["full",pu,Ie]},Ie]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[mu]}],"row-start-end":[{row:["auto",{span:[pu,Ie]},Ie]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,e]}],"min-w":[{"min-w":[Ie,e,"min","max","fit"]}],"max-w":[{"max-w":[Ie,e,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[Ie,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rh]}],"font-family":[{font:[mu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",la,Rh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ji,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ji,Ls]}],"underline-offset":[{"underline-offset":["auto",Ji,Ie]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),ZG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Ji,Ie]}],"outline-w":[{outline:[Ji,Ls]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ji,Ls]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ps,nW]}],"shadow-color":[{shadow:[mu]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ps,Ie]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[pu,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ji,Ls,Rh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const aW=zG(oW);function g8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=g8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function oe(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=g8(t))&&(r&&(r+=" "),r+=e);return r}const _p=t=>{if(t!=null&&t.image){let e=t.image.length;return e>0?t.image[e-1].url:t.image[0].url}else return"https://png.pngtree.com/png-clipart/20210207/ourmid/pngtree-concert-cd-clip-art-png-image_2885284.jpg"},lW=t=>{if(t){let e=t.length;return e>0?t[e-1].url:t[0].url}},v8=t=>{if(t!==null)if(t.downloadUrl){let e=t.downloadUrl.length;return e>0?t.downloadUrl[e-1].url:t.downloadUrl[0].url}else return t!=null&&t.url?t.url:null},cW=t=>{const e=Math.floor(t/60),n=t%60,r=e.toString().padStart(2,0),i=n.toString().padStart(2,0);return`${r}:${i}`},Ii=(...t)=>aW(oe(t)),uW=async({link:t,image:e,name:n,artists:r,id:i,duration:s})=>{const o=new Blob([t],{type:"audio/mpeg"}),a=new Blob([e],{type:"image/png"});await Zd.songs.add({id:i,url:o,name:n,image:a,artists:r,duration:s})};var Dw={},Qe={},dW={get exports(){return Qe},set exports(t){Qe=t}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(dW);var my={};function P(){return P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P.apply(this,arguments)}function ea(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function y8(t){if(!ea(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=y8(t[n])}),e}function Hr(t,e,n={clone:!0}){const r=n.clone?P({},t):t;return ea(t)&&ea(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ea(e[i])&&i in t&&ea(t[i])?r[i]=Hr(t[i],e[i],n):n.clone?r[i]=ea(e[i])?y8(e[i]):e[i]:r[i]=e[i])}),r}var lt={},fW={get exports(){return lt},set exports(t){lt=t}},hW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pW=hW,mW=pW;function x8(){}function b8(){}b8.resetWarningCache=x8;var gW=function(){function t(r,i,s,o,a,l){if(l!==mW){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:b8,resetWarningCache:x8};return n.PropTypes=n,n};fW.exports=gW();function Eo(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var dR={},vW={get exports(){return dR},set exports(t){dR=t}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=Symbol.for("react.element"),Mw=Symbol.for("react.portal"),G0=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),q0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),Q0=Symbol.for("react.context"),yW=Symbol.for("react.server_context"),X0=Symbol.for("react.forward_ref"),J0=Symbol.for("react.suspense"),Z0=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),tg=Symbol.for("react.lazy"),xW=Symbol.for("react.offscreen"),w8;w8=Symbol.for("react.module.reference");function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ow:switch(t=t.type,t){case G0:case q0:case W0:case J0:case Z0:return t;default:switch(t=t&&t.$$typeof,t){case yW:case Q0:case X0:case tg:case eg:case Y0:return t;default:return e}}case Mw:return e}}}ft.ContextConsumer=Q0;ft.ContextProvider=Y0;ft.Element=Ow;ft.ForwardRef=X0;ft.Fragment=G0;ft.Lazy=tg;ft.Memo=eg;ft.Portal=Mw;ft.Profiler=q0;ft.StrictMode=W0;ft.Suspense=J0;ft.SuspenseList=Z0;ft.isAsyncMode=function(){return!1};ft.isConcurrentMode=function(){return!1};ft.isContextConsumer=function(t){return Xr(t)===Q0};ft.isContextProvider=function(t){return Xr(t)===Y0};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ow};ft.isForwardRef=function(t){return Xr(t)===X0};ft.isFragment=function(t){return Xr(t)===G0};ft.isLazy=function(t){return Xr(t)===tg};ft.isMemo=function(t){return Xr(t)===eg};ft.isPortal=function(t){return Xr(t)===Mw};ft.isProfiler=function(t){return Xr(t)===q0};ft.isStrictMode=function(t){return Xr(t)===W0};ft.isSuspense=function(t){return Xr(t)===J0};ft.isSuspenseList=function(t){return Xr(t)===Z0};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===G0||t===q0||t===W0||t===J0||t===Z0||t===xW||typeof t=="object"&&t!==null&&(t.$$typeof===tg||t.$$typeof===eg||t.$$typeof===Y0||t.$$typeof===Q0||t.$$typeof===X0||t.$$typeof===w8||t.getModuleId!==void 0)};ft.typeOf=Xr;(function(t){t.exports=ft})(vW);function Ee(t){if(typeof t!="string")throw new Error(Eo(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Vx(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Nw(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function bW(t,e){return()=>null}function Ju(t,e){return E.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function xn(t){return t&&t.ownerDocument||document}function To(t){return xn(t).defaultView||window}function wW(t,e){return()=>null}function Om(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const SW=typeof window<"u"?E.useLayoutEffect:E.useEffect,hi=SW;let fR=0;function EW(t){const[e,n]=E.useState(t),r=t||e;return E.useEffect(()=>{e==null&&(fR+=1,n(`mui-${fR}`))},[e]),r}const hR=vo["useId"];function S8(t){if(hR!==void 0){const e=hR();return t??e}return EW(t)}function TW(t,e,n,r,i){return null}function $d({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=E.useRef(t!==void 0),[s,o]=E.useState(e),a=i?t:s,l=E.useCallback(c=>{i||o(c)},[]);return[a,l]}function $i(t){const e=E.useRef(t);return hi(()=>{e.current=t}),E.useCallback((...n)=>(0,e.current)(...n),[])}function Ht(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Om(n,e)})},t)}let ng=!0,Kx=!1,pR;const _W={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function CW(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&_W[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function RW(t){t.metaKey||t.altKey||t.ctrlKey||(ng=!0)}function gy(){ng=!1}function kW(){this.visibilityState==="hidden"&&Kx&&(ng=!0)}function AW(t){t.addEventListener("keydown",RW,!0),t.addEventListener("mousedown",gy,!0),t.addEventListener("pointerdown",gy,!0),t.addEventListener("touchstart",gy,!0),t.addEventListener("visibilitychange",kW,!0)}function LW(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return ng||CW(e)}function Fw(){const t=E.useCallback(i=>{i!=null&&AW(i.ownerDocument)},[]),e=E.useRef(!1);function n(){return e.current?(Kx=!0,window.clearTimeout(pR),pR=window.setTimeout(()=>{Kx=!1},100),e.current=!1,!0):!1}function r(i){return LW(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function E8(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const PW={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},IW=PW;function $w(t,e){const n=P({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=P({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=P({},s),Object.keys(i).forEach(o=>{n[r][o]=$w(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function je(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const mR=t=>t,DW=()=>{let t=mR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=mR}}},OW=DW(),Bw=OW,MW={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function $e(t,e,n="Mui"){const r=MW[e];return r?`${n}-${r}`:`${Bw.generate(t)}-${e}`}function Me(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$e(t,i,n)}),r}function fe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vi(t){return typeof t=="string"}function NW(t,e,n){return t===void 0||Vi(t)?e:P({},e,{ownerState:P({},e.ownerState,n)})}function FW(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Hx(t,e){return typeof t=="function"?t(e):t}function gR(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function $W(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=oe(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),h=P({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=P({},n,i,r);return p.length>0&&(m.className=p),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:void 0}}const o=FW(P({},i,r)),a=gR(r),l=gR(i),c=e(o),u=oe(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=P({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),f=P({},c,n,l,a);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}const BW=["elementType","externalSlotProps","ownerState"];function wi(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=fe(t,BW),o=Hx(r,i),{props:a,internalRef:l}=$W(P({},s,{externalSlotProps:o})),c=Ht(l,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return NW(n,P({},a,{ref:c}),i)}const jW=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function UW(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function zW(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function VW(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||zW(t))}function KW(t){const e=[],n=[];return Array.from(t.querySelectorAll(jW)).forEach((r,i)=>{const s=UW(r);s===-1||!VW(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function HW(){return!0}function GW(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=KW,isEnabled:o=HW,open:a}=t,l=E.useRef(!1),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),f=E.useRef(null),p=E.useRef(!1),h=E.useRef(null),m=Ht(e.ref,h),v=E.useRef(null);E.useEffect(()=>{!a||!h.current||(p.current=!n)},[n,a]),E.useEffect(()=>{if(!a||!h.current)return;const b=xn(h.current);return h.current.contains(b.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),p.current&&h.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),E.useEffect(()=>{if(!a||!h.current)return;const b=xn(h.current),S=T=>{const{current:C}=h;if(C!==null){if(!b.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!C.contains(b.activeElement)){if(T&&f.current!==T.target||b.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let I=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(I=s(h.current)),I.length>0){var k,A;const N=Boolean(((k=v.current)==null?void 0:k.shiftKey)&&((A=v.current)==null?void 0:A.key)==="Tab"),M=I[0],D=I[I.length-1];typeof M!="string"&&typeof D!="string"&&(N?D.focus():M.focus())}else C.focus()}}},w=T=>{v.current=T,!(r||!o()||T.key!=="Tab")&&b.activeElement===h.current&&T.shiftKey&&(l.current=!0,u.current&&u.current.focus())};b.addEventListener("focusin",S),b.addEventListener("keydown",w,!0);const _=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&S(null)},50);return()=>{clearInterval(_),b.removeEventListener("focusin",S),b.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const y=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0,f.current=b.target;const S=e.props.onFocus;S&&S(b)},x=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0};return L(E.Fragment,{children:[g("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:m,onFocus:y}),g("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}function WW(t){return typeof t=="function"?t():t}const qW=E.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=E.useState(null),l=Ht(E.isValidElement(r)?r.ref:null,n);if(hi(()=>{s||a(WW(i)||document.body)},[i,s]),hi(()=>{if(o&&!s)return Om(n,o),()=>{Om(n,null)}},[n,o,s]),s){if(E.isValidElement(r)){const c={ref:l};return E.cloneElement(r,c)}return g(E.Fragment,{children:r})}return g(E.Fragment,{children:o&&li.createPortal(r,o)})}),YW=qW;function QW(t){const e=xn(t);return e.body===t?To(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Zu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function vR(t){return parseInt(To(t).getComputedStyle(t).paddingRight,10)||0}function XW(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function yR(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!XW(o);a&&l&&Zu(o,i)})}function vy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function JW(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(QW(r)){const o=E8(xn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${vR(r)+o}px`;const a=xn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${vR(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=xn(r).body;else{const o=r.parentElement,a=To(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function ZW(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class eq{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Zu(e.modalRef,!1);const i=ZW(n);yR(n,e.mount,e.modalRef,i,!0);const s=vy(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=vy(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=JW(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=vy(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Zu(e.modalRef,n),yR(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Zu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function tq(t){return $e("MuiModal",t)}Me("MuiModal",["root","hidden"]);const nq=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],rq=t=>{const{open:e,exited:n,classes:r}=t;return je({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},tq,r)};function iq(t){return typeof t=="function"?t():t}function sq(t){return t?t.props.hasOwnProperty("in"):!1}const oq=new eq,aq=E.forwardRef(function(e,n){var r,i;const{children:s,classes:o,closeAfterTransition:a=!1,component:l,container:c,disableAutoFocus:u=!1,disableEnforceFocus:d=!1,disableEscapeKeyDown:f=!1,disablePortal:p=!1,disableRestoreFocus:h=!1,disableScrollLock:m=!1,hideBackdrop:v=!1,keepMounted:y=!1,manager:x=oq,onBackdropClick:b,onClose:S,onKeyDown:w,open:_,onTransitionEnter:T,onTransitionExited:C,slotProps:k={},slots:A={}}=e,I=fe(e,nq),[N,M]=E.useState(!_),D=E.useRef({}),O=E.useRef(null),$=E.useRef(null),W=Ht($,n),U=sq(s),j=(r=e["aria-hidden"])!=null?r:!0,B=()=>xn(O.current),H=()=>(D.current.modalRef=$.current,D.current.mountNode=O.current,D.current),q=()=>{x.mount(H(),{disableScrollLock:m}),$.current&&($.current.scrollTop=0)},ne=$i(()=>{const Ye=iq(c)||B().body;x.add(H(),Ye),$.current&&q()}),te=E.useCallback(()=>x.isTopModal(H()),[x]),he=$i(Ye=>{O.current=Ye,!(!Ye||!$.current)&&(_&&te()?q():Zu($.current,j))}),Z=E.useCallback(()=>{x.remove(H(),j)},[x,j]);E.useEffect(()=>()=>{Z()},[Z]),E.useEffect(()=>{_?ne():(!U||!a)&&Z()},[_,Z,U,a,ne]);const ve=P({},e,{classes:o,closeAfterTransition:a,disableAutoFocus:u,disableEnforceFocus:d,disableEscapeKeyDown:f,disablePortal:p,disableRestoreFocus:h,disableScrollLock:m,exited:N,hideBackdrop:v,keepMounted:y}),Pe=rq(ve),be=()=>{M(!1),T&&T()},ze=()=>{M(!0),C&&C(),a&&Z()},ge=Ye=>{Ye.target===Ye.currentTarget&&(b&&b(Ye),S&&S(Ye,"backdropClick"))},Ge=Ye=>{w&&w(Ye),!(Ye.key!=="Escape"||!te())&&(f||(Ye.stopPropagation(),S&&S(Ye,"escapeKeyDown")))},ot={};s.props.tabIndex===void 0&&(ot.tabIndex="-1"),U&&(ot.onEnter=Vx(be,s.props.onEnter),ot.onExited=Vx(ze,s.props.onExited));const Ve=(i=l??A.root)!=null?i:"div",Ne=wi({elementType:Ve,externalSlotProps:k.root,externalForwardedProps:I,additionalProps:{ref:W,role:"presentation",onKeyDown:Ge},className:Pe.root,ownerState:ve}),Zt=A.backdrop,wt=wi({elementType:Zt,externalSlotProps:k.backdrop,additionalProps:{"aria-hidden":!0,onClick:ge,open:_},className:Pe.backdrop,ownerState:ve});return!y&&!_&&(!U||N)?null:g(YW,{ref:he,container:c,disablePortal:p,children:L(Ve,P({},Ne,{children:[!v&&Zt?g(Zt,P({},wt)):null,g(GW,{disableEnforceFocus:d,disableAutoFocus:u,disableRestoreFocus:h,isEnabled:te,open:_,children:E.cloneElement(s,ot)})]}))})}),lq=aq,cq=2;function T8(t,e){return t-e}function gu(t,e,n){return t==null?e:Math.min(Math.max(e,t),n)}function xR(t,e){var n;const{index:r}=(n=t.reduce((i,s,o)=>{const a=Math.abs(e-s);return i===null||a<i.distance||a===i.distance?{distance:a,index:o}:i},null))!=null?n:{};return r}function kh(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function bR(t,e,n){return(t-e)*100/(n-e)}function uq(t,e,n){return(n-e)*t+e}function dq(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function fq(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(dq(e)))}function wR({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(T8)}function Ah({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const s=xn(t.current);if(!((r=t.current)!=null&&r.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}const hq={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},pq=t=>t;let Lh;function yy(){return Lh===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Lh=CSS.supports("touch-action","none"):Lh=!0),Lh}function mq(t){const{"aria-labelledby":e,defaultValue:n,disabled:r=!1,disableSwap:i=!1,isRtl:s=!1,marks:o=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",ref:p,scale:h=pq,step:m=1,tabIndex:v,value:y}=t,x=E.useRef(),[b,S]=E.useState(-1),[w,_]=E.useState(-1),[T,C]=E.useState(!1),k=E.useRef(0),[A,I]=$d({controlled:y,default:n??l,name:"Slider"}),N=u&&((K,X,ae)=>{const le=K.nativeEvent||K,pe=new le.constructor(le.type,le);Object.defineProperty(pe,"target",{writable:!0,value:{value:X,name:c}}),u(pe,X,ae)}),M=Array.isArray(A);let D=M?A.slice().sort(T8):[A];D=D.map(K=>gu(K,l,a));const O=o===!0&&m!==null?[...Array(Math.floor((a-l)/m)+1)].map((K,X)=>({value:l+m*X})):o||[],$=O.map(K=>K.value),{isFocusVisibleRef:W,onBlur:U,onFocus:j,ref:B}=Fw(),[H,q]=E.useState(-1),ne=E.useRef(),te=Ht(B,ne),he=Ht(p,te),Z=K=>X=>{var ae;const le=Number(X.currentTarget.getAttribute("data-index"));j(X),W.current===!0&&q(le),_(le),K==null||(ae=K.onFocus)==null||ae.call(K,X)},ve=K=>X=>{var ae;U(X),W.current===!1&&q(-1),_(-1),K==null||(ae=K.onBlur)==null||ae.call(K,X)};hi(()=>{if(r&&ne.current.contains(document.activeElement)){var K;(K=document.activeElement)==null||K.blur()}},[r]),r&&b!==-1&&S(-1),r&&H!==-1&&q(-1);const Pe=K=>X=>{var ae;(ae=K.onChange)==null||ae.call(K,X);const le=Number(X.currentTarget.getAttribute("data-index")),pe=D[le],Q=$.indexOf(pe);let ye=X.target.valueAsNumber;if(O&&m==null&&(ye=ye<pe?$[Q-1]:$[Q+1]),ye=gu(ye,l,a),O&&m==null){const Fe=$.indexOf(D[le]);ye=ye<D[le]?$[Fe-1]:$[Fe+1]}if(M){i&&(ye=gu(ye,D[le-1]||-1/0,D[le+1]||1/0));const Fe=ye;ye=wR({values:D,newValue:ye,index:le});let _e=le;i||(_e=ye.indexOf(Fe)),Ah({sliderRef:ne,activeIndex:_e})}I(ye),q(le),N&&N(X,ye,le),d&&d(X,ye)},be=E.useRef();let ze=f;s&&f==="horizontal"&&(ze+="-reverse");const ge=({finger:K,move:X=!1})=>{const{current:ae}=ne,{width:le,height:pe,bottom:Q,left:ye}=ae.getBoundingClientRect();let Fe;ze.indexOf("vertical")===0?Fe=(Q-K.y)/pe:Fe=(K.x-ye)/le,ze.indexOf("-reverse")!==-1&&(Fe=1-Fe);let _e;if(_e=uq(Fe,l,a),m)_e=fq(_e,m,l);else{const cr=xR($,_e);_e=$[cr]}_e=gu(_e,l,a);let Ut=0;if(M){X?Ut=be.current:Ut=xR(D,_e),i&&(_e=gu(_e,D[Ut-1]||-1/0,D[Ut+1]||1/0));const cr=_e;_e=wR({values:D,newValue:_e,index:Ut}),i&&X||(Ut=_e.indexOf(cr),be.current=Ut)}return{newValue:_e,activeIndex:Ut}},Ge=$i(K=>{const X=kh(K,x);if(!X)return;if(k.current+=1,K.type==="mousemove"&&K.buttons===0){ot(K);return}const{newValue:ae,activeIndex:le}=ge({finger:X,move:!0});Ah({sliderRef:ne,activeIndex:le,setActive:S}),I(ae),!T&&k.current>cq&&C(!0),N&&ae!==A&&N(K,ae,le)}),ot=$i(K=>{const X=kh(K,x);if(C(!1),!X)return;const{newValue:ae}=ge({finger:X,move:!0});S(-1),K.type==="touchend"&&_(-1),d&&d(K,ae),x.current=void 0,Ne()}),Ve=$i(K=>{if(r)return;yy()||K.preventDefault();const X=K.changedTouches[0];X!=null&&(x.current=X.identifier);const ae=kh(K,x);if(ae!==!1){const{newValue:pe,activeIndex:Q}=ge({finger:ae});Ah({sliderRef:ne,activeIndex:Q,setActive:S}),I(pe),N&&N(K,pe,Q)}k.current=0;const le=xn(ne.current);le.addEventListener("touchmove",Ge),le.addEventListener("touchend",ot)}),Ne=E.useCallback(()=>{const K=xn(ne.current);K.removeEventListener("mousemove",Ge),K.removeEventListener("mouseup",ot),K.removeEventListener("touchmove",Ge),K.removeEventListener("touchend",ot)},[ot,Ge]);E.useEffect(()=>{const{current:K}=ne;return K.addEventListener("touchstart",Ve,{passive:yy()}),()=>{K.removeEventListener("touchstart",Ve,{passive:yy()}),Ne()}},[Ne,Ve]),E.useEffect(()=>{r&&Ne()},[r,Ne]);const Zt=K=>X=>{var ae;if((ae=K.onMouseDown)==null||ae.call(K,X),r||X.defaultPrevented||X.button!==0)return;X.preventDefault();const le=kh(X,x);if(le!==!1){const{newValue:Q,activeIndex:ye}=ge({finger:le});Ah({sliderRef:ne,activeIndex:ye,setActive:S}),I(Q),N&&N(X,Q,ye)}k.current=0;const pe=xn(ne.current);pe.addEventListener("mousemove",Ge),pe.addEventListener("mouseup",ot)},wt=bR(M?D[0]:l,l,a),Ye=bR(D[D.length-1],l,a)-wt,en=(K={})=>{const X={onMouseDown:Zt(K||{})},ae=P({},K,X);return P({ref:he},ae)},Xe=K=>X=>{var ae;(ae=K.onMouseOver)==null||ae.call(K,X);const le=Number(X.currentTarget.getAttribute("data-index"));_(le)},gt=K=>X=>{var ae;(ae=K.onMouseLeave)==null||ae.call(K,X),_(-1)};return{active:b,axis:ze,axisProps:hq,dragging:T,focusedThumbIndex:H,getHiddenInputProps:(K={})=>{var X;const ae={onChange:Pe(K||{}),onFocus:Z(K||{}),onBlur:ve(K||{})},le=P({},K,ae);return P({tabIndex:v,"aria-labelledby":e,"aria-orientation":f,"aria-valuemax":h(a),"aria-valuemin":h(l),name:c,type:"range",min:t.min,max:t.max,step:(X=t.step)!=null?X:void 0,disabled:r},le,{style:P({},IW,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:en,getThumbProps:(K={})=>{const X={onMouseOver:Xe(K||{}),onMouseLeave:gt(K||{})};return P({},K,X)},marks:O,open:w,range:M,trackLeap:Ye,trackOffset:wt,values:D}}const gq=["onChange","maxRows","minRows","style","value"];function Ph(t,e){return parseInt(t[e],10)||0}const vq={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function SR(t){return t==null||Object.keys(t).length===0}const yq=E.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=fe(e,gq),{current:c}=E.useRef(a!=null),u=E.useRef(null),d=Ht(n,u),f=E.useRef(null),p=E.useRef(0),[h,m]=E.useState({}),v=E.useCallback(()=>{const w=u.current,T=To(w).getComputedStyle(w);if(T.width==="0px")return{};const C=f.current;C.style.width=T.width,C.value=w.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const k=T["box-sizing"],A=Ph(T,"padding-bottom")+Ph(T,"padding-top"),I=Ph(T,"border-bottom-width")+Ph(T,"border-top-width"),N=C.scrollHeight;C.value="x";const M=C.scrollHeight;let D=N;s&&(D=Math.max(Number(s)*M,D)),i&&(D=Math.min(Number(i)*M,D)),D=Math.max(D,M);const O=D+(k==="border-box"?A+I:0),$=Math.abs(D-N)<=1;return{outerHeightStyle:O,overflow:$}},[i,s,e.placeholder]),y=(w,_)=>{const{outerHeightStyle:T,overflow:C}=_;return p.current<20&&(T>0&&Math.abs((w.outerHeightStyle||0)-T)>1||w.overflow!==C)?(p.current+=1,{overflow:C,outerHeightStyle:T}):w},x=E.useCallback(()=>{const w=v();SR(w)||m(_=>y(_,w))},[v]),b=()=>{const w=v();SR(w)||li.flushSync(()=>{m(_=>y(_,w))})};E.useEffect(()=>{const w=Nw(()=>{p.current=0,u.current&&b()}),_=To(u.current);_.addEventListener("resize",w);let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(w),T.observe(u.current)),()=>{w.clear(),_.removeEventListener("resize",w),T&&T.disconnect()}}),hi(()=>{x()}),E.useEffect(()=>{p.current=0},[a]);const S=w=>{p.current=0,c||x(),r&&r(w)};return L(E.Fragment,{children:[g("textarea",P({value:a,onChange:S,ref:d,rows:s,style:P({height:h.outerHeightStyle,overflow:h.overflow?"hidden":null},o)},l)),g("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:P({},vq.shadow,o,{padding:0})})]})}),xq=yq;function _8(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var bq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wq=_8(function(t){return bq.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Sq(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Eq(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Tq=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Eq(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Sq(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",Mm="-moz-",Ze="-webkit-",C8="comm",jw="rule",Uw="decl",_q="@import",R8="@keyframes",Cq=Math.abs,rg=String.fromCharCode,Rq=Object.assign;function kq(t,e){return Cn(t,0)^45?(((e<<2^Cn(t,0))<<2^Cn(t,1))<<2^Cn(t,2))<<2^Cn(t,3):0}function k8(t){return t.trim()}function Aq(t,e){return(t=e.exec(t))?t[0]:t}function et(t,e,n){return t.replace(e,n)}function Gx(t,e){return t.indexOf(e)}function Cn(t,e){return t.charCodeAt(e)|0}function Bd(t,e,n){return t.slice(e,n)}function Ai(t){return t.length}function zw(t){return t.length}function Ih(t,e){return e.push(t),t}function Lq(t,e){return t.map(e).join("")}var ig=1,Lc=1,A8=0,sr=0,qt=0,Wc="";function sg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ig,column:Lc,length:o,return:""}}function vu(t,e){return Rq(sg("",null,null,"",null,null,0),t,{length:-t.length},e)}function Pq(){return qt}function Iq(){return qt=sr>0?Cn(Wc,--sr):0,Lc--,qt===10&&(Lc=1,ig--),qt}function br(){return qt=sr<A8?Cn(Wc,sr++):0,Lc++,qt===10&&(Lc=1,ig++),qt}function Ki(){return Cn(Wc,sr)}function Cp(){return sr}function Af(t,e){return Bd(Wc,t,e)}function jd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L8(t){return ig=Lc=1,A8=Ai(Wc=t),sr=0,[]}function P8(t){return Wc="",t}function Rp(t){return k8(Af(sr-1,Wx(t===91?t+2:t===40?t+1:t)))}function Dq(t){for(;(qt=Ki())&&qt<33;)br();return jd(t)>2||jd(qt)>3?"":" "}function Oq(t,e){for(;--e&&br()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return Af(t,Cp()+(e<6&&Ki()==32&&br()==32))}function Wx(t){for(;br();)switch(qt){case t:return sr;case 34:case 39:t!==34&&t!==39&&Wx(qt);break;case 40:t===41&&Wx(t);break;case 92:br();break}return sr}function Mq(t,e){for(;br()&&t+qt!==47+10;)if(t+qt===42+42&&Ki()===47)break;return"/*"+Af(e,sr-1)+"*"+rg(t===47?t:br())}function Nq(t){for(;!jd(Ki());)br();return Af(t,sr)}function Fq(t){return P8(kp("",null,null,null,[""],t=L8(t),0,[0],t))}function kp(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,h=0,m=1,v=1,y=1,x=0,b="",S=i,w=s,_=r,T=b;v;)switch(h=x,x=br()){case 40:if(h!=108&&Cn(T,d-1)==58){Gx(T+=et(Rp(x),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:T+=Rp(x);break;case 9:case 10:case 13:case 32:T+=Dq(h);break;case 92:T+=Oq(Cp()-1,7);continue;case 47:switch(Ki()){case 42:case 47:Ih($q(Mq(br(),Cp()),e,n),l);break;default:T+="/"}break;case 123*m:a[c++]=Ai(T)*y;case 125*m:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+u:p>0&&Ai(T)-d&&Ih(p>32?TR(T+";",r,n,d-1):TR(et(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(Ih(_=ER(T,e,n,c,u,i,a,b,S=[],w=[],d),s),x===123)if(u===0)kp(T,e,_,_,S,s,d,a,w);else switch(f===99&&Cn(T,3)===110?100:f){case 100:case 109:case 115:kp(t,_,_,r&&Ih(ER(t,_,_,0,0,i,a,b,i,S=[],d),w),i,w,d,a,r?S:w);break;default:kp(T,_,_,_,[""],w,0,a,w)}}c=u=p=0,m=y=1,b=T="",d=o;break;case 58:d=1+Ai(T),p=h;default:if(m<1){if(x==123)--m;else if(x==125&&m++==0&&Iq()==125)continue}switch(T+=rg(x),x*m){case 38:y=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Ai(T)-1)*y,y=1;break;case 64:Ki()===45&&(T+=Rp(br())),f=Ki(),u=d=Ai(b=T+=Nq(Cp())),x++;break;case 45:h===45&&Ai(T)==2&&(m=0)}}return s}function ER(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],p=zw(f),h=0,m=0,v=0;h<r;++h)for(var y=0,x=Bd(t,d+1,d=Cq(m=o[h])),b=t;y<p;++y)(b=k8(m>0?f[y]+" "+x:et(x,/&\f/g,f[y])))&&(l[v++]=b);return sg(t,e,n,i===0?jw:a,l,c,u)}function $q(t,e,n){return sg(t,e,n,C8,rg(Pq()),Bd(t,2,-2),0)}function TR(t,e,n,r){return sg(t,e,n,Uw,Bd(t,0,r),Bd(t,r+1,-1),r)}function ql(t,e){for(var n="",r=zw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Bq(t,e,n,r){switch(t.type){case _q:case Uw:return t.return=t.return||t.value;case C8:return"";case R8:return t.return=t.value+"{"+ql(t.children,r)+"}";case jw:t.value=t.props.join(",")}return Ai(n=ql(t.children,r))?t.return=t.value+"{"+n+"}":""}function jq(t){var e=zw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Uq(t){return function(e){e.root||(e=e.return)&&t(e)}}var zq=function(e,n,r){for(var i=0,s=0;i=s,s=Ki(),i===38&&s===12&&(n[r]=1),!jd(s);)br();return Af(e,sr)},Vq=function(e,n){var r=-1,i=44;do switch(jd(i)){case 0:i===38&&Ki()===12&&(n[r]=1),e[r]+=zq(sr-1,n,r);break;case 2:e[r]+=Rp(i);break;case 4:if(i===44){e[++r]=Ki()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=rg(i)}while(i=br());return e},Kq=function(e,n){return P8(Vq(L8(e),n))},_R=new WeakMap,Hq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_R.get(r))&&!i){_R.set(e,!0);for(var s=[],o=Kq(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Gq=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function I8(t,e){switch(kq(t,e)){case 5103:return Ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+t+Mm+t+Dn+t+t;case 6828:case 4268:return Ze+t+Dn+t+t;case 6165:return Ze+t+Dn+"flex-"+t+t;case 5187:return Ze+t+et(t,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return Ze+t+Dn+"flex-item-"+et(t,/flex-|-self/,"")+t;case 4675:return Ze+t+Dn+"flex-line-pack"+et(t,/align-content|flex-|-self/,"")+t;case 5548:return Ze+t+Dn+et(t,"shrink","negative")+t;case 5292:return Ze+t+Dn+et(t,"basis","preferred-size")+t;case 6060:return Ze+"box-"+et(t,"-grow","")+Ze+t+Dn+et(t,"grow","positive")+t;case 4554:return Ze+et(t,/([^-])(transform)/g,"$1"+Ze+"$2")+t;case 6187:return et(et(et(t,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),t,"")+t;case 5495:case 3959:return et(t,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return et(et(t,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+t+t;case 4095:case 3583:case 4068:case 2532:return et(t,/(.+)-inline(.+)/,Ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ai(t)-1-e>6)switch(Cn(t,e+1)){case 109:if(Cn(t,e+4)!==45)break;case 102:return et(t,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+Mm+(Cn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Gx(t,"stretch")?I8(et(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cn(t,e+1)!==115)break;case 6444:switch(Cn(t,Ai(t)-3-(~Gx(t,"!important")&&10))){case 107:return et(t,":",":"+Ze)+t;case 101:return et(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(Cn(t,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(Cn(t,e+11)){case 114:return Ze+t+Dn+et(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ze+t+Dn+et(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ze+t+Dn+et(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ze+t+Dn+t+t}return t}var Wq=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Uw:e.return=I8(e.value,e.length);break;case R8:return ql([vu(e,{value:et(e.value,"@","@"+Ze)})],i);case jw:if(e.length)return Lq(e.props,function(s){switch(Aq(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ql([vu(e,{props:[et(s,/:(read-\w+)/,":"+Mm+"$1")]})],i);case"::placeholder":return ql([vu(e,{props:[et(s,/:(plac\w+)/,":"+Ze+"input-$1")]}),vu(e,{props:[et(s,/:(plac\w+)/,":"+Mm+"$1")]}),vu(e,{props:[et(s,/:(plac\w+)/,Dn+"input-$1")]})],i)}return""})}},qq=[Wq],Yq=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||qq,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)s[v[y]]=!0;a.push(m)});var l,c=[Hq,Gq];{var u,d=[Bq,Uq(function(m){u.insert(m)})],f=jq(c.concat(i,d)),p=function(v){return ql(Fq(v),f)};l=function(v,y,x,b){u=x,p(v?v+"{"+y.styles+"}":y.styles),b&&(h.inserted[y.name]=!0)}}var h={key:n,sheet:new Tq({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return h.sheet.hydrate(a),h},qx={},Qq={get exports(){return qx},set exports(t){qx=t}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=typeof Symbol=="function"&&Symbol.for,Vw=Sn?Symbol.for("react.element"):60103,Kw=Sn?Symbol.for("react.portal"):60106,og=Sn?Symbol.for("react.fragment"):60107,ag=Sn?Symbol.for("react.strict_mode"):60108,lg=Sn?Symbol.for("react.profiler"):60114,cg=Sn?Symbol.for("react.provider"):60109,ug=Sn?Symbol.for("react.context"):60110,Hw=Sn?Symbol.for("react.async_mode"):60111,dg=Sn?Symbol.for("react.concurrent_mode"):60111,fg=Sn?Symbol.for("react.forward_ref"):60112,hg=Sn?Symbol.for("react.suspense"):60113,Xq=Sn?Symbol.for("react.suspense_list"):60120,pg=Sn?Symbol.for("react.memo"):60115,mg=Sn?Symbol.for("react.lazy"):60116,Jq=Sn?Symbol.for("react.block"):60121,Zq=Sn?Symbol.for("react.fundamental"):60117,eY=Sn?Symbol.for("react.responder"):60118,tY=Sn?Symbol.for("react.scope"):60119;function Ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vw:switch(t=t.type,t){case Hw:case dg:case og:case lg:case ag:case hg:return t;default:switch(t=t&&t.$$typeof,t){case ug:case fg:case mg:case pg:case cg:return t;default:return e}}case Kw:return e}}}function D8(t){return Ir(t)===dg}ht.AsyncMode=Hw;ht.ConcurrentMode=dg;ht.ContextConsumer=ug;ht.ContextProvider=cg;ht.Element=Vw;ht.ForwardRef=fg;ht.Fragment=og;ht.Lazy=mg;ht.Memo=pg;ht.Portal=Kw;ht.Profiler=lg;ht.StrictMode=ag;ht.Suspense=hg;ht.isAsyncMode=function(t){return D8(t)||Ir(t)===Hw};ht.isConcurrentMode=D8;ht.isContextConsumer=function(t){return Ir(t)===ug};ht.isContextProvider=function(t){return Ir(t)===cg};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vw};ht.isForwardRef=function(t){return Ir(t)===fg};ht.isFragment=function(t){return Ir(t)===og};ht.isLazy=function(t){return Ir(t)===mg};ht.isMemo=function(t){return Ir(t)===pg};ht.isPortal=function(t){return Ir(t)===Kw};ht.isProfiler=function(t){return Ir(t)===lg};ht.isStrictMode=function(t){return Ir(t)===ag};ht.isSuspense=function(t){return Ir(t)===hg};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===og||t===dg||t===lg||t===ag||t===hg||t===Xq||typeof t=="object"&&t!==null&&(t.$$typeof===mg||t.$$typeof===pg||t.$$typeof===cg||t.$$typeof===ug||t.$$typeof===fg||t.$$typeof===Zq||t.$$typeof===eY||t.$$typeof===tY||t.$$typeof===Jq)};ht.typeOf=Ir;(function(t){t.exports=ht})(Qq);var O8=qx,nY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M8={};M8[O8.ForwardRef]=nY;M8[O8.Memo]=rY;var iY=!0;function sY(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var N8=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||iY===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},F8=function(e,n,r){N8(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function oY(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aY={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lY=/[A-Z]|^ms/g,cY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$8=function(e){return e.charCodeAt(1)===45},CR=function(e){return e!=null&&typeof e!="boolean"},xy=_8(function(t){return $8(t)?t:t.replace(lY,"-$&").toLowerCase()}),RR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(cY,function(r,i,s){return Li={name:i,styles:s,next:Li},i})}return aY[e]!==1&&!$8(e)&&typeof n=="number"&&n!==0?n+"px":n};function Ud(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Li={name:n.name,styles:n.styles,next:Li},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Li={name:r.name,styles:r.styles,next:Li},r=r.next;var i=n.styles+";";return i}return uY(t,e,n)}case"function":{if(t!==void 0){var s=Li,o=n(t);return Li=s,Ud(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function uY(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ud(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":CR(o)&&(r+=xy(s)+":"+RR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)CR(o[a])&&(r+=xy(s)+":"+RR(s,o[a])+";");else{var l=Ud(t,e,o);switch(s){case"animation":case"animationName":{r+=xy(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var kR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Li,Gw=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Li=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ud(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ud(r,n,e[a]),i&&(s+=o[a]);kR.lastIndex=0;for(var l="",c;(c=kR.exec(s))!==null;)l+="-"+c[1];var u=oY(s)+l;return{name:u,styles:s,next:Li}},dY=function(e){return e()},B8=vo["useInsertionEffect"]?vo["useInsertionEffect"]:!1,fY=B8||dY,AR=B8||E.useLayoutEffect,j8=E.createContext(typeof HTMLElement<"u"?Yq({key:"css"}):null);j8.Provider;var U8=function(e){return E.forwardRef(function(n,r){var i=E.useContext(j8);return e(n,i,r)})},z8=E.createContext({}),hY=U8(function(t,e){var n=t.styles,r=Gw([n],void 0,E.useContext(z8)),i=E.useRef();return AR(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),AR(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&F8(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Yx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Gw(e)}var Lf=function(){var e=Yx.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},pY=wq,mY=function(e){return e!=="theme"},LR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?pY:mY},PR=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},gY=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return N8(n,r,i),fY(function(){return F8(n,r,i)}),null},vY=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=PR(e,n,r),l=a||LR(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var h=U8(function(m,v,y){var x=c&&m.as||i,b="",S=[],w=m;if(m.theme==null){w={};for(var _ in m)w[_]=m[_];w.theme=E.useContext(z8)}typeof m.className=="string"?b=sY(v.registered,S,m.className):m.className!=null&&(b=m.className+" ");var T=Gw(d.concat(S),v.registered,w);b+=v.key+"-"+T.name,o!==void 0&&(b+=" "+o);var C=c&&a===void 0?LR(x):l,k={};for(var A in m)c&&A==="as"||C(A)&&(k[A]=m[A]);return k.className=b,k.ref=y,E.createElement(E.Fragment,null,E.createElement(gY,{cache:v,serialized:T,isStringTag:typeof x=="string"}),E.createElement(x,k))});return h.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",h.defaultProps=e.defaultProps,h.__emotion_real=h,h.__emotion_base=i,h.__emotion_styles=d,h.__emotion_forwardProp=a,Object.defineProperty(h,"toString",{value:function(){return"."+o}}),h.withComponent=function(m,v){return t(m,P({},n,v,{shouldForwardProp:PR(h,v,!0)})).apply(void 0,d)},h}},yY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Qx=vY.bind();yY.forEach(function(t){Qx[t]=Qx(t)});const xY=Qx;function bY(t){return t==null||Object.keys(t).length===0}function wY(t){const{styles:e,defaultTheme:n={}}=t;return g(hY,{styles:typeof e=="function"?i=>e(bY(i)?n:i):e})}/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function V8(t,e){return xY(t,e)}const SY=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function ed(t,e){return e?Hr(t,e,{clone:!1}):t}const Ww={xs:0,sm:600,md:900,lg:1200,xl:1536},IR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Ww[t]}px)`};function Yr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||IR;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||IR;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Ww).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function EY(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function TY(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function _Y(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function gg({values:t,breakpoints:e,base:n}){const r=n||_Y(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function vg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Nm(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=vg(t,n)||r,e&&(i=e(i,r,t)),i}function rt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=vg(l,r)||{};return Yr(o,a,d=>{let f=Nm(c,i,d);return d===f&&typeof d=="string"&&(f=Nm(c,i,`${e}${d==="default"?"":Ee(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function yg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?ed(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function CY(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const RY={m:"margin",p:"padding"},kY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},DR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},AY=CY(t=>{if(t.length>2)if(DR[t])t=DR[t];else return[t];const[e,n]=t.split(""),r=RY[e],i=kY[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),qw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Yw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qw,...Yw];function Pf(t,e,n,r){var i;const s=(i=vg(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function K8(t){return Pf(t,"spacing",8)}function If(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function LY(t,e){return n=>t.reduce((r,i)=>(r[i]=If(e,n),r),{})}function PY(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=AY(n),s=LY(i,r),o=t[n];return Yr(t,o,s)}function H8(t,e){const n=K8(t.theme);return Object.keys(t).map(r=>PY(t,e,r,n)).reduce(ed,{})}function Nt(t){return H8(t,qw)}Nt.propTypes={};Nt.filterProps=qw;function Ft(t){return H8(t,Yw)}Ft.propTypes={};Ft.filterProps=Yw;function Di(t){return typeof t!="number"?t:`${t}px solid`}const IY=rt({prop:"border",themeKey:"borders",transform:Di}),DY=rt({prop:"borderTop",themeKey:"borders",transform:Di}),OY=rt({prop:"borderRight",themeKey:"borders",transform:Di}),MY=rt({prop:"borderBottom",themeKey:"borders",transform:Di}),NY=rt({prop:"borderLeft",themeKey:"borders",transform:Di}),FY=rt({prop:"borderColor",themeKey:"palette"}),$Y=rt({prop:"borderTopColor",themeKey:"palette"}),BY=rt({prop:"borderRightColor",themeKey:"palette"}),jY=rt({prop:"borderBottomColor",themeKey:"palette"}),UY=rt({prop:"borderLeftColor",themeKey:"palette"}),xg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Pf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:If(e,r)});return Yr(t,t.borderRadius,n)}return null};xg.propTypes={};xg.filterProps=["borderRadius"];yg(IY,DY,OY,MY,NY,FY,$Y,BY,jY,UY,xg);const bg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Pf(t.theme,"spacing",8),n=r=>({gap:If(e,r)});return Yr(t,t.gap,n)}return null};bg.propTypes={};bg.filterProps=["gap"];const wg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Pf(t.theme,"spacing",8),n=r=>({columnGap:If(e,r)});return Yr(t,t.columnGap,n)}return null};wg.propTypes={};wg.filterProps=["columnGap"];const Sg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Pf(t.theme,"spacing",8),n=r=>({rowGap:If(e,r)});return Yr(t,t.rowGap,n)}return null};Sg.propTypes={};Sg.filterProps=["rowGap"];const zY=rt({prop:"gridColumn"}),VY=rt({prop:"gridRow"}),KY=rt({prop:"gridAutoFlow"}),HY=rt({prop:"gridAutoColumns"}),GY=rt({prop:"gridAutoRows"}),WY=rt({prop:"gridTemplateColumns"}),qY=rt({prop:"gridTemplateRows"}),YY=rt({prop:"gridTemplateAreas"}),QY=rt({prop:"gridArea"});yg(bg,wg,Sg,zY,VY,KY,HY,GY,WY,qY,YY,QY);function Yl(t,e){return e==="grey"?e:t}const XY=rt({prop:"color",themeKey:"palette",transform:Yl}),JY=rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yl}),ZY=rt({prop:"backgroundColor",themeKey:"palette",transform:Yl});yg(XY,JY,ZY);function pr(t){return t<=1&&t!==0?`${t*100}%`:t}const eQ=rt({prop:"width",transform:pr}),Qw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||Ww[n]||pr(n)}};return Yr(t,t.maxWidth,e)}return null};Qw.filterProps=["maxWidth"];const tQ=rt({prop:"minWidth",transform:pr}),nQ=rt({prop:"height",transform:pr}),rQ=rt({prop:"maxHeight",transform:pr}),iQ=rt({prop:"minHeight",transform:pr});rt({prop:"size",cssProperty:"width",transform:pr});rt({prop:"size",cssProperty:"height",transform:pr});const sQ=rt({prop:"boxSizing"});yg(eQ,Qw,tQ,nQ,rQ,iQ,sQ);const oQ={border:{themeKey:"borders",transform:Di},borderTop:{themeKey:"borders",transform:Di},borderRight:{themeKey:"borders",transform:Di},borderBottom:{themeKey:"borders",transform:Di},borderLeft:{themeKey:"borders",transform:Di},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xg},color:{themeKey:"palette",transform:Yl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yl},backgroundColor:{themeKey:"palette",transform:Yl},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:Nt},mt:{style:Nt},mr:{style:Nt},mb:{style:Nt},ml:{style:Nt},mx:{style:Nt},my:{style:Nt},margin:{style:Nt},marginTop:{style:Nt},marginRight:{style:Nt},marginBottom:{style:Nt},marginLeft:{style:Nt},marginX:{style:Nt},marginY:{style:Nt},marginInline:{style:Nt},marginInlineStart:{style:Nt},marginInlineEnd:{style:Nt},marginBlock:{style:Nt},marginBlockStart:{style:Nt},marginBlockEnd:{style:Nt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:bg},rowGap:{style:Sg},columnGap:{style:wg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pr},maxWidth:{style:Qw},minWidth:{transform:pr},height:{transform:pr},maxHeight:{transform:pr},minHeight:{transform:pr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Eg=oQ;function aQ(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function lQ(t,e){return typeof t=="function"?t(e):t}function cQ(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:d}=a;if(r==null)return null;const f=vg(i,c)||{};return d?d(o):Yr(o,r,h=>{let m=Nm(f,u,h);return h===m&&typeof h=="string"&&(m=Nm(f,u,`${n}${h==="default"?"":Ee(h)}`,h)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Eg;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=EY(s.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const h=lQ(c[p],s);if(h!=null)if(typeof h=="object")if(o[p])f=ed(f,t(p,h,s,o));else{const m=Yr({theme:s},h,v=>({[p]:v}));aQ(m,h)?f[p]=e({sx:h,theme:s}):f=ed(f,m)}else f=ed(f,t(p,h,s,o))}),TY(d,f)}return Array.isArray(i)?i.map(a):a(i)}return e}const G8=cQ();G8.filterProps=["sx"];const Tg=G8,uQ=["sx"],dQ=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Eg;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Xw(t){const{sx:e}=t,n=fe(t,uQ),{systemProps:r,otherProps:i}=dQ(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return ea(a)?P({},r,a):r}:s=P({},r,e),P({},i,{sx:s})}const fQ=["values","unit","step"],hQ=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>P({},n,{[r.key]:r.val}),{})};function pQ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=fe(t,fQ),s=hQ(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const h=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(h!==-1&&typeof e[o[h]]=="number"?e[o[h]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return P({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const mQ={borderRadius:4},gQ=mQ;function vQ(t=8){if(t.mui)return t;const e=K8({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const yQ=["breakpoints","palette","spacing","shape"];function Jw(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=fe(t,yQ),a=pQ(n),l=vQ(i);let c=Hr({breakpoints:a,direction:"ltr",components:{},palette:P({mode:"light"},r),spacing:l,shape:P({},gQ,s)},o);return c=e.reduce((u,d)=>Hr(u,d),c),c.unstable_sxConfig=P({},Eg,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Tg({sx:d,theme:this})},c}const xQ=E.createContext(null),bQ=xQ;function wQ(){return E.useContext(bQ)}function SQ(t){return Object.keys(t).length===0}function EQ(t=null){const e=wQ();return!e||SQ(e)?t:e}const TQ=Jw();function Zw(t=TQ){return EQ(t)}const _Q=["className","component"];function CQ(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r}=t,i=V8("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(Tg);return E.forwardRef(function(a,l){const c=Zw(e),u=Xw(a),{className:d,component:f="div"}=u,p=fe(u,_Q);return g(i,P({as:f,ref:l,className:oe(d,r?r(n):n),theme:c},p))})}const RQ=["variant"];function OR(t){return t.length===0}function W8(t){const{variant:e}=t,n=fe(t,RQ);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=OR(r)?t[i]:Ee(t[i]):r+=`${OR(r)?i:Ee(i)}${Ee(t[i].toString())}`}),r}const kQ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],AQ=["theme"],LQ=["theme"];function yu(t){return Object.keys(t).length===0}function PQ(t){return typeof t=="string"&&t.charCodeAt(0)>96}const IQ=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,DQ=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=W8(i.props);r[s]=i.style}),r},OQ=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(d=>{o[d]!==c.props[d]&&t[d]!==c.props[d]&&(u=!1)}),u&&a.push(e[W8(c.props)])}),a};function td(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const MQ=Jw();function NQ(t={}){const{defaultTheme:e=MQ,rootShouldForwardProp:n=td,slotShouldForwardProp:r=td}=t,i=s=>{const o=yu(s.theme)?e:s.theme;return Tg(P({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{SY(s,b=>b.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d}=o,f=fe(o,kQ),p=c!==void 0?c:l&&l!=="Root"||!1,h=u||!1;let m,v=td;l==="Root"?v=n:l?v=r:PQ(s)&&(v=void 0);const y=V8(s,P({shouldForwardProp:v,label:m},f)),x=(b,...S)=>{const w=S?S.map(k=>typeof k=="function"&&k.__emotion_real!==k?A=>{let{theme:I}=A,N=fe(A,AQ);return k(P({theme:yu(I)?e:I},N))}:k):[];let _=b;a&&d&&w.push(k=>{const A=yu(k.theme)?e:k.theme,I=IQ(a,A);if(I){const N={};return Object.entries(I).forEach(([M,D])=>{N[M]=typeof D=="function"?D(P({},k,{theme:A})):D}),d(k,N)}return null}),a&&!p&&w.push(k=>{const A=yu(k.theme)?e:k.theme;return OQ(k,DQ(a,A),A,a)}),h||w.push(i);const T=w.length-S.length;if(Array.isArray(b)&&T>0){const k=new Array(T).fill("");_=[...b,...k],_.raw=[...b.raw,...k]}else typeof b=="function"&&b.__emotion_real!==b&&(_=k=>{let{theme:A}=k,I=fe(k,LQ);return b(P({theme:yu(A)?e:A},I))});return y(_,...w)};return y.withConfig&&(x.withConfig=y.withConfig),x}}function FQ(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:$w(e.components[n].defaultProps,r)}function $Q({props:t,name:e,defaultTheme:n}){const r=Zw(n);return FQ({theme:r,name:e,props:t})}function eS(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function BQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ba(t){if(t.type)return t;if(t.charAt(0)==="#")return Ba(BQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Eo(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Eo(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function _g(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function jQ(t){t=Ba(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),_g({type:a,values:l})}function MR(t){t=Ba(t);let e=t.type==="hsl"||t.type==="hsla"?Ba(jQ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function UQ(t,e){const n=MR(t),r=MR(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Dt(t,e){return t=Ba(t),e=eS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,_g(t)}function q8(t,e){if(t=Ba(t),e=eS(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return _g(t)}function Y8(t,e){if(t=Ba(t),e=eS(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return _g(t)}function zQ(t,e){return P({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const VQ={black:"#000",white:"#fff"},zd=VQ,KQ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},HQ=KQ,GQ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},cl=GQ,WQ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ul=WQ,qQ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},xu=qQ,YQ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},dl=YQ,QQ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},fl=QQ,XQ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},hl=XQ,JQ=["mode","contrastThreshold","tonalOffset"],NR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zd.white,default:zd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},by={text:{primary:zd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function FR(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Y8(t.main,i):e==="dark"&&(t.dark=q8(t.main,s)))}function ZQ(t="light"){return t==="dark"?{main:dl[200],light:dl[50],dark:dl[400]}:{main:dl[700],light:dl[400],dark:dl[800]}}function eX(t="light"){return t==="dark"?{main:cl[200],light:cl[50],dark:cl[400]}:{main:cl[500],light:cl[300],dark:cl[700]}}function tX(t="light"){return t==="dark"?{main:ul[500],light:ul[300],dark:ul[700]}:{main:ul[700],light:ul[400],dark:ul[800]}}function nX(t="light"){return t==="dark"?{main:fl[400],light:fl[300],dark:fl[700]}:{main:fl[700],light:fl[500],dark:fl[900]}}function rX(t="light"){return t==="dark"?{main:hl[400],light:hl[300],dark:hl[700]}:{main:hl[800],light:hl[500],dark:hl[900]}}function iX(t="light"){return t==="dark"?{main:xu[400],light:xu[300],dark:xu[700]}:{main:"#ed6c02",light:xu[500],dark:xu[900]}}function sX(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=fe(t,JQ),s=t.primary||ZQ(e),o=t.secondary||eX(e),a=t.error||tX(e),l=t.info||nX(e),c=t.success||rX(e),u=t.warning||iX(e);function d(m){return UQ(m,by.text.primary)>=n?by.text.primary:NR.text.primary}const f=({color:m,name:v,mainShade:y=500,lightShade:x=300,darkShade:b=700})=>{if(m=P({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Eo(11,v?` (${v})`:"",y));if(typeof m.main!="string")throw new Error(Eo(12,v?` (${v})`:"",JSON.stringify(m.main)));return FR(m,"light",x,r),FR(m,"dark",b,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:by,light:NR};return Hr(P({common:P({},zd),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:HQ,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const oX=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function aX(t){return Math.round(t*1e5)/1e5}const $R={textTransform:"uppercase"},BR='"Roboto", "Helvetica", "Arial", sans-serif';function lX(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=BR,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=fe(n,oX),p=i/14,h=d||(y=>`${y/c*p}rem`),m=(y,x,b,S,w)=>P({fontFamily:r,fontWeight:y,fontSize:h(x),lineHeight:b},r===BR?{letterSpacing:`${aX(S/x)}em`}:{},w,u),v={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,$R),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,$R)};return Hr(P({htmlFontSize:c,pxToRem:h,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},v),f,{clone:!1})}const cX=.2,uX=.14,dX=.12;function _t(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${cX})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${uX})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${dX})`].join(",")}const fX=["none",_t(0,2,1,-1,0,1,1,0,0,1,3,0),_t(0,3,1,-2,0,2,2,0,0,1,5,0),_t(0,3,3,-2,0,3,4,0,0,1,8,0),_t(0,2,4,-1,0,4,5,0,0,1,10,0),_t(0,3,5,-1,0,5,8,0,0,1,14,0),_t(0,3,5,-1,0,6,10,0,0,1,18,0),_t(0,4,5,-2,0,7,10,1,0,2,16,1),_t(0,5,5,-3,0,8,10,1,0,3,14,2),_t(0,5,6,-3,0,9,12,1,0,3,16,2),_t(0,6,6,-3,0,10,14,1,0,4,18,3),_t(0,6,7,-4,0,11,15,1,0,4,20,3),_t(0,7,8,-4,0,12,17,2,0,5,22,4),_t(0,7,8,-4,0,13,19,2,0,5,24,4),_t(0,7,9,-4,0,14,21,2,0,5,26,4),_t(0,8,9,-5,0,15,22,2,0,6,28,5),_t(0,8,10,-5,0,16,24,2,0,6,30,5),_t(0,8,11,-5,0,17,26,2,0,6,32,5),_t(0,9,11,-5,0,18,28,2,0,7,34,6),_t(0,9,12,-6,0,19,29,2,0,7,36,6),_t(0,10,13,-6,0,20,31,3,0,8,38,7),_t(0,10,13,-6,0,21,33,3,0,8,40,7),_t(0,10,14,-6,0,22,35,3,0,8,42,7),_t(0,11,14,-7,0,23,36,3,0,9,44,8),_t(0,11,15,-7,0,24,38,3,0,9,46,8)],hX=fX,pX=["duration","easing","delay"],mX={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Q8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function jR(t){return`${Math.round(t)}ms`}function gX(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function vX(t){const e=P({},mX,t.easing),n=P({},Q8,t.duration);return P({getAutoHeightDuration:gX,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return fe(s,pX),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:jR(o)} ${a} ${typeof l=="string"?l:jR(l)}`).join(",")}},t,{easing:e,duration:n})}const yX={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xX=yX,bX=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function X8(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=fe(t,bX);if(t.vars)throw new Error(Eo(18));const a=sX(r),l=Jw(t);let c=Hr(l,{mixins:zQ(l.breakpoints,n),palette:a,shadows:hX.slice(),typography:lX(a,s),transitions:vX(i),zIndex:P({},xX)});return c=Hr(c,o),c=e.reduce((u,d)=>Hr(u,d),c),c.unstable_sxConfig=P({},Eg,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(d){return Tg({sx:d,theme:this})},c}const wX=X8(),Cg=wX;function Ue({props:t,name:e}){return $Q({props:t,name:e,defaultTheme:Cg})}const pi=t=>td(t)&&t!=="classes",tS=td,SX=NQ({defaultTheme:Cg,rootShouldForwardProp:pi}),re=SX;function EX(t){return $e("MuiSvgIcon",t)}Me("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const TX=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],_X=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ee(e)}`,`fontSize${Ee(n)}`]};return je(i,EX,r)},CX=re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ee(n.color)}`],e[`fontSize${Ee(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,f,p,h,m,v,y,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=t.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(p=(t.vars||t).palette)==null||(h=p[e.color])==null?void 0:h.main)!=null?f:{action:(m=(t.vars||t).palette)==null||(v=m.action)==null?void 0:v.active,disabled:(y=(t.vars||t).palette)==null||(x=y.action)==null?void 0:x.disabled,inherit:void 0}[e.color]}}),J8=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=fe(r,TX),h=P({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f}),m={};u||(m.viewBox=f);const v=_X(h);return L(CX,P({as:a,className:oe(v.root,s),focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,p,{ownerState:h,children:[i,d?g("title",{children:d}):null]}))});J8.muiName="SvgIcon";const UR=J8;function Df(t,e){function n(r,i){return g(UR,P({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=UR.muiName,E.memo(E.forwardRef(n))}const RX={configure:t=>{Bw.configure(t)}},kX=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ee,createChainedFunction:Vx,createSvgIcon:Df,debounce:Nw,deprecatedPropType:bW,isMuiElement:Ju,ownerDocument:xn,ownerWindow:To,requirePropFactory:wW,setRef:Om,unstable_ClassNameGenerator:RX,unstable_useEnhancedEffect:hi,unstable_useId:S8,unsupportedProp:TW,useControlled:$d,useEventCallback:$i,useForkRef:Ht,useIsFocusVisible:Fw},Symbol.toStringTag,{value:"Module"})),AX=FA(kX);var zR;function it(){return zR||(zR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=AX}(my)),my}const st=FA(jD);var LX=Qe;Object.defineProperty(Dw,"__esModule",{value:!0});var Z8=Dw.default=void 0,PX=LX(it()),IX=st,DX=(0,PX.default)((0,IX.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Z8=Dw.default=DX;const OX=({progress:t,percentage:e,HandleCancell:n})=>{const[r,i]=E.useState(!1),s={strokeDashoffset:`${t}`};return L("div",{className:"round-progress-bar rounded-full relative flex items-center justify-center",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:n,children:[L("div",{className:"w-8 h-7 text-center",children:[r&&g(Z8,{className:"text-slate-100",sx:{fontSize:20}}),!r&&L("div",{className:"text-xs text-slate-50 pt-[6px]",children:[e,"%"]})]}),L("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"absolute h-16 w-16 rotate-[280deg] text-slate-200",children:[g("defs",{children:L("linearGradient",{id:"GradientColor",children:[g("stop",{offset:"0%",stopColor:"#e91e63"}),g("stop",{offset:"100%",stopColor:"#673ab7"})]})}),g("circle",{style:s,cx:"32",cy:"32",r:"20",strokeLinecap:"round"})]})]})},MX=()=>g("div",{children:g("svg",{version:"1.1",viewBox:"0 0 700 700",xmlns:"http://www.w3.org/2000/svg",className:"w-9 h-6 fill-darkTextColor",children:L("g",{children:[g("path",{d:"m350 23.332c-6.1875 0-12.125 2.4609-16.5 6.8359s-6.832 10.309-6.832 16.5v322l-147.93-129.5c-6.3047-5.0781-14.789-6.5273-22.422-3.8281-7.6289 2.7031-13.316 9.1641-15.023 17.074-1.707 7.9141 0.80469 16.145 6.6445 21.754l155.4 136.5c12.918 11.273 29.523 17.418 46.668 17.266 17.145 0.15234 33.75-5.9922 46.668-17.266l156.1-136.5h-0.003906c4.957-3.9922 8.0703-9.8398 8.6133-16.18 0.54297-6.3398-1.5273-12.629-5.7305-17.406-4.207-4.7812-10.18-7.6328-16.539-7.8984-6.3594-0.26953-12.551 2.0742-17.145 6.4844l-148.63 129.5v-322c0-6.1914-2.457-12.125-6.832-16.5s-10.312-6.8359-16.5-6.8359z"}),g("path",{d:"m583.33 513.33c0-6.1875-2.457-12.121-6.832-16.496-4.375-4.3789-10.312-6.8359-16.5-6.8359h-420c-8.3359 0-16.039 4.4492-20.207 11.668s-4.168 16.113 0 23.332 11.871 11.668 20.207 11.668h420c6.1875 0 12.125-2.4609 16.5-6.8359s6.832-10.309 6.832-16.5z"})]})})}),NX=({HandleClick:t})=>g("div",{onClick:t,className:"h-fit btnss hover:opacity-40 duration-200 ease-linear transition-opacity",children:g(MX,{})}),VR=({songId:t})=>{const[e,n]=E.useState(!1),[r,i]=E.useState(0),[s,o]=E.useState({songLink:null,songName:null,artistName:null,image:null}),{data:a,isLoading:l,isError:c}=bt({queryKey:["singleSong",t],queryFn:()=>De.SingleSong(t)}),[u,d]=E.useState(132);return E.useEffect(()=>{a&&o({songLink:v8(a),songName:(a==null?void 0:a.name)||"song",artistName:(a==null?void 0:a.primaryArtists)||"",...a})},[t,a]),g("div",{className:" w-full flex downloadBtns justify-end cursor-pointer h-10 items-center mt-2",children:e?g("div",{children:g(OX,{progress:u,percentage:r,HandleCancell:()=>{console.log("download cancel pressed")}})}):g(NX,{HandleClick:()=>{n(!0),Qn({url:s==null?void 0:s.songLink,method:"GET",responseType:"blob",onDownloadProgress:h=>{const m=Math.floor(h.loaded/h.total*100);i(m);const v=132-m/100*132;d(v)}}).then(h=>{var m,v,y;Qn({url:((m=s==null?void 0:s.image[1])==null?void 0:m.url)||((v=s==null?void 0:s.image[0])==null?void 0:v.url)||((y=s==null?void 0:s.image[2])==null?void 0:y.url),method:"GET",responseType:"blob"}).then(x=>{uW({link:h.data,name:s==null?void 0:s.name,artists:s==null?void 0:s.artists,duration:s==null?void 0:s.duration,id:s==null?void 0:s.id,image:x.data})}),n(!1),i(0),d(132)}).catch(h=>{console.error(h),n(!1),i(0),d(132)})}})})},FX=Df([g("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),g("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDownSharp"),$X=Df(g("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"}),"ModeComment"),BX=Df(g("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),jX="Left",UX="Right",zX="Up",VX="Down",$l={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Xx={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},KR="mousemove",HR="mouseup",KX="touchend",HX="touchmove",GX="touchstart";function WX(t,e,n,r){return t>e?n>0?UX:jX:r>0?VX:zX}function GR(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function qX(t,e){const n=u=>{const d="touches"in u;d&&u.touches.length>1||t((f,p)=>{p.trackMouse&&!d&&(document.addEventListener(KR,r),document.addEventListener(HR,o));const{clientX:h,clientY:m}=d?u.touches[0]:u,v=GR([h,m],p.rotationAngle);return p.onTouchStartOrOnMouseDown&&p.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},f),Xx),{initial:v.slice(),xy:v,start:u.timeStamp||0})})},r=u=>{t((d,f)=>{const p="touches"in u;if(p&&u.touches.length>1)return d;if(u.timeStamp-d.start>f.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:h,clientY:m}=p?u.touches[0]:u,[v,y]=GR([h,m],f.rotationAngle),x=v-d.xy[0],b=y-d.xy[1],S=Math.abs(x),w=Math.abs(b),_=(u.timeStamp||0)-d.start,T=Math.sqrt(S*S+w*w)/(_||1),C=[x/(_||1),b/(_||1)],k=WX(S,w,x,b),A=typeof f.delta=="number"?f.delta:f.delta[k.toLowerCase()]||$l.delta;if(S<A&&w<A&&!d.swiping)return d;const I={absX:S,absY:w,deltaX:x,deltaY:b,dir:k,event:u,first:d.first,initial:d.initial,velocity:T,vxvy:C};I.first&&f.onSwipeStart&&f.onSwipeStart(I),f.onSwiping&&f.onSwiping(I);let N=!1;return(f.onSwiping||f.onSwiped||f[`onSwiped${k}`])&&(N=!0),N&&f.preventScrollOnSwipe&&f.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:I,swiping:!0})})},i=u=>{t((d,f)=>{let p;if(d.swiping&&d.eventData){if(u.timeStamp-d.start<f.swipeDuration){p=Object.assign(Object.assign({},d.eventData),{event:u}),f.onSwiped&&f.onSwiped(p);const h=f[`onSwiped${p.dir}`];h&&h(p)}}else f.onTap&&f.onTap({event:u});return f.onTouchEndOrOnMouseUp&&f.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},d),Xx),{eventData:p})})},s=()=>{document.removeEventListener(KR,r),document.removeEventListener(HR,o)},o=u=>{s(),i(u)},a=(u,d)=>{let f=()=>{};if(u&&u.addEventListener){const p=Object.assign(Object.assign({},$l.touchEventOptions),d.touchEventOptions),h=[[GX,n,p],[HX,r,Object.assign(Object.assign({},p),d.preventScrollOnSwipe?{passive:!1}:{})],[KX,i,p]];h.forEach(([m,v,y])=>u.addEventListener(m,v,y)),f=()=>h.forEach(([m,v])=>u.removeEventListener(m,v))}return f},c={ref:u=>{u!==null&&t((d,f)=>{if(d.el===u)return d;const p={};return d.el&&d.el!==u&&d.cleanUpTouch&&(d.cleanUpTouch(),p.cleanUpTouch=void 0),f.trackTouch&&u&&(p.cleanUpTouch=a(u,f)),Object.assign(Object.assign(Object.assign({},d),{el:u}),p)})}};return e.trackMouse&&(c.onMouseDown=n),[c,a]}function YX(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function eI(t){const{trackMouse:e}=t,n=E.useRef(Object.assign({},Xx)),r=E.useRef(Object.assign({},$l)),i=E.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},$l),t);let s;for(s in $l)r.current[s]===void 0&&(r.current[s]=$l[s]);const[o,a]=E.useMemo(()=>qX(l=>n.current=l(n.current,r.current),{trackMouse:e}),[e]);return n.current=YX(n.current,r.current,i.current,a),o}function En(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var QX=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),WR=QX,wy=()=>Math.random().toString(36).substring(7).split("").join("."),XX={INIT:`@@redux/INIT${wy()}`,REPLACE:`@@redux/REPLACE${wy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wy()}`},Fm=XX;function nS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tI(t,e,n){if(typeof t!="function")throw new Error(En(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(En(1));return n(tI)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((v,y)=>{o.set(y,v)}))}function u(){if(l)throw new Error(En(3));return i}function d(v){if(typeof v!="function")throw new Error(En(4));if(l)throw new Error(En(5));let y=!0;c();const x=a++;return o.set(x,v),function(){if(y){if(l)throw new Error(En(6));y=!1,c(),o.delete(x),s=null}}}function f(v){if(!nS(v))throw new Error(En(7));if(typeof v.type>"u")throw new Error(En(8));if(typeof v.type!="string")throw new Error(En(17));if(l)throw new Error(En(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(x=>{x()}),v}function p(v){if(typeof v!="function")throw new Error(En(10));r=v,f({type:Fm.REPLACE})}function h(){const v=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(En(11));function x(){const S=y;S.next&&S.next(u())}return x(),{unsubscribe:v(x)}},[WR](){return this}}}return f({type:Fm.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[WR]:h}}function JX(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fm.INIT})>"u")throw new Error(En(12));if(typeof n(void 0,{type:Fm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function ZX(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{JX(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=o[d],h=f(p,a);if(typeof h>"u")throw a&&a.type,new Error(En(14));c[d]=h,l=l||h!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function $m(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function eJ(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(En(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=$m(...a)(i.dispatch),{...i,dispatch:s}}}function tJ(t){return nS(t)&&"type"in t&&typeof t.type=="string"}var nJ=Object.defineProperty,qR=Object.getOwnPropertySymbols,rJ=Object.prototype.hasOwnProperty,iJ=Object.prototype.propertyIsEnumerable,YR=(t,e,n)=>e in t?nJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sJ=(t,e)=>{for(var n in e||(e={}))rJ.call(e,n)&&YR(t,n,e[n]);if(qR)for(var n of qR(e))iJ.call(e,n)&&YR(t,n,e[n]);return t},nI=Symbol.for("immer-nothing"),QR=Symbol.for("immer-draftable"),Tr=Symbol.for("immer-state");function ai(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Pc=Object.getPrototypeOf;function _o(t){return!!t&&!!t[Tr]}function ws(t){var e;return t?rI(t)||Array.isArray(t)||!!t[QR]||!!((e=t.constructor)!=null&&e[QR])||kg(t)||Ag(t):!1}var oJ=Object.prototype.constructor.toString();function rI(t){if(!t||typeof t!="object")return!1;const e=Pc(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===oJ}function Bm(t,e){Rg(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Rg(t){const e=t[Tr];return e?e.type_:Array.isArray(t)?1:kg(t)?2:Ag(t)?3:0}function Jx(t,e){return Rg(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function iI(t,e,n){const r=Rg(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function aJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function kg(t){return t instanceof Map}function Ag(t){return t instanceof Set}function Qo(t){return t.copy_||t.base_}function Zx(t,e){if(kg(t))return new Map(t);if(Ag(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&rI(t))return Pc(t)?sJ({},t):Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Tr];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Pc(t),n)}function rS(t,e=!1){return Lg(t)||_o(t)||!ws(t)||(Rg(t)>1&&(t.set=t.add=t.clear=t.delete=lJ),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>rS(r,!0))),t}function lJ(){ai(2)}function Lg(t){return Object.isFrozen(t)}var cJ={};function ja(t){const e=cJ[t];return e||ai(0,t),e}var Vd;function sI(){return Vd}function uJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XR(t,e){e&&(ja("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function eb(t){tb(t),t.drafts_.forEach(dJ),t.drafts_=null}function tb(t){t===Vd&&(Vd=t.parent_)}function JR(t){return Vd=uJ(Vd,t)}function dJ(t){const e=t[Tr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Tr].modified_&&(eb(e),ai(4)),ws(t)&&(t=jm(e,t),e.parent_||Um(e,t)),e.patches_&&ja("Patches").generateReplacementPatches_(n[Tr].base_,t,e.patches_,e.inversePatches_)):t=jm(e,n,[]),eb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nI?t:void 0}function jm(t,e,n){if(Lg(e))return e;const r=e[Tr];if(!r)return Bm(e,(i,s)=>ek(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Um(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Bm(s,(a,l)=>ek(t,r,i,a,l,n,o)),Um(t,i,!1),n&&t.patches_&&ja("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function ek(t,e,n,r,i,s,o){if(_o(i)){const a=s&&e&&e.type_!==3&&!Jx(e.assigned_,r)?s.concat(r):void 0,l=jm(t,i,a);if(iI(n,r,l),_o(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ws(i)&&!Lg(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;jm(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Um(t,i)}}function Um(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rS(e,n)}function fJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:sI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=iS;n&&(i=[r],s=Kd);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var iS={get(t,e){if(e===Tr)return t;const n=Qo(t);if(!Jx(n,e))return hJ(t,n,e);const r=n[e];return t.finalized_||!ws(r)?r:r===Sy(t.base_,e)?(Ey(t),t.copy_[e]=rb(r,t)):r},has(t,e){return e in Qo(t)},ownKeys(t){return Reflect.ownKeys(Qo(t))},set(t,e,n){const r=oI(Qo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Sy(Qo(t),e),s=i==null?void 0:i[Tr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(aJ(n,i)&&(n!==void 0||Jx(t.base_,e)))return!0;Ey(t),nb(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Sy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ey(t),nb(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ai(11)},getPrototypeOf(t){return Pc(t.base_)},setPrototypeOf(){ai(12)}},Kd={};Bm(iS,(t,e)=>{Kd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kd.deleteProperty=function(t,e){return Kd.set.call(this,t,e,void 0)};Kd.set=function(t,e,n){return iS.set.call(this,t[0],e,n,t[0])};function Sy(t,e){const n=t[Tr];return(n?Qo(n):t)[e]}function hJ(t,e,n){var r;const i=oI(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function oI(t,e){if(!(e in t))return;let n=Pc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Pc(n)}}function nb(t){t.modified_||(t.modified_=!0,t.parent_&&nb(t.parent_))}function Ey(t){t.copy_||(t.copy_=Zx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ai(6),r!==void 0&&typeof r!="function"&&ai(7);let i;if(ws(e)){const s=JR(this),o=rb(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?eb(s):tb(s)}return XR(s,r),ZR(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===nI&&(i=void 0),this.autoFreeze_&&rS(i,!0),r){const s=[],o=[];ja("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else ai(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ws(t)||ai(8),_o(t)&&(t=aI(t));const e=JR(this),n=rb(t,void 0);return n[Tr].isManual_=!0,tb(e),n}finishDraft(t,e){const n=t&&t[Tr];(!n||!n.isManual_)&&ai(9);const{scope_:r}=n;return XR(r,e),ZR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=ja("Patches").applyPatches_;return _o(t)?r(t,e):this.produce(t,i=>r(i,e))}};function rb(t,e){const n=kg(t)?ja("MapSet").proxyMap_(t,e):Ag(t)?ja("MapSet").proxySet_(t,e):fJ(t,e);return(e?e.scope_:sI()).drafts_.push(n),n}function aI(t){return _o(t)||ai(10,t),lI(t)}function lI(t){if(!ws(t)||Lg(t))return t;const e=t[Tr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Zx(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Zx(t,!0);return Bm(n,(r,i)=>{iI(n,r,lI(i))}),e&&(e.finalized_=!1),n}var _r=new pJ,cI=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseStrictShallowCopy.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);var mJ=Object.defineProperty,tk=Object.getOwnPropertySymbols,gJ=Object.prototype.hasOwnProperty,vJ=Object.prototype.propertyIsEnumerable,nk=(t,e,n)=>e in t?mJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rk=(t,e)=>{for(var n in e||(e={}))gJ.call(e,n)&&nk(t,n,e[n]);if(tk)for(var n of tk(e))vJ.call(e,n)&&nk(t,n,e[n]);return t};function yJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function bJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var ik=t=>Array.isArray(t)?t:[t];function wJ(t){const e=Array.isArray(t[0])?t[0]:t;return bJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function SJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var EJ=class{constructor(t){this.value=t}deref(){return this.value}},TJ=typeof WeakRef<"u"?WeakRef:EJ,_J=0,sk=1;function Dh(){return{s:_J,v:void 0,o:null,p:null}}function sS(t,e={}){let n=Dh();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var a,l;let c=n;const{length:u}=arguments;for(let p=0,h=u;p<h;p++){const m=arguments[p];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=c.o;v===null&&(c.o=v=new WeakMap);const y=v.get(m);y===void 0?(c=Dh(),v.set(m,c)):c=y}else{let v=c.p;v===null&&(c.p=v=new Map);const y=v.get(m);y===void 0?(c=Dh(),v.set(m,c)):c=y}}const d=c;let f;if(c.s===sk?f=c.v:(f=t.apply(null,arguments),s++),d.s=sk,r){const p=(l=(a=i==null?void 0:i.deref)==null?void 0:a.call(i))!=null?l:i;p!=null&&r(p,f)&&(f=p,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new TJ(f):f}return d.v=f,f}return o.clearCache=()=>{n=Dh(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function uI(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),yJ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u=rk(rk({},n),l),{memoize:d,memoizeOptions:f=[],argsMemoize:p=sS,argsMemoizeOptions:h=[],devModeChecks:m={}}=u,v=ik(f),y=ik(h),x=wJ(i),b=d(function(){return s++,c.apply(null,arguments)},...v),S=p(function(){o++;const _=SJ(x,arguments);return a=b.apply(null,_),a},...y);return Object.assign(S,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var CJ=uI(sS),RJ=Object.assign((t,e=CJ)=>{xJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>RJ});function dI(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var kJ=dI(),AJ=dI,LJ=(...t)=>{const e=uI(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(_o(o)?aI(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};LJ(sS);var PJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$m:$m.apply(null,arguments)};function Ic(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(rr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>tJ(r)&&r.type===t,n}var fI=class Iu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Iu.prototype)}static get[Symbol.species](){return Iu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Iu(...e[0].concat(this)):new Iu(...e.concat(this))}};function ok(t){return ws(t)?cI(t,()=>{}):t}function ak(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(rr(10));const r=n.insert(e,t);return t.set(e,r),r}function IJ(t){return typeof t=="boolean"}var DJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new fI;return n&&(IJ(n)?o.push(kJ):o.push(AJ(n.extraArgument))),o},OJ="RTK_autoBatch",hI=t=>e=>{setTimeout(e,t)},MJ=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hI(10),NJ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?MJ:t.type==="callback"?t.queueNotification:hI(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),f=r.subscribe(d);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[OJ]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},FJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new fI(t);return r&&i.push(NJ(typeof r=="object"?r:void 0)),i},$J=!0;function BJ(t){const e=DJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(nS(n))a=ZX(n);else throw new Error(rr(1));let l;typeof r=="function"?l=r(e):l=e();let c=$m;i&&(c=PJ({trace:!$J,...typeof i=="object"&&i}));const u=eJ(...l),d=FJ(u);let f=typeof o=="function"?o(d):d();const p=c(...f);return tI(a,s,p)}function pI(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(rr(28));if(a in e)throw new Error(rr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function jJ(t){return typeof t=="function"}function UJ(t,e){let[n,r,i]=pI(e),s;if(jJ(t))s=()=>ok(t());else{const a=ok(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(_o(u)){const p=d(u,l);return p===void 0?u:p}else{if(ws(u))return cI(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw new Error(rr(9))}return f}}return u},a)}return o.getInitialState=s,o}var zJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",VJ=(t=21)=>{let e="",n=t;for(;n--;)e+=zJ[Math.random()*64|0];return e},KJ=Symbol.for("rtk-slice-createasyncthunk");function HJ(t,e){return`${t}/${e}`}function GJ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[KJ];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(rr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(qJ()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(b,S){const w=typeof b=="string"?b:b.type;if(!w)throw new Error(rr(12));if(w in c.sliceCaseReducersByType)throw new Error(rr(13));return c.sliceCaseReducersByType[w]=S,u},addMatcher(b,S){return c.sliceMatchers.push({matcher:b,reducer:S}),u},exposeAction(b,S){return c.actionCreators[b]=S,u},exposeCaseReducer(b,S){return c.sliceCaseReducersByName[b]=S,u}};l.forEach(b=>{const S=a[b],w={reducerName:b,type:HJ(s,b),createNotation:typeof i.reducers=="function"};QJ(S)?JJ(w,S,u,e):YJ(w,S,u)});function d(){const[b={},S=[],w=void 0]=typeof i.extraReducers=="function"?pI(i.extraReducers):[i.extraReducers],_={...b,...c.sliceCaseReducersByType};return UJ(i.initialState,T=>{for(let C in _)T.addCase(C,_[C]);for(let C of c.sliceMatchers)T.addMatcher(C.matcher,C.reducer);for(let C of S)T.addMatcher(C.matcher,C.reducer);w&&T.addDefaultCase(w)})}const f=b=>b,p=new Map;let h;function m(b,S){return h||(h=d()),h(b,S)}function v(){return h||(h=d()),h.getInitialState()}function y(b,S=!1){function w(T){let C=T[b];return typeof C>"u"&&S&&(C=v()),C}function _(T=f){const C=ak(p,S,{insert:()=>new WeakMap});return ak(C,T,{insert:()=>{const k={};for(const[A,I]of Object.entries(i.selectors??{}))k[A]=WJ(I,T,v,S);return k}})}return{reducerPath:b,getSelectors:_,get selectors(){return _(w)},selectSlice:w}}const x={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...y(o),injectInto(b,{reducerPath:S,...w}={}){const _=S??o;return b.inject({reducerPath:_,reducer:m},w),{...x,...y(_,!0)}}};return x}}function WJ(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var mI=GJ();function qJ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function YJ({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!XJ(r))throw new Error(rr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Ic(t,o):Ic(t))}function QJ(t){return t._reducerDefinitionType==="asyncThunk"}function XJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function JJ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(rr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Oh,pending:a||Oh,rejected:l||Oh,settled:c||Oh})}function Oh(){}var ZJ=(t,e)=>{if(typeof t!="function")throw new Error(rr(32))},oS="listenerMiddleware",eZ=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ic(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(rr(21));return ZJ(s),{predicate:i,type:e,effect:s}},tZ=Object.assign(t=>{const{type:e,predicate:n,effect:r}=eZ(t);return{id:VJ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(rr(22))}}},{withTypes:()=>tZ}),nZ=Object.assign(Ic(`${oS}/add`),{withTypes:()=>nZ});Ic(`${oS}/removeAll`);var rZ=Object.assign(Ic(`${oS}/remove`),{withTypes:()=>rZ});function rr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const iZ={showRightSidebar:!1,SideNavbar:!1,SearchTerm:"",playingSongId:null,playing:!1,repeat:!1,upcomingSongs:[],playlistList:!0},gI=mI({name:"playerslice",initialState:iZ,reducers:{SetSearchTerm(t,e){t.SearchTerm=e.payload},ClearSearchTerm(t){t.SearchTerm=""},ToggleRightSidebar:t=>{t.showRightSidebar=!t.showRightSidebar},ToggleSideNavSidebar:t=>{t.SideNavbar=!t.SideNavbar},LoadAllChats:(t,e)=>{t.AllChats=e.payload},LoadAllMessages:(t,e)=>{t.Messages=e.payload},AddNewMessage:(t,e)=>{let n=t.Messages.filter(r=>r.tempId!==e.payload.tempId);t.Messages=[...n,e.payload]},PlaySong:(t,e)=>{var n;t.playingSongId=e.payload.id,t.upcomingSongs=(n=e.payload)==null?void 0:n.upcomingSongs,t.playing=!0},PlayNextSong:(t,e)=>{t.playingSongId=e.payload.id,t.playing=!0},RepeatSong:t=>{t.repeat=!t.repeat},IsPlaylistList:(t,e)=>{t.playlistList=e.payload.playlistList}}}),{SetSearchTerm:sZ,ClearSearchTerm:$de,PlaySong:oZ,PlayNextSong:ib,ToggleRightSidebar:aS,ToggleSideNavSidebar:vI,RepeatSong:aZ,IsPlaylistList:Bde}=gI.actions,lZ=gI.reducer;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sb=function(t,e){return sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},sb(t,e)};function cZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Le=function(){return Le=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Le.apply(this,arguments)};function lk(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Rn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bn=Object.keys,an=Array.isArray;typeof Promise<"u"&&!Rn.Promise&&(Rn.Promise=Promise);function Cr(t,e){return typeof e!="object"||bn(e).forEach(function(n){t[n]=e[n]}),t}var Dc=Object.getPrototypeOf,uZ={}.hasOwnProperty;function or(t,e){return uZ.call(t,e)}function Oc(t,e){typeof e=="function"&&(e=e(Dc(t))),(typeof Reflect>"u"?bn:Reflect.ownKeys)(e).forEach(function(n){Co(t,n,e[n])})}var yI=Object.defineProperty;function Co(t,e,n,r){yI(t,e,Cr(n&&or(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function qc(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Co(t.prototype,"constructor",t),{extend:Oc.bind(null,t.prototype)}}}}var dZ=Object.getOwnPropertyDescriptor;function xI(t,e){var n=dZ(t,e),r;return n||(r=Dc(t))&&xI(r,e)}var fZ=[].slice;function Pg(t,e,n){return fZ.call(t,e,n)}function bI(t,e){return e(t)}function Du(t){if(!t)throw new Error("Assertion Failed")}function wI(t){Rn.setImmediate?setImmediate(t):setTimeout(t,0)}function hZ(t,e){return t.reduce(function(n,r,i){var s=e(r,i);return s&&(n[s[0]]=s[1]),n},{})}function ms(t,e){if(typeof e=="string"&&or(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,i=e.length;r<i;++r){var s=ms(t,e[r]);n.push(s)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a==null?void 0:ms(a,e.substr(o+1))}}function wr(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){Du(typeof n!="string"&&"length"in n);for(var r=0,i=e.length;r<i;++r)wr(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var o=e.substr(0,s),a=e.substr(s+1);if(a==="")n===void 0?an(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var l=t[o];(!l||!or(t,o))&&(l=t[o]={}),wr(l,a,n)}}else n===void 0?an(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function pZ(t,e){typeof e=="string"?wr(t,e,void 0):"length"in e&&[].map.call(e,function(n){wr(t,n,void 0)})}function SI(t){var e={};for(var n in t)or(t,n)&&(e[n]=t[n]);return e}var mZ=[].concat;function EI(t){return mZ.apply([],t)}var gZ="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(EI([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return Rn[t]}),TI=new Set(gZ.map(function(t){return Rn[t]}));function _I(t){var e={};for(var n in t)if(or(t,n)){var r=t[n];e[n]=!r||typeof r!="object"||TI.has(r.constructor)?r:_I(r)}return e}function vZ(t){for(var e in t)if(or(t,e))return!1;return!0}var nd=null;function Ro(t){nd=new WeakMap;var e=ob(t);return nd=null,e}function ob(t){if(!t||typeof t!="object")return t;var e=nd.get(t);if(e)return e;if(an(t)){e=[],nd.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(ob(t[n]))}else if(TI.has(t.constructor))e=t;else{var i=Dc(t);e=i===Object.prototype?{}:Object.create(i),nd.set(t,e);for(var s in t)or(t,s)&&(e[s]=ob(t[s]))}return e}var yZ={}.toString;function ab(t){return yZ.call(t).slice(8,-1)}var lb=typeof Symbol<"u"?Symbol.iterator:"@@iterator",xZ=typeof lb=="symbol"?function(t){var e;return t!=null&&(e=t[lb])&&e.apply(t)}:function(){return null};function Xo(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n>=0}var yl={};function as(t){var e,n,r,i;if(arguments.length===1){if(an(t))return t.slice();if(this===yl&&typeof t=="string")return[t];if(i=xZ(t)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var lS=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},bZ=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],CI=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],cS=bZ.concat(CI),wZ={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Yc(t,e){this.name=t,this.message=e}qc(Yc).from(Error).extend({toString:function(){return this.name+": "+this.message}});function RI(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function zm(t,e,n,r){this.failures=e,this.failedKeys=r,this.successCount=n,this.message=RI(t,e)}qc(zm).from(Yc);function Bl(t,e){this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=RI(t,this.failures)}qc(Bl).from(Yc);var uS=cS.reduce(function(t,e){return t[e]=e+"Error",t},{}),SZ=Yc,xe=cS.reduce(function(t,e){var n=e+"Error";function r(i,s){this.name=n,i?typeof i=="string"?(this.message="".concat(i).concat(s?`
 `+s:""),this.inner=s||null):typeof i=="object"&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=wZ[e]||n,this.inner=null)}return qc(r).from(SZ),t[e]=r,t},{});xe.Syntax=SyntaxError;xe.Type=TypeError;xe.Range=RangeError;var ck=CI.reduce(function(t,e){return t[e+"Error"]=xe[e],t},{});function EZ(t,e){if(!t||t instanceof Yc||t instanceof TypeError||t instanceof SyntaxError||!t.name||!ck[t.name])return t;var n=new ck[t.name](e||t.message,t);return"stack"in t&&Co(n,"stack",{get:function(){return this.inner.stack}}),n}var Ig=cS.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=xe[e]),t},{});Ig.ModifyError=zm;Ig.DexieError=Yc;Ig.BulkError=Bl;function pt(){}function Of(t){return t}function TZ(t,e){return t==null||t===Of?e:function(n){return e(t(n))}}function Ua(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function _Z(t,e){return t===pt?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ua(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ua(i,this.onerror):i),s!==void 0?s:n}}function CZ(t,e){return t===pt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ua(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ua(r,this.onerror):r)}}function RZ(t,e){return t===pt?e:function(n){var r=t.apply(this,arguments);Cr(n,r);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ua(i,this.onsuccess):i),s&&(this.onerror=this.onerror?Ua(s,this.onerror):s),r===void 0?o===void 0?void 0:o:Cr(r,o)}}function kZ(t,e){return t===pt?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function dS(t,e){return t===pt?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return n.then(function(){return e.apply(r,s)})}return e.apply(this,arguments)}}var Wi=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function kI(t,e){Wi=t}var Hd={},AI=100,fS=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Dc(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Dc(e),t]}(),uk=fS[0],dk=fS[1],AZ=fS[2],LZ=dk&&dk.then,rd=uk&&uk.constructor,hS=!!AZ;function PZ(){queueMicrotask(DZ)}var Gd=function(t,e){Ou.push([t,e]),Vm&&(PZ(),Vm=!1)},cb=!0,Vm=!0,_a=[],Ap=[],ub=Of,go={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:pt,pgp:!1,env:{},finalize:pt},me=go,Ou=[],Ca=0,Lp=[];function se(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var e=this._PSD=me;if(typeof t!="function"){if(t!==Hd)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&fb(this,this._value);return}this._state=null,this._value=null,++e.ref,PI(this,t)}var db={get:function(){var t=me,e=Km;function n(r,i){var s=this,o=!t.global&&(t!==me||e!==Km),a=o&&!Ao(),l=new se(function(c,u){pS(s,new LI(fk(r,t,o,a),fk(i,t,o,a),c,u,t))});return this._consoleTask&&(l._consoleTask=this._consoleTask),l}return n.prototype=Hd,n},set:function(t){Co(this,"then",t&&t.prototype===Hd?db:{get:function(){return t},set:db.set})}};Oc(se.prototype,{then:db,_then:function(t,e){pS(this,new LI(null,null,t,e,me))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):Pp(r)}):this.then(null,function(r){return r&&r.name===e?n(r):Pp(r)})},finally:function(t){return this.then(function(e){return se.resolve(t()).then(function(){return e})},function(e){return se.resolve(t()).then(function(){return Pp(e)})})},timeout:function(t,e){var n=this;return t<1/0?new se(function(r,i){var s=setTimeout(function(){return i(new xe.Timeout(e))},t);n.then(r,i).finally(clearTimeout.bind(null,s))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Co(se.prototype,Symbol.toStringTag,"Dexie.Promise");go.env=DI();function LI(t,e,n,r,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=i}Oc(se,{all:function(){var t=as.apply(null,arguments).map(Hm);return new se(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(i,s){return se.resolve(i).then(function(o){t[s]=o,--r||e(t)},n)})})},resolve:function(t){if(t instanceof se)return t;if(t&&typeof t.then=="function")return new se(function(n,r){t.then(n,r)});var e=new se(Hd,!0,t);return e},reject:Pp,race:function(){var t=as.apply(null,arguments).map(Hm);return new se(function(e,n){t.map(function(r){return se.resolve(r).then(e,n)})})},PSD:{get:function(){return me},set:function(t){return me=t}},totalEchoes:{get:function(){return Km}},newPSD:ko,usePSD:za,scheduler:{get:function(){return Gd},set:function(t){Gd=t}},rejectionMapper:{get:function(){return ub},set:function(t){ub=t}},follow:function(t,e){return new se(function(n,r){return ko(function(i,s){var o=me;o.unhandleds=[],o.onunhandled=s,o.finalize=Ua(function(){var a=this;OZ(function(){a.unhandleds.length===0?i():s(a.unhandleds[0])})},o.finalize),t()},e,n,r)})}});rd&&(rd.allSettled&&Co(se,"allSettled",function(){var t=as.apply(null,arguments).map(Hm);return new se(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(i,s){return se.resolve(i).then(function(o){return r[s]={status:"fulfilled",value:o}},function(o){return r[s]={status:"rejected",reason:o}}).then(function(){return--n||e(r)})})})}),rd.any&&typeof AggregateError<"u"&&Co(se,"any",function(){var t=as.apply(null,arguments).map(Hm);return new se(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,i=new Array(r);t.forEach(function(s,o){return se.resolve(s).then(function(a){return e(a)},function(a){i[o]=a,--r||n(new AggregateError(i))})})})}));function PI(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Qc();n&&typeof n.then=="function"?PI(t,function(i,s){n instanceof se?n._then(i,s):n.then(i,s)}):(t._state=!0,t._value=n,II(t)),r&&Xc()}},fb.bind(null,t))}catch(n){fb(t,n)}}function fb(t,e){if(Ap.push(e),t._state===null){var n=t._lib&&Qc();e=ub(e),t._state=!1,t._value=e,MZ(t),II(t),n&&Xc()}}function II(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)pS(t,e[n]);var i=t._PSD;--i.ref||i.finalize(),Ca===0&&(++Ca,Gd(function(){--Ca===0&&mS()},[]))}function pS(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Ca,Gd(IZ,[n,t,e])}function IZ(t,e,n){try{var r,i=e._value;!e._state&&Ap.length&&(Ap=[]),r=Wi&&e._consoleTask?e._consoleTask.run(function(){return t(i)}):t(i),!e._state&&Ap.indexOf(i)===-1&&NZ(e),n.resolve(r)}catch(s){n.reject(s)}finally{--Ca===0&&mS(),--n.psd.ref||n.psd.finalize()}}function DZ(){za(go,function(){Qc()&&Xc()})}function Qc(){var t=cb;return cb=!1,Vm=!1,t}function Xc(){var t,e,n;do for(;Ou.length>0;)for(t=Ou,Ou=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Ou.length>0);cb=!0,Vm=!0}function mS(){var t=_a;_a=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=Lp.slice(0),n=e.length;n;)e[--n]()}function OZ(t){function e(){t(),Lp.splice(Lp.indexOf(e),1)}Lp.push(e),++Ca,Gd(function(){--Ca===0&&mS()},[])}function MZ(t){_a.some(function(e){return e._value===t._value})||_a.push(t)}function NZ(t){for(var e=_a.length;e;)if(_a[--e]._value===t._value){_a.splice(e,1);return}}function Pp(t){return new se(Hd,!1,t)}function Ct(t,e){var n=me;return function(){var r=Qc(),i=me;try{return Lo(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{Lo(i,!1),r&&Xc()}}}var vn={awaits:0,echoes:0,id:0},FZ=0,Ip=[],Dp=0,Km=0,$Z=0;function ko(t,e,n,r){var i=me,s=Object.create(i);s.parent=i,s.ref=0,s.global=!1,s.id=++$Z,go.env,s.env=hS?{Promise:se,PromiseProp:{value:se,configurable:!0,writable:!0},all:se.all,race:se.race,allSettled:se.allSettled,any:se.any,resolve:se.resolve,reject:se.reject}:{},e&&Cr(s,e),++i.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=za(s,t,n,r);return s.ref===0&&s.finalize(),o}function Jc(){return vn.id||(vn.id=++FZ),++vn.awaits,vn.echoes+=AI,vn.id}function Ao(){return vn.awaits?(--vn.awaits===0&&(vn.id=0),vn.echoes=vn.awaits*AI,!0):!1}(""+LZ).indexOf("[native code]")===-1&&(Jc=Ao=pt);function Hm(t){return vn.echoes&&t&&t.constructor===rd?(Jc(),t.then(function(e){return Ao(),e},function(e){return Ao(),Kt(e)})):t}function BZ(t){++Km,(!vn.echoes||--vn.echoes===0)&&(vn.echoes=vn.awaits=vn.id=0),Ip.push(me),Lo(t,!0)}function jZ(){var t=Ip[Ip.length-1];Ip.pop(),Lo(t,!1)}function Lo(t,e){var n=me;if((e?vn.echoes&&(!Dp++||t!==me):Dp&&(!--Dp||t!==me))&&queueMicrotask(e?BZ.bind(null,t):jZ),t!==me&&(me=t,n===go&&(go.env=DI()),hS)){var r=go.env.Promise,i=t.env;(n.global||t.global)&&(Object.defineProperty(Rn,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function DI(){var t=Rn.Promise;return hS?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Rn,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function za(t,e,n,r,i){var s=me;try{return Lo(t,!0),e(n,r,i)}finally{Lo(s,!1)}}function fk(t,e,n,r){return typeof t!="function"?t:function(){var i=me;n&&Jc(),Lo(e,!0);try{return t.apply(this,arguments)}finally{Lo(i,!1),r&&queueMicrotask(Ao)}}}function Ty(t){Promise===rd&&vn.echoes===0?Dp===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}var Kt=se.reject;function hb(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!me.letThrough&&!t._vip){if(t._state.openComplete)return Kt(new xe.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Kt(new xe.DatabaseClosed);t.open().catch(pt)}return t._state.dbReadyPromise.then(function(){return hb(t,e,n,r)})}else{var i=t._createTransaction(e,n,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===uS.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return hb(t,e,n,r)})):Kt(s)}return i._promise(e,function(s,o){return ko(function(){return me.trans=i,r(s,o,i)})}).then(function(s){if(e==="readwrite")try{i.idbtrans.commit()}catch{}return e==="readonly"?s:i._completion.then(function(){return s})})}}var hk="4.0.2",ca=String.fromCharCode(65535),pb=-1/0,Zi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",OI="String expected.",Ql=[],Dg="__dbnames",_y="readonly",Cy="readwrite";function Va(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var MI={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Mh(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=Ro(e),delete e[t]),e}:function(e){return e}}function UZ(){throw xe.Type()}function nt(t,e){try{var n=pk(t),r=pk(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return VZ(mk(t),mk(e));case"Array":return zZ(t,e)}}catch{}return NaN}function zZ(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s){var o=nt(t[s],e[s]);if(o!==0)return o}return n===r?0:n<r?-1:1}function VZ(t,e){for(var n=t.length,r=e.length,i=n<r?n:r,s=0;s<i;++s)if(t[s]!==e[s])return t[s]<e[s]?-1:1;return n===r?0:n<r?-1:1}function pk(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=ab(t);return n==="ArrayBuffer"?"binary":n}function mk(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var NI=function(){function t(){}return t.prototype._trans=function(e,n,r){var i=this._tx||me.trans,s=this.name,o=Wi&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function a(u,d,f){if(!f.schema[s])throw new xe.NotFound("Table "+s+" not part of transaction");return n(f.idbtrans,f)}var l=Qc();try{var c=i&&i.db._novip===this.db._novip?i===me.trans?i._promise(e,a,r):ko(function(){return i._promise(e,a,r)},{trans:i,transless:me.transless||me}):hb(this.db,e,[this.name],a);return o&&(c._consoleTask=o,c=c.catch(function(u){return console.trace(u),Kt(u)})),c}finally{l&&Xc()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):e==null?Kt(new xe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(s){return r.hook.reading.fire(s)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(an(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var n=bn(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(d){if(d.compound&&n.every(function(p){return d.keyPath.indexOf(p)>=0})){for(var f=0;f<n.length;++f)if(n.indexOf(d.keyPath[f])===-1)return!1;return!0}return!1}).sort(function(d,f){return d.keyPath.length-f.keyPath.length})[0];if(r&&this.db._maxKey!==ca){var i=r.keyPath.slice(0,n.length);return this.where(i).equals(i.map(function(d){return e[d]}))}!r&&Wi&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(n.join("+"),"]"));var s=this.schema.idxByName,o=this.db._deps.indexedDB;function a(d,f){return o.cmp(d,f)===0}var l=n.reduce(function(d,f){var p=d[0],h=d[1],m=s[f],v=e[f];return[p||m,p||!m?Va(h,m&&m.multi?function(y){var x=ms(y,f);return an(x)&&x.some(function(b){return a(v,b)})}:function(y){return a(v,ms(y,f))}):h]},[null,null]),c=l[0],u=l[1];return c?this.where(c.name).equals(e[c.keyPath]).filter(u):r?this.filter(u):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,an(e)?"[".concat(e.join("+"),"]"):e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){var n=this,r=n.db,i=n.name;this.schema.mappedClass=e,e.prototype instanceof UZ&&(e=function(l){cZ(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(c.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),c.prototype.table=function(){return i},c}(e));for(var s=new Set,o=e.prototype;o;o=Dc(o))Object.getOwnPropertyNames(o).forEach(function(l){return s.add(l)});var a=function(l){if(!l)return l;var c=Object.create(e.prototype);for(var u in l)if(!s.has(u))try{c[u]=l[u]}catch{}return c};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=a,this.hook("reading",a),e},t.prototype.defineClass=function(){function e(n){Cr(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,o=i.keyPath,a=e;return o&&s&&(a=Mh(o)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:n!=null?[n]:null,values:[a]})}).then(function(l){return l.numFailures?se.reject(l.failures[0]):l.lastResult}).then(function(l){if(o)try{wr(e,o,l)}catch{}return l})},t.prototype.update=function(e,n){if(typeof e=="object"&&!an(e)){var r=ms(e,this.schema.primKey.keyPath);return r===void 0?Kt(new xe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,i=this.schema.primKey,s=i.auto,o=i.keyPath,a=e;return o&&s&&(a=Mh(o)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[a],keys:n!=null?[n]:null})}).then(function(l){return l.numFailures?se.reject(l.failures[0]):l.lastResult}).then(function(l){if(o)try{wr(e,o,l)}catch{}return l})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?se.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:MI})}).then(function(n){return n.numFailures?se.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(s){return n.hook.reading.fire(s)})})})},t.prototype.bulkAdd=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=i.schema.primKey,c=l.auto,u=l.keyPath;if(u&&s)throw new xe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new xe.InvalidArgument("Arguments objects and keys must have the same length");var d=e.length,f=u&&c?e.map(Mh(u)):e;return i.core.mutate({trans:a,type:"add",keys:s,values:f,wantResults:o}).then(function(p){var h=p.numFailures,m=p.results,v=p.lastResult,y=p.failures,x=o?m:v;if(h===0)return x;throw new Bl("".concat(i.name,".bulkAdd(): ").concat(h," of ").concat(d," operations failed"),y)})})},t.prototype.bulkPut=function(e,n,r){var i=this,s=Array.isArray(n)?n:void 0;r=r||(s?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=i.schema.primKey,c=l.auto,u=l.keyPath;if(u&&s)throw new xe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new xe.InvalidArgument("Arguments objects and keys must have the same length");var d=e.length,f=u&&c?e.map(Mh(u)):e;return i.core.mutate({trans:a,type:"put",keys:s,values:f,wantResults:o}).then(function(p){var h=p.numFailures,m=p.results,v=p.lastResult,y=p.failures,x=o?m:v;if(h===0)return x;throw new Bl("".concat(i.name,".bulkPut(): ").concat(h," of ").concat(d," operations failed"),y)})})},t.prototype.bulkUpdate=function(e){var n=this,r=this.core,i=e.map(function(a){return a.key}),s=e.map(function(a){return a.changes}),o=[];return this._trans("readwrite",function(a){return r.getMany({trans:a,keys:i,cache:"clone"}).then(function(l){var c=[],u=[];e.forEach(function(f,p){var h=f.key,m=f.changes,v=l[p];if(v){for(var y=0,x=Object.keys(m);y<x.length;y++){var b=x[y],S=m[b];if(b===n.schema.primKey.keyPath){if(nt(S,h)!==0)throw new xe.Constraint("Cannot update primary key in bulkUpdate()")}else wr(v,b,S)}o.push(p),c.push(h),u.push(v)}});var d=c.length;return r.mutate({trans:a,type:"put",keys:c,values:u,updates:{keys:i,changeSpecs:s}}).then(function(f){var p=f.numFailures,h=f.failures;if(p===0)return d;for(var m=0,v=Object.keys(h);m<v.length;m++){var y=v[m],x=o[Number(y)];if(x!=null){var b=h[y];delete h[y],h[x]=b}}throw new Bl("".concat(n.name,".bulkUpdate(): ").concat(p," of ").concat(d," operations failed"),h)})})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var s=i.numFailures,o=i.lastResult,a=i.failures;if(s===0)return o;throw new Bl("".concat(n.name,".bulkDelete(): ").concat(s," of ").concat(r," operations failed"),a)})},t}();function Mf(t){var e={},n=function(a,l){if(l){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return e[a].subscribe.apply(null,u),t}else if(typeof a=="string")return e[a]};n.addEventType=s;for(var r=1,i=arguments.length;r<i;++r)s(arguments[r]);return n;function s(a,l,c){if(typeof a=="object")return o(a);l||(l=kZ),c||(c=pt);var u={subscribers:[],fire:c,subscribe:function(d){u.subscribers.indexOf(d)===-1&&(u.subscribers.push(d),u.fire=l(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(f){return f!==d}),u.fire=u.subscribers.reduce(l,c)}};return e[a]=n[a]=u,u}function o(a){bn(a).forEach(function(l){var c=a[l];if(an(c))s(l,a[l][0],a[l][1]);else if(c==="asap")var u=s(l,Of,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];u.subscribers.forEach(function(h){wI(function(){h.apply(null,p)})})});else throw new xe.InvalidArgument("Invalid event config")})}}function Nf(t,e){return qc(e).from({prototype:t}),e}function KZ(t){return Nf(NI.prototype,function(n,r,i){this.db=t,this._tx=i,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Mf(null,{creating:[_Z,pt],reading:[TZ,Of],updating:[RZ,pt],deleting:[CZ,pt]})})}function pl(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Ry(t,e){t.filter=Va(t.filter,e)}function ky(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Va(r(),e())}:e,t.justLimit=n&&!r}function HZ(t,e){t.isMatch=Va(t.isMatch,e)}function Op(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new xe.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function gk(t,e,n){var r=Op(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Nh(t,e,n,r){var i=t.replayFilter?Va(t.filter,t.replayFilter()):t.filter;if(t.or){var s={},o=function(a,l,c){if(!i||i(l,c,function(f){return l.stop(f)},function(f){return l.fail(f)})){var u=l.primaryKey,d=""+u;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(u)),or(s,d)||(s[d]=!0,e(a,l,c))}};return Promise.all([t.or._iterate(o,n),vk(gk(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}else return vk(gk(t,r,n),Va(t.algorithm,i),e,!t.keysOnly&&t.valueMapper)}function vk(t,e,n,r){var i=r?function(o,a,l){return n(r(o),a,l)}:n,s=Ct(i);return t.then(function(o){if(o)return o.start(function(){var a=function(){return o.continue()};(!e||e(o,function(l){return a=l},function(l){o.stop(l),a=pt},function(l){o.fail(l),a=pt}))&&s(o.value,o,function(l){return a=l}),a()})})}var GZ=function(){function t(e){Object.assign(this,e)}return t.prototype.execute=function(e){var n,r=(n=this.replacePrefix)===null||n===void 0?void 0:n[0];return r&&typeof e=="string"&&e.startsWith(r)?this.replacePrefix[1]+e.substring(r.length):e},t}(),WZ=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,Kt.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,Kt.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=Va(n.algorithm,e)},t.prototype._iterate=function(e,n){return Nh(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Cr(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return Nh(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var i=n._ctx,s=i.table.core;if(pl(i,!0))return s.count({trans:r,query:{index:Op(i,s.schema),range:i.range}}).then(function(a){return Math.min(a,i.limit)});var o=0;return Nh(i,function(){return++o,!1},r,s).then(function(){return o})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),i=r[0],s=r.length-1;function o(c,u){return u?o(c[r[u]],u-1):c[i]}var a=this._ctx.dir==="next"?1:-1;function l(c,u){var d=o(c,s),f=o(u,s);return d<f?-a:d>f?a:0}return this.toArray(function(c){return c.sort(l)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&pl(i,!0)&&i.limit>0){var s=i.valueMapper,o=Op(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:o,range:i.range}}).then(function(l){var c=l.result;return s?c.map(s):c})}else{var a=[];return Nh(i,function(l){return a.push(l)},r,i.table.core).then(function(){return a})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,pl(n)?ky(n,function(){var r=e;return function(i,s){return r===0?!0:r===1?(--r,!1):(s(function(){i.advance(r),r=0}),!1)}}):ky(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),ky(this._ctx,function(){var n=e;return function(r,i,s){return--n<=0&&i(s),n>=0}},!0),this},t.prototype.until=function(e,n){return Ry(this._ctx,function(r,i,s){return e(r.value)?(i(s),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return Ry(this._ctx,function(n){return e(n.value)}),HZ(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.key,i)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&pl(n,!0)&&n.limit>0)return this._read(function(i){var s=Op(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:s,range:n.range}})}).then(function(i){var s=i.result;return s}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,s){r.push(s.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return Ry(this._ctx,function(i){var s=i.primaryKey.toString(),o=or(r,s);return r[s]=!0,!o}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(i){var s;if(typeof e=="function")s=e;else{var o=bn(e),a=o.length;s=function(y){for(var x=!1,b=0;b<a;++b){var S=o[b],w=e[S],_=ms(y,S);w instanceof GZ?(wr(y,S,w.execute(_)),x=!0):_!==w&&(wr(y,S,w),x=!0)}return x}}var l=r.table.core,c=l.schema.primaryKey,u=c.outbound,d=c.extractKey,f=n.db._options.modifyChunkSize||200,p=[],h=0,m=[],v=function(y,x){var b=x.failures,S=x.numFailures;h+=y-S;for(var w=0,_=bn(b);w<_.length;w++){var T=_[w];p.push(b[T])}};return n.clone().primaryKeys().then(function(y){var x=function(b){var S=Math.min(f,y.length-b);return l.getMany({trans:i,keys:y.slice(b,b+S),cache:"immutable"}).then(function(w){for(var _=[],T=[],C=u?[]:null,k=[],A=0;A<S;++A){var I=w[A],N={value:Ro(I),primKey:y[b+A]};s.call(N,N.value,N)!==!1&&(N.value==null?k.push(y[b+A]):!u&&nt(d(I),d(N.value))!==0?(k.push(y[b+A]),_.push(N.value)):(T.push(N.value),u&&C.push(y[b+A])))}var M=pl(r)&&r.limit===1/0&&(typeof e!="function"||e===Ay)&&{index:r.index,range:r.range};return Promise.resolve(_.length>0&&l.mutate({trans:i,type:"add",values:_}).then(function(D){for(var O in D.failures)k.splice(parseInt(O),1);v(_.length,D)})).then(function(){return(T.length>0||M&&typeof e=="object")&&l.mutate({trans:i,type:"put",keys:C,values:T,criteria:M,changeSpec:typeof e!="function"&&e}).then(function(D){return v(T.length,D)})}).then(function(){return(k.length>0||M&&e===Ay)&&l.mutate({trans:i,type:"delete",keys:k,criteria:M}).then(function(D){return v(k.length,D)})}).then(function(){return y.length>b+S&&x(b+f)})})};return x(0).then(function(){if(p.length>0)throw new zm("Error modifying one or more objects",p,h,m);return y.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return pl(e)&&(e.isPrimKey||n.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,s=n;return e.table.core.count({trans:r,query:{index:i,range:s}}).then(function(o){return e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then(function(a){var l=a.failures;a.lastResult,a.results;var c=a.numFailures;if(c)throw new zm("Could not delete some values",Object.keys(l).map(function(u){return l[u]}),o-c);return o-c})})}):this.modify(Ay)},t}(),Ay=function(t,e){return e.value=null};function qZ(t){return Nf(WZ.prototype,function(n,r){this.db=t;var i=MI,s=null;if(r)try{i=r()}catch(c){s=c}var o=n._ctx,a=o.table,l=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:s,or:o.or,valueMapper:l!==Of?l:null}})}function YZ(t,e){return t<e?-1:t===e?0:1}function QZ(t,e){return t>e?-1:t===e?0:1}function ur(t,e,n){var r=t instanceof $I?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function ml(t){return new t.Collection(t,function(){return FI("")}).limit(0)}function XZ(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function JZ(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function ZZ(t,e,n,r,i,s){for(var o=Math.min(t.length,r.length),a=-1,l=0;l<o;++l){var c=e[l];if(c!==r[l])return i(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):i(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;i(t[l],c)<0&&(a=l)}return o<r.length&&s==="next"?t+n.substr(t.length):o<t.length&&s==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function Fh(t,e,n,r){var i,s,o,a,l,c,u,d=n.length;if(!n.every(function(m){return typeof m=="string"}))return ur(t,OI);function f(m){i=XZ(m),s=JZ(m),o=m==="next"?YZ:QZ;var v=n.map(function(y){return{lower:s(y),upper:i(y)}}).sort(function(y,x){return o(y.lower,x.lower)});a=v.map(function(y){return y.upper}),l=v.map(function(y){return y.lower}),c=m,u=m==="next"?"":r}f("next");var p=new t.Collection(t,function(){return Fs(a[0],l[d-1]+r)});p._ondirectionchange=function(m){f(m)};var h=0;return p._addAlgorithm(function(m,v,y){var x=m.key;if(typeof x!="string")return!1;var b=s(x);if(e(b,l,h))return!0;for(var S=null,w=h;w<d;++w){var _=ZZ(x,b,a[w],l[w],o,c);_===null&&S===null?h=w+1:(S===null||o(S,_)>0)&&(S=_)}return v(S!==null?function(){m.continue(S+u)}:y),!1}),p}function Fs(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function FI(t){return{type:1,lower:t,upper:t}}var $I=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||i)&&!(r&&i)?ml(this):new this.Collection(this,function(){return Fs(e,n,!r,!i)})}catch{return ur(this,Zi)}},t.prototype.equals=function(e){return e==null?ur(this,Zi):new this.Collection(this,function(){return FI(e)})},t.prototype.above=function(e){return e==null?ur(this,Zi):new this.Collection(this,function(){return Fs(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?ur(this,Zi):new this.Collection(this,function(){return Fs(e,void 0,!1)})},t.prototype.below=function(e){return e==null?ur(this,Zi):new this.Collection(this,function(){return Fs(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?ur(this,Zi):new this.Collection(this,function(){return Fs(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?ur(this,OI):this.between(e,e+ca,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Fh(this,function(n,r){return n.indexOf(r[0])===0},[e],ca)},t.prototype.equalsIgnoreCase=function(e){return Fh(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=as.apply(yl,arguments);return e.length===0?ml(this):Fh(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=as.apply(yl,arguments);return e.length===0?ml(this):Fh(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},e,ca)},t.prototype.anyOf=function(){var e=this,n=as.apply(yl,arguments),r=this._cmp;try{n.sort(r)}catch{return ur(this,Zi)}if(n.length===0)return ml(this);var i=new this.Collection(this,function(){return Fs(n[0],n[n.length-1])});i._ondirectionchange=function(o){r=o==="next"?e._ascending:e._descending,n.sort(r)};var s=0;return i._addAlgorithm(function(o,a,l){for(var c=o.key;r(c,n[s])>0;)if(++s,s===n.length)return a(l),!1;return r(c,n[s])===0?!0:(a(function(){o.continue(n[s])}),!1)}),i},t.prototype.notEqual=function(e){return this.inAnyRange([[pb,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=as.apply(yl,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ur(this,Zi)}var n=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[pb,i]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,i=this._cmp,s=this._ascending,o=this._descending,a=this._min,l=this._max;if(e.length===0)return ml(this);if(!e.every(function(w){return w[0]!==void 0&&w[1]!==void 0&&s(w[0],w[1])<=0}))return ur(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",xe.InvalidArgument);var c=!n||n.includeLowers!==!1,u=n&&n.includeUppers===!0;function d(w,_){for(var T=0,C=w.length;T<C;++T){var k=w[T];if(i(_[0],k[1])<0&&i(_[1],k[0])>0){k[0]=a(k[0],_[0]),k[1]=l(k[1],_[1]);break}}return T===C&&w.push(_),w}var f=s;function p(w,_){return f(w[0],_[0])}var h;try{h=e.reduce(d,[]),h.sort(p)}catch{return ur(this,Zi)}var m=0,v=u?function(w){return s(w,h[m][1])>0}:function(w){return s(w,h[m][1])>=0},y=c?function(w){return o(w,h[m][0])>0}:function(w){return o(w,h[m][0])>=0};function x(w){return!v(w)&&!y(w)}var b=v,S=new this.Collection(this,function(){return Fs(h[0][0],h[h.length-1][1],!c,!u)});return S._ondirectionchange=function(w){w==="next"?(b=v,f=s):(b=y,f=o),h.sort(p)},S._addAlgorithm(function(w,_,T){for(var C=w.key;b(C);)if(++m,m===h.length)return _(T),!1;return x(C)?!0:(r._cmp(C,h[m][1])===0||r._cmp(C,h[m][0])===0||_(function(){f===s?w.continue(h[m][0]):w.continue(h[m][1])}),!1)}),S},t.prototype.startsWithAnyOf=function(){var e=as.apply(yl,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?ml(this):this.inAnyRange(e.map(function(n){return[n,n+ca]})):ur(this,"startsWithAnyOf() only works with strings")},t}();function eee(t){return Nf($I.prototype,function(n,r,i){if(this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:i},this._cmp=this._ascending=nt,this._descending=function(s,o){return nt(o,s)},this._max=function(s,o){return nt(s,o)>0?s:o},this._min=function(s,o){return nt(s,o)<0?s:o},this._IDBKeyRange=t._deps.IDBKeyRange,!this._IDBKeyRange)throw new xe.MissingAPI})}function Ei(t){return Ct(function(e){return Wd(e),t(e.target.error),!1})}function Wd(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Ff="storagemutated",mb="x-storagemutated-1",Po=Mf(null,Ff),tee=function(){function t(){}return t.prototype._lock=function(){return Du(!me.global),++this._reculock,this._reculock===1&&!me.global&&(me.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Du(!me.global),--this._reculock===0)for(me.global||(me.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{za(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Du(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new xe.DatabaseClosed(i);case"MissingAPIError":throw new xe.MissingAPI(i.message,i);default:throw new xe.OpenFailed(i)}if(!this.active)throw new xe.TransactionInactive;return Du(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=Ct(function(s){Wd(s),n._reject(e.error)}),e.onabort=Ct(function(s){Wd(s),n.active&&n._reject(new xe.Abort(e.error)),n.active=!1,n.on("abort").fire(s)}),e.oncomplete=Ct(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&Po.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return Kt(new xe.ReadOnly("Transaction is readonly"));if(!this.active)return Kt(new xe.TransactionInactive);if(this._locked())return new se(function(o,a){i._blockedFuncs.push([function(){i._promise(e,n,r).then(o,a)},me])});if(r)return ko(function(){var o=new se(function(a,l){i._lock();var c=n(a,l,i);c&&c.then&&c.then(a,l)});return o.finally(function(){return i._unlock()}),o._lib=!0,o});var s=new se(function(o,a){var l=n(o,a,i);l&&l.then&&l.then(o,a)});return s._lib=!0,s},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=se.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var s=n._waitingFor;return new se(function(o,a){r.then(function(l){return n._waitingQueue.push(Ct(o.bind(null,l)))},function(l){return n._waitingQueue.push(Ct(a.bind(null,l)))}).finally(function(){n._waitingFor===s&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new xe.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(or(n,e))return n[e];var r=this.schema[e];if(!r)throw new xe.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),n[e]=i,i},t}();function nee(t){return Nf(tee.prototype,function(n,r,i,s,o){var a=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Mf(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new se(function(l,c){a._resolve=l,a._reject=c}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(l){var c=a.active;return a.active=!1,a.on.error.fire(l),a.parent?a.parent._reject(l):c&&a.idbtrans&&a.idbtrans.abort(),Kt(l)})})}function gb(t,e,n,r,i,s,o){return{name:t,keyPath:e,unique:n,multi:r,auto:i,compound:s,src:(n&&!o?"&":"")+(r?"*":"")+(i?"++":"")+BI(e)}}function BI(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function gS(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:hZ(n,function(r){return[r.name,r]})}}function ree(t){return t.length===1?t[0]:t}var qd=function(t){try{return t.only([[]]),qd=function(){return[[]]},[[]]}catch{return qd=function(){return ca},ca}};function vb(t){return t==null?function(){}:typeof t=="string"?iee(t):function(e){return ms(e,t)}}function iee(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return ms(n,t)}}function yk(t){return[].slice.call(t)}var see=0;function id(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function oee(t,e,n){function r(d,f){var p=yk(d.objectStoreNames);return{schema:{name:d.name,tables:p.map(function(h){return f.objectStore(h)}).map(function(h){var m=h.keyPath,v=h.autoIncrement,y=an(m),x=m==null,b={},S={name:h.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:x,compound:y,keyPath:m,autoIncrement:v,unique:!0,extractKey:vb(m)},indexes:yk(h.indexNames).map(function(w){return h.index(w)}).map(function(w){var _=w.name,T=w.unique,C=w.multiEntry,k=w.keyPath,A=an(k),I={name:_,compound:A,keyPath:k,unique:T,multiEntry:C,extractKey:vb(k)};return b[id(k)]=I,I}),getIndexByKeyPath:function(w){return b[id(w)]}};return b[":id"]=S.primaryKey,m!=null&&(b[id(m)]=S.primaryKey),S})},hasGetAll:p.length>0&&"getAll"in f.objectStore(p[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=d.lower,p=d.upper,h=d.lowerOpen,m=d.upperOpen,v=f===void 0?p===void 0?null:e.upperBound(p,!!m):p===void 0?e.lowerBound(f,!!h):e.bound(f,p,!!h,!!m);return v}function s(d){var f=d.name;function p(v){var y=v.trans,x=v.type,b=v.keys,S=v.values,w=v.range;return new Promise(function(_,T){_=Ct(_);var C=y.objectStore(f),k=C.keyPath==null,A=x==="put"||x==="add";if(!A&&x!=="delete"&&x!=="deleteRange")throw new Error("Invalid operation type: "+x);var I=(b||S||{length:1}).length;if(b&&S&&b.length!==S.length)throw new Error("Given keys array must have same length as given values array.");if(I===0)return _({numFailures:0,failures:{},results:[],lastResult:void 0});var N,M=[],D=[],O=0,$=function(q){++O,Wd(q)};if(x==="deleteRange"){if(w.type===4)return _({numFailures:O,failures:D,results:[],lastResult:void 0});w.type===3?M.push(N=C.clear()):M.push(N=C.delete(i(w)))}else{var W=A?k?[S,b]:[S,null]:[b,null],U=W[0],j=W[1];if(A)for(var B=0;B<I;++B)M.push(N=j&&j[B]!==void 0?C[x](U[B],j[B]):C[x](U[B])),N.onerror=$;else for(var B=0;B<I;++B)M.push(N=C[x](U[B])),N.onerror=$}var H=function(q){var ne=q.target.result;M.forEach(function(te,he){return te.error!=null&&(D[he]=te.error)}),_({numFailures:O,failures:D,results:x==="delete"?b:M.map(function(te){return te.result}),lastResult:ne})};N.onerror=function(q){$(q),H(q)},N.onsuccess=H})}function h(v){var y=v.trans,x=v.values,b=v.query,S=v.reverse,w=v.unique;return new Promise(function(_,T){_=Ct(_);var C=b.index,k=b.range,A=y.objectStore(f),I=C.isPrimaryKey?A:A.index(C.name),N=S?w?"prevunique":"prev":w?"nextunique":"next",M=x||!("openKeyCursor"in I)?I.openCursor(i(k),N):I.openKeyCursor(i(k),N);M.onerror=Ei(T),M.onsuccess=Ct(function(D){var O=M.result;if(!O){_(null);return}O.___id=++see,O.done=!1;var $=O.continue.bind(O),W=O.continuePrimaryKey;W&&(W=W.bind(O));var U=O.advance.bind(O),j=function(){throw new Error("Cursor not started")},B=function(){throw new Error("Cursor not stopped")};O.trans=y,O.stop=O.continue=O.continuePrimaryKey=O.advance=j,O.fail=Ct(T),O.next=function(){var H=this,q=1;return this.start(function(){return q--?H.continue():H.stop()}).then(function(){return H})},O.start=function(H){var q=new Promise(function(te,he){te=Ct(te),M.onerror=Ei(he),O.fail=he,O.stop=function(Z){O.stop=O.continue=O.continuePrimaryKey=O.advance=B,te(Z)}}),ne=function(){if(M.result)try{H()}catch(te){O.fail(te)}else O.done=!0,O.start=function(){throw new Error("Cursor behind last entry")},O.stop()};return M.onsuccess=Ct(function(te){M.onsuccess=ne,ne()}),O.continue=$,O.continuePrimaryKey=W,O.advance=U,ne(),q},_(O)},T)})}function m(v){return function(y){return new Promise(function(x,b){x=Ct(x);var S=y.trans,w=y.values,_=y.limit,T=y.query,C=_===1/0?void 0:_,k=T.index,A=T.range,I=S.objectStore(f),N=k.isPrimaryKey?I:I.index(k.name),M=i(A);if(_===0)return x({result:[]});if(v){var D=w?N.getAll(M,C):N.getAllKeys(M,C);D.onsuccess=function(U){return x({result:U.target.result})},D.onerror=Ei(b)}else{var O=0,$=w||!("openKeyCursor"in N)?N.openCursor(M):N.openKeyCursor(M),W=[];$.onsuccess=function(U){var j=$.result;if(!j)return x({result:W});if(W.push(w?j.value:j.primaryKey),++O===_)return x({result:W});j.continue()},$.onerror=Ei(b)}})}}return{name:f,schema:d,mutate:p,getMany:function(v){var y=v.trans,x=v.keys;return new Promise(function(b,S){b=Ct(b);for(var w=y.objectStore(f),_=x.length,T=new Array(_),C=0,k=0,A,I=function(O){var $=O.target;(T[$._pos]=$.result)!=null,++k===C&&b(T)},N=Ei(S),M=0;M<_;++M){var D=x[M];D!=null&&(A=w.get(x[M]),A._pos=M,A.onsuccess=I,A.onerror=N,++C)}C===0&&b(T)})},get:function(v){var y=v.trans,x=v.key;return new Promise(function(b,S){b=Ct(b);var w=y.objectStore(f),_=w.get(x);_.onsuccess=function(T){return b(T.target.result)},_.onerror=Ei(S)})},query:m(l),openCursor:h,count:function(v){var y=v.query,x=v.trans,b=y.index,S=y.range;return new Promise(function(w,_){var T=x.objectStore(f),C=b.isPrimaryKey?T:T.index(b.name),k=i(S),A=k?C.count(k):C.count();A.onsuccess=Ct(function(I){return w(I.target.result)}),A.onerror=Ei(_)})}}}var o=r(t,n),a=o.schema,l=o.hasGetAll,c=a.tables.map(function(d){return s(d)}),u={};return c.forEach(function(d){return u[d.name]=d}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(d){var f=u[d];if(!f)throw new Error("Table '".concat(d,"' not found"));return u[d]},MIN_KEY:-1/0,MAX_KEY:qd(e),schema:a}}function aee(t,e){return e.reduce(function(n,r){var i=r.create;return Le(Le({},n),i(n))},t)}function lee(t,e,n,r){var i=n.IDBKeyRange;n.indexedDB;var s=aee(oee(e,i,r),t.dbcore);return{dbcore:s}}function Gm(t,e){var n=e.db,r=lee(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(function(i){var s=i.name;t.core.schema.tables.some(function(o){return o.name===s})&&(i.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=i.core))})}function Wm(t,e,n,r){n.forEach(function(i){var s=r[i];e.forEach(function(o){var a=xI(o,i);(!a||"value"in a&&a.value===void 0)&&(o===t.Transaction.prototype||o instanceof t.Transaction?Co(o,i,{get:function(){return this.table(i)},set:function(l){yI(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new t.Table(i,s))})})}function yb(t,e){e.forEach(function(n){for(var r in n)n[r]instanceof t.Table&&delete n[r]})}function cee(t,e){return t._cfg.version-e._cfg.version}function uee(t,e,n,r){var i=t._dbSchema;n.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=gS("$meta",UI("")[0],[]),t._storeNames.push("$meta"));var s=t._createTransaction("readwrite",t._storeNames,i);s.create(n),s._completion.catch(r);var o=s._reject.bind(s),a=me.transless||me;ko(function(){if(me.trans=s,me.transless=a,e===0)bn(i).forEach(function(l){yS(n,l,i[l].primKey,i[l].indexes)}),Gm(t,n),se.follow(function(){return t.on.populate.fire(s)}).catch(o);else return Gm(t,n),fee(t,s,e).then(function(l){return hee(t,l,s,n)}).catch(o)})}function dee(t,e){jI(t._dbSchema,e),e.db.version%10===0&&!e.objectStoreNames.contains("$meta")&&e.db.createObjectStore("$meta").add(Math.ceil(e.db.version/10-1),"version");var n=Og(t,t.idbdb,e);Ym(t,t._dbSchema,e);for(var r=vS(n,t._dbSchema),i=function(c){if(c.change.length||c.recreate)return console.warn("Unable to patch indexes of table ".concat(c.name," because it has changes on the type of index or primary key.")),{value:void 0};var u=e.objectStore(c.name);c.add.forEach(function(d){Wi&&console.debug("Dexie upgrade patch: Creating missing index ".concat(c.name,".").concat(d.src)),qm(u,d)})},s=0,o=r.change;s<o.length;s++){var a=o[s],l=i(a);if(typeof l=="object")return l.value}}function fee(t,e,n){return e.storeNames.includes("$meta")?e.table("$meta").get("version").then(function(r){return r??n}):se.resolve(n)}function hee(t,e,n,r){var i=[],s=t._versions,o=t._dbSchema=Og(t,t.idbdb,r),a=s.filter(function(c){return c._cfg.version>=e});if(a.length===0)return se.resolve();a.forEach(function(c){i.push(function(){var u=o,d=c._cfg.dbschema;Ym(t,u,r),Ym(t,d,r),o=t._dbSchema=d;var f=vS(u,d);f.add.forEach(function(x){yS(r,x[0],x[1].primKey,x[1].indexes)}),f.change.forEach(function(x){if(x.recreate)throw new xe.Upgrade("Not yet support for changing primary key");var b=r.objectStore(x.name);x.add.forEach(function(S){return qm(b,S)}),x.change.forEach(function(S){b.deleteIndex(S.name),qm(b,S)}),x.del.forEach(function(S){return b.deleteIndex(S)})});var p=c._cfg.contentUpgrade;if(p&&c._cfg.version>e){Gm(t,r),n._memoizedTables={};var h=SI(d);f.del.forEach(function(x){h[x]=u[x]}),yb(t,[t.Transaction.prototype]),Wm(t,[t.Transaction.prototype],bn(h),h),n.schema=h;var m=lS(p);m&&Jc();var v,y=se.follow(function(){if(v=p(n),v&&m){var x=Ao.bind(null,null);v.then(x,x)}});return v&&typeof v.then=="function"?se.resolve(v):y.then(function(){return v})}}),i.push(function(u){var d=c._cfg.dbschema;pee(d,u),yb(t,[t.Transaction.prototype]),Wm(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema}),i.push(function(u){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===c._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter(function(d){return d!=="$meta"})):u.objectStore("$meta").put(c._cfg.version,"version"))})});function l(){return i.length?se.resolve(i.shift()(n.idbtrans)).then(l):se.resolve()}return l().then(function(){jI(o,r)})}function vS(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var i=t[r],s=e[r];if(!i)n.add.push([r,s]);else{var o={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||i.primKey.auto!==s.primKey.auto)o.recreate=!0,n.change.push(o);else{var a=i.idxByName,l=s.idxByName,c=void 0;for(c in a)l[c]||o.del.push(c);for(c in l){var u=a[c],d=l[c];u?u.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}}return n}function yS(t,e,n,r){var i=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(s){return qm(i,s)}),i}function jI(t,e){bn(t).forEach(function(n){e.db.objectStoreNames.contains(n)||(Wi&&console.debug("Dexie: Creating missing table",n),yS(e,n,t[n].primKey,t[n].indexes))})}function pee(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function qm(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Og(t,e,n){var r={},i=Pg(e.objectStoreNames,0);return i.forEach(function(s){for(var o=n.objectStore(s),a=o.keyPath,l=gb(BI(a),a||"",!0,!1,!!o.autoIncrement,a&&typeof a!="string",!0),c=[],u=0;u<o.indexNames.length;++u){var d=o.index(o.indexNames[u]);a=d.keyPath;var f=gb(d.name,a,!!d.unique,!!d.multiEntry,!1,a&&typeof a!="string",!1);c.push(f)}r[s]=gS(s,l,c)}),r}function mee(t,e,n){t.verno=e.version/10;var r=t._dbSchema=Og(t,e,n);t._storeNames=Pg(e.objectStoreNames,0),Wm(t,[t._allTables],bn(r),r)}function gee(t,e){var n=Og(t,t.idbdb,e),r=vS(n,t._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function Ym(t,e,n){for(var r=n.db.objectStoreNames,i=0;i<r.length;++i){var s=r[i],o=n.objectStore(s);t._hasGetAll="getAll"in o;for(var a=0;a<o.indexNames.length;++a){var l=o.indexNames[a],c=o.index(l).keyPath,u=typeof c=="string"?c:"["+Pg(c).join("+")+"]";if(e[s]){var d=e[s].idxByName[u];d&&(d.name=l,delete e[s].idxByName[u],e[s].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Rn.WorkerGlobalScope&&Rn instanceof Rn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function UI(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return gb(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),an(i),n===0)})}var vee=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){bn(e).forEach(function(r){if(e[r]!==null){var i=UI(e[r]),s=i.shift();if(s.unique=!0,s.multi)throw new xe.Schema("Primary key cannot be multi-valued");i.forEach(function(o){if(o.auto)throw new xe.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new xe.Schema("Index must have a name and cannot be an empty string")}),n[r]=gS(r,s,i)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Cr(this._cfg.storesSource,e):e;var r=n._versions,i={},s={};return r.forEach(function(o){Cr(i,o._cfg.storesSource),s=o._cfg.dbschema={},o._parseStoresSpec(i,s)}),n._dbSchema=s,yb(n,[n._allTables,n,n.Transaction.prototype]),Wm(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],bn(s),s),n._storeNames=bn(s),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=dS(this._cfg.contentUpgrade||pt,e),this},t}();function yee(t){return Nf(vee.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function xS(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Qd(Dg,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function bS(t){return t&&typeof t.databases=="function"}function xee(t){var e=t.indexedDB,n=t.IDBKeyRange;return bS(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Dg})}):xS(e,n).toCollection().primaryKeys()}function bee(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!bS(n)&&e!==Dg&&xS(n,r).put({name:e}).catch(pt)}function wee(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!bS(n)&&e!==Dg&&xS(n,r).delete(e).catch(pt)}function xb(t){return ko(function(){return me.letThrough=!0,t()})}function See(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}var Ly;function wS(t){return!("from"in t)}var Vn=function(t,e){if(this)Cr(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new Vn;return t&&"d"in t&&Cr(n,t),n}};Oc(Vn.prototype,(Ly={add:function(t){return Qm(this,t),this},addKey:function(t){return Yd(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return Yd(e,n,n)}),this}},Ly[lb]=function(){return wb(this)},Ly));function Yd(t,e,n){var r=nt(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(wS(t))return Cr(t,{from:e,to:n,d:1});var i=t.l,s=t.r;if(nt(n,t.from)<0)return i?Yd(i,e,n):t.l={from:e,to:n,d:1,l:null,r:null},xk(t);if(nt(e,t.to)>0)return s?Yd(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},xk(t);nt(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),nt(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var o=!t.r;i&&!t.l&&Qm(t,i),s&&o&&Qm(t,s)}}function Qm(t,e){function n(r,i){var s=i.from,o=i.to,a=i.l,l=i.r;Yd(r,s,o),a&&n(r,a),l&&n(r,l)}wS(e)||n(t,e)}function bb(t,e){var n=wb(e),r=n.next();if(r.done)return!1;for(var i=r.value,s=wb(t),o=s.next(i.from),a=o.value;!r.done&&!o.done;){if(nt(a.from,i.to)<=0&&nt(a.to,i.from)>=0)return!0;nt(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(o=s.next(i.from)).value}return!1}function wb(t){var e=wS(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&nt(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||nt(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function xk(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var s=i==="r"?"l":"r",o=Le({},t),a=t[i];t.from=a.from,t.to=a.to,t[i]=a[i],o[i]=a[s],t[s]=o,o.d=bk(o)}t.d=bk(t)}function bk(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}function Mg(t,e){return bn(e).forEach(function(n){t[n]?Qm(t[n],e[n]):t[n]=_I(e[n])}),t}function SS(t,e){return t.all||e.all||Object.keys(t).some(function(n){return e[n]&&bb(e[n],t[n])})}var Ra={},Py={},Iy=!1;function $h(t,e){Mg(Py,t),Iy||(Iy=!0,setTimeout(function(){Iy=!1;var n=Py;Py={},ES(n,!1)},0))}function ES(t,e){e===void 0&&(e=!1);var n=new Set;if(t.all)for(var r=0,i=Object.values(Ra);r<i.length;r++){var s=i[r];wk(s,t,n,e)}else for(var o in t){var a=/^idb\:\/\/(.*)\/(.*)\//.exec(o);if(a){var l=a[1],c=a[2],s=Ra["idb://".concat(l,"/").concat(c)];s&&wk(s,t,n,e)}}n.forEach(function(u){return u()})}function wk(t,e,n,r){for(var i=[],s=0,o=Object.entries(t.queries.query);s<o.length;s++){for(var a=o[s],l=a[0],c=a[1],u=[],d=0,f=c;d<f.length;d++){var p=f[d];SS(e,p.obsSet)?p.subscribers.forEach(function(y){return n.add(y)}):r&&u.push(p)}r&&i.push([l,u])}if(r)for(var h=0,m=i;h<m.length;h++){var v=m[h],l=v[0],u=v[1];t.queries.query[l]=u}}function Eee(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?Kt(e.dbOpenError):t});e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller,i=Math.round(t.verno*10),s=!1;function o(){if(e.openCanceller!==r)throw new xe.DatabaseClosed("db.open() was cancelled")}var a=e.dbReadyResolve,l=null,c=!1,u=function(){return new se(function(d,f){if(o(),!n)throw new xe.MissingAPI;var p=t.name,h=e.autoSchema||!i?n.open(p):n.open(p,i);if(!h)throw new xe.MissingAPI;h.onerror=Ei(f),h.onblocked=Ct(t._fireOnBlocked),h.onupgradeneeded=Ct(function(m){if(l=h.transaction,e.autoSchema&&!t._options.allowEmptyDB){h.onerror=Wd,l.abort(),h.result.close();var v=n.deleteDatabase(p);v.onsuccess=v.onerror=Ct(function(){f(new xe.NoSuchDatabase("Database ".concat(p," doesnt exist")))})}else{l.onerror=Ei(f);var y=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;c=y<1,t.idbdb=h.result,s&&dee(t,l),uee(t,y/10,l,f)}},f),h.onsuccess=Ct(function(){l=null;var m=t.idbdb=h.result,v=Pg(m.objectStoreNames);if(v.length>0)try{var y=m.transaction(ree(v),"readonly");if(e.autoSchema)mee(t,m,y);else if(Ym(t,t._dbSchema,y),!gee(t,y)&&!s)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),m.close(),i=m.version+1,s=!0,d(u());Gm(t,y)}catch{}Ql.push(t),m.onversionchange=Ct(function(x){e.vcFired=!0,t.on("versionchange").fire(x)}),m.onclose=Ct(function(x){t.on("close").fire(x)}),c&&bee(t._deps,p),d()},f)}).catch(function(d){switch(d==null?void 0:d.name){case"UnknownError":if(e.PR1398_maxLoop>0)return e.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u();break;case"VersionError":if(i>0)return i=0,u();break}return se.reject(d)})};return se.race([r,(typeof navigator>"u"?se.resolve():See()).then(u)]).then(function(){return o(),e.onReadyBeingFired=[],se.resolve(xb(function(){return t.on.ready.fire(t.vip)})).then(function d(){if(e.onReadyBeingFired.length>0){var f=e.onReadyBeingFired.reduce(dS,pt);return e.onReadyBeingFired=[],se.resolve(xb(function(){return f(t.vip)})).then(d)}})}).finally(function(){e.openCanceller===r&&(e.onReadyBeingFired=null,e.isBeingOpened=!1)}).catch(function(d){e.dbOpenError=d;try{l&&l.abort()}catch{}return r===e.openCanceller&&t._close(),Kt(d)}).finally(function(){e.openComplete=!0,a()}).then(function(){if(c){var d={};t.tables.forEach(function(f){f.schema.indexes.forEach(function(p){p.name&&(d["idb://".concat(t.name,"/").concat(f.name,"/").concat(p.name)]=new Vn(-1/0,[[[]]]))}),d["idb://".concat(t.name,"/").concat(f.name,"/")]=d["idb://".concat(t.name,"/").concat(f.name,"/:dels")]=new Vn(-1/0,[[[]]])}),Po(Ff).fire(d),ES(d,!0)}return t})}function Sb(t){var e=function(o){return t.next(o)},n=function(o){return t.throw(o)},r=s(e),i=s(n);function s(o){return function(a){var l=o(a),c=l.value;return l.done?c:!c||typeof c.then!="function"?an(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return s(e)()}function Tee(t,e,n){var r=arguments.length;if(r<2)throw new xe.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var s=EI(i);return[t,s,n]}function zI(t,e,n,r,i){return se.resolve().then(function(){var s=me.transless||me,o=t._createTransaction(e,n,t._dbSchema,r);o.explicit=!0;var a={trans:o,transless:s};if(r)o.idbtrans=r.idbtrans;else try{o.create(),o.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(d){return d.name===uS.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return zI(t,e,n,null,i)})):Kt(d)}var l=lS(i);l&&Jc();var c,u=se.follow(function(){if(c=i.call(o,o),c)if(l){var d=Ao.bind(null,null);c.then(d,d)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=Sb(c))},a);return(c&&typeof c.then=="function"?se.resolve(c).then(function(d){return o.active?d:Kt(new xe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):u.then(function(){return c})).then(function(d){return r&&o._resolve(),o._completion.then(function(){return d})}).catch(function(d){return o._reject(d),Kt(d)})})}function Bh(t,e,n){for(var r=an(t)?t.slice():[t],i=0;i<n;++i)r.push(e);return r}function _ee(t){return Le(Le({},t),{table:function(e){var n=t.table(e),r=n.schema,i={},s=[];function o(m,v,y){var x=id(m),b=i[x]=i[x]||[],S=m==null?0:typeof m=="string"?1:m.length,w=v>0,_=Le(Le({},y),{name:w?"".concat(x,"(virtual-from:").concat(y.name,")"):y.name,lowLevelIndex:y,isVirtual:w,keyTail:v,keyLength:S,extractKey:vb(m),unique:!w&&y.unique});if(b.push(_),_.isPrimaryKey||s.push(_),S>1){var T=S===2?m[0]:m.slice(0,S-1);o(T,v+1,y)}return b.sort(function(C,k){return C.keyTail-k.keyTail}),_}var a=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(var l=0,c=r.indexes;l<c.length;l++){var u=c[l];o(u.keyPath,0,u)}function d(m){var v=i[id(m)];return v&&v[0]}function f(m,v){return{type:m.type===1?2:m.type,lower:Bh(m.lower,m.lowerOpen?t.MAX_KEY:t.MIN_KEY,v),lowerOpen:!0,upper:Bh(m.upper,m.upperOpen?t.MIN_KEY:t.MAX_KEY,v),upperOpen:!0}}function p(m){var v=m.query.index;return v.isVirtual?Le(Le({},m),{query:{index:v.lowLevelIndex,range:f(m.query.range,v.keyTail)}}):m}var h=Le(Le({},n),{schema:Le(Le({},r),{primaryKey:a,indexes:s,getIndexByKeyPath:d}),count:function(m){return n.count(p(m))},query:function(m){return n.query(p(m))},openCursor:function(m){var v=m.query.index,y=v.keyTail,x=v.isVirtual,b=v.keyLength;if(!x)return n.openCursor(m);function S(w){function _(C){C!=null?w.continue(Bh(C,m.reverse?t.MAX_KEY:t.MIN_KEY,y)):m.unique?w.continue(w.key.slice(0,b).concat(m.reverse?t.MIN_KEY:t.MAX_KEY,y)):w.continue()}var T=Object.create(w,{continue:{value:_},continuePrimaryKey:{value:function(C,k){w.continuePrimaryKey(Bh(C,t.MAX_KEY,y),k)}},primaryKey:{get:function(){return w.primaryKey}},key:{get:function(){var C=w.key;return b===1?C[0]:C.slice(0,b)}},value:{get:function(){return w.value}}});return T}return n.openCursor(p(m)).then(function(w){return w&&S(w)})}});return h}})}var Cee={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:_ee};function TS(t,e,n,r){return n=n||{},r=r||"",bn(t).forEach(function(i){if(!or(e,i))n[r+i]=void 0;else{var s=t[i],o=e[i];if(typeof s=="object"&&typeof o=="object"&&s&&o){var a=ab(s),l=ab(o);a!==l?n[r+i]=e[i]:a==="Object"?TS(s,o,n,r+i+"."):s!==o&&(n[r+i]=e[i])}else s!==o&&(n[r+i]=e[i])}}),bn(e).forEach(function(i){or(t,i)||(n[r+i]=e[i])}),n}function _S(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var Ree={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Le(Le({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,i=Le(Le({},n),{mutate:function(s){var o=me.trans,a=o.table(e).hook,l=a.deleting,c=a.creating,u=a.updating;switch(s.type){case"add":if(c.fire===pt)break;return o._promise("readwrite",function(){return d(s)},!0);case"put":if(c.fire===pt&&u.fire===pt)break;return o._promise("readwrite",function(){return d(s)},!0);case"delete":if(l.fire===pt)break;return o._promise("readwrite",function(){return d(s)},!0);case"deleteRange":if(l.fire===pt)break;return o._promise("readwrite",function(){return f(s)},!0)}return n.mutate(s);function d(h){var m=me.trans,v=h.keys||_S(r,h);if(!v)throw new Error("Keys missing");return h=h.type==="add"||h.type==="put"?Le(Le({},h),{keys:v}):Le({},h),h.type!=="delete"&&(h.values=lk([],h.values,!0)),h.keys&&(h.keys=lk([],h.keys,!0)),kee(n,h,v).then(function(y){var x=v.map(function(b,S){var w=y[S],_={onerror:null,onsuccess:null};if(h.type==="delete")l.fire.call(_,b,w,m);else if(h.type==="add"||w===void 0){var T=c.fire.call(_,b,h.values[S],m);b==null&&T!=null&&(b=T,h.keys[S]=b,r.outbound||wr(h.values[S],r.keyPath,b))}else{var C=TS(w,h.values[S]),k=u.fire.call(_,C,b,w,m);if(k){var A=h.values[S];Object.keys(k).forEach(function(I){or(A,I)?A[I]=k[I]:wr(A,I,k[I])})}}return _});return n.mutate(h).then(function(b){for(var S=b.failures,w=b.results,_=b.numFailures,T=b.lastResult,C=0;C<v.length;++C){var k=w?w[C]:v[C],A=x[C];k==null?A.onerror&&A.onerror(S[C]):A.onsuccess&&A.onsuccess(h.type==="put"&&y[C]?h.values[C]:k)}return{failures:S,results:w,numFailures:_,lastResult:T}}).catch(function(b){return x.forEach(function(S){return S.onerror&&S.onerror(b)}),Promise.reject(b)})})}function f(h){return p(h.trans,h.range,1e4)}function p(h,m,v){return n.query({trans:h,values:!1,query:{index:r,range:m},limit:v}).then(function(y){var x=y.result;return d({type:"delete",keys:x,trans:h}).then(function(b){return b.numFailures>0?Promise.reject(b.failures[0]):x.length<v?{failures:[],numFailures:0,lastResult:void 0}:p(h,Le(Le({},m),{lower:x[x.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function kee(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function VI(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],i=0,s=0;i<e.keys.length&&s<t.length;++i)nt(e.keys[i],t[s])===0&&(r.push(n?Ro(e.values[i]):e.values[i]),++s);return r.length===t.length?r:null}catch{return null}}var Aee={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Le(Le({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=VI(r.keys,r.trans._cache,r.cache==="clone");return i?se.resolve(i):n.getMany(r).then(function(s){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ro(s):s},s})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}};function KI(t,e){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!e.schema.primaryKey.outbound}function HI(t,e){switch(t){case"query":return e.values&&!e.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Lee={stack:"dbcore",level:0,name:"Observability",create:function(t){var e=t.schema.name,n=new Vn(t.MIN_KEY,t.MAX_KEY);return Le(Le({},t),{transaction:function(r,i,s){if(me.subscr&&i!=="readonly")throw new xe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return t.transaction(r,i,s)},table:function(r){var i=t.table(r),s=i.schema,o=s.primaryKey,a=s.indexes,l=o.extractKey,c=o.outbound,u=o.autoIncrement&&a.filter(function(h){return h.compound&&h.keyPath.includes(o.keyPath)}),d=Le(Le({},i),{mutate:function(h){var m=h.trans,v=h.mutatedParts||(h.mutatedParts={}),y=function(I){var N="idb://".concat(e,"/").concat(r,"/").concat(I);return v[N]||(v[N]=new Vn)},x=y(""),b=y(":dels"),S=h.type,w=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[_S(o,h).filter(function(I){return I}),h.values]:[],_=w[0],T=w[1],C=h.trans._cache;if(an(_)){x.addKeys(_);var k=S==="delete"||_.length===T.length?VI(_,C):null;k||b.addKeys(_),(k||T)&&Pee(y,s,k,T)}else if(_){var A={from:_.lower,to:_.upper};b.add(A),x.add(A)}else x.add(n),b.add(n),s.indexes.forEach(function(I){return y(I.name).add(n)});return i.mutate(h).then(function(I){return _&&(h.type==="add"||h.type==="put")&&(x.addKeys(I.results),u&&u.forEach(function(N){var M=h.values.map(function(O){return N.extractKey(O)}),D=N.keyPath.findIndex(function(O){return O===o.keyPath});I.results.forEach(function(O){return M[D]=O}),y(N.name).addKeys(M)})),m.mutatedParts=Mg(m.mutatedParts||{},v),I})}}),f=function(h){var m,v,y=h.query,x=y.index,b=y.range;return[x,new Vn((m=b.lower)!==null&&m!==void 0?m:t.MIN_KEY,(v=b.upper)!==null&&v!==void 0?v:t.MAX_KEY)]},p={get:function(h){return[o,new Vn(h.key)]},getMany:function(h){return[o,new Vn().addKeys(h.keys)]},count:f,query:f,openCursor:f};return bn(p).forEach(function(h){d[h]=function(m){var v=me.subscr,y=!!v,x=KI(me,i)&&HI(h,m),b=x?m.obsSet={}:v;if(y){var S=function(I){var N="idb://".concat(e,"/").concat(r,"/").concat(I);return b[N]||(b[N]=new Vn)},w=S(""),_=S(":dels"),T=p[h](m),C=T[0],k=T[1];if(h==="query"&&C.isPrimaryKey&&!m.values?_.add(k):S(C.name||"").add(k),!C.isPrimaryKey)if(h==="count")_.add(n);else{var A=h==="query"&&c&&m.values&&i.query(Le(Le({},m),{values:!1}));return i[h].apply(this,arguments).then(function(I){if(h==="query"){if(c&&m.values)return A.then(function(O){var $=O.result;return w.addKeys($),I});var N=m.values?I.result.map(l):I.result;m.values?w.addKeys(N):_.addKeys(N)}else if(h==="openCursor"){var M=I,D=m.values;return M&&Object.create(M,{key:{get:function(){return _.addKey(M.primaryKey),M.key}},primaryKey:{get:function(){var O=M.primaryKey;return _.addKey(O),O}},value:{get:function(){return D&&w.addKey(M.primaryKey),M.value}}})}return I})}}return i[h].apply(this,arguments)}}),d}})}};function Pee(t,e,n,r){function i(s){var o=t(s.name||"");function a(c){return c!=null?s.extractKey(c):null}var l=function(c){return s.multiEntry&&an(c)?c.forEach(function(u){return o.addKey(u)}):o.addKey(c)};(n||r).forEach(function(c,u){var d=n&&a(n[u]),f=r&&a(r[u]);nt(d,f)!==0&&(d!=null&&l(d),f!=null&&l(f))})}e.indexes.forEach(i)}function Sk(t,e,n){if(n.numFailures===0)return e;if(e.type==="deleteRange")return null;var r=e.keys?e.keys.length:"values"in e&&e.values?e.values.length:1;if(n.numFailures===r)return null;var i=Le({},e);return an(i.keys)&&(i.keys=i.keys.filter(function(s,o){return!(o in n.failures)})),"values"in i&&an(i.values)&&(i.values=i.values.filter(function(s,o){return!(o in n.failures)})),i}function Iee(t,e){return e.lower===void 0?!0:e.lowerOpen?nt(t,e.lower)>0:nt(t,e.lower)>=0}function Dee(t,e){return e.upper===void 0?!0:e.upperOpen?nt(t,e.upper)<0:nt(t,e.upper)<=0}function Dy(t,e){return Iee(t,e)&&Dee(t,e)}function Ek(t,e,n,r,i,s){if(!n||n.length===0)return t;var o=e.query.index,a=o.multiEntry,l=e.query.range,c=r.schema.primaryKey,u=c.extractKey,d=o.extractKey,f=(o.lowLevelIndex||o).extractKey,p=n.reduce(function(h,m){var v=h,y=m.type==="add"||m.type==="put"?m.values.filter(function(w){var _=d(w);return a&&an(_)?_.some(function(T){return Dy(T,l)}):Dy(_,l)}).map(function(w){return w=Ro(w),s&&Object.freeze(w),w}):[];switch(m.type){case"add":v=h.concat(e.values?y:y.map(function(w){return u(w)}));break;case"put":var x=new Vn().addKeys(m.values.map(function(w){return u(w)}));v=h.filter(function(w){var _=e.values?u(w):w;return!bb(new Vn(_),x)}).concat(e.values?y:y.map(function(w){return u(w)}));break;case"delete":var b=new Vn().addKeys(m.keys);v=h.filter(function(w){var _=e.values?u(w):w;return!bb(new Vn(_),b)});break;case"deleteRange":var S=m.range;v=h.filter(function(w){return!Dy(u(w),S)});break}return v},t);return p===t?t:(p.sort(function(h,m){return nt(f(h),f(m))||nt(u(h),u(m))}),e.limit&&e.limit<1/0&&(p.length>e.limit?p.length=e.limit:t.length===e.limit&&p.length<e.limit&&(i.dirty=!0)),s?Object.freeze(p):p)}function Tk(t,e){return nt(t.lower,e.lower)===0&&nt(t.upper,e.upper)===0&&!!t.lowerOpen==!!e.lowerOpen&&!!t.upperOpen==!!e.upperOpen}function Oee(t,e,n,r){if(t===void 0)return e!==void 0?-1:0;if(e===void 0)return 1;var i=nt(t,e);if(i===0){if(n&&r)return 0;if(n)return 1;if(r)return-1}return i}function Mee(t,e,n,r){if(t===void 0)return e!==void 0?1:0;if(e===void 0)return-1;var i=nt(t,e);if(i===0){if(n&&r)return 0;if(n)return-1;if(r)return 1}return i}function Nee(t,e){return Oee(t.lower,e.lower,t.lowerOpen,e.lowerOpen)<=0&&Mee(t.upper,e.upper,t.upperOpen,e.upperOpen)>=0}function Fee(t,e,n,r){var i=Ra["idb://".concat(t,"/").concat(e)];if(!i)return[];var s=i.queries[n];if(!s)return[null,!1,i,null];var o=r.query?r.query.index.name:null,a=s[o||""];if(!a)return[null,!1,i,null];switch(n){case"query":var l=a.find(function(d){return d.req.limit===r.limit&&d.req.values===r.values&&Tk(d.req.query.range,r.query.range)});if(l)return[l,!0,i,a];var c=a.find(function(d){var f="limit"in d.req?d.req.limit:1/0;return f>=r.limit&&(r.values?d.req.values:!0)&&Nee(d.req.query.range,r.query.range)});return[c,!1,i,a];case"count":var u=a.find(function(d){return Tk(d.req.query.range,r.query.range)});return[u,!!u,i,a]}}function $ee(t,e,n,r){t.subscribers.add(n),r.addEventListener("abort",function(){t.subscribers.delete(n),t.subscribers.size===0&&Bee(t,e)})}function Bee(t,e){setTimeout(function(){t.subscribers.size===0&&Xo(e,t)},3e3)}var jee={stack:"dbcore",level:0,name:"Cache",create:function(t){var e=t.schema.name,n=Le(Le({},t),{transaction:function(r,i,s){var o=t.transaction(r,i,s);if(i==="readwrite"){var a=new AbortController,l=a.signal,c=function(u){return function(){if(a.abort(),i==="readwrite"){for(var d=new Set,f=0,p=r;f<p.length;f++){var h=p[f],m=Ra["idb://".concat(e,"/").concat(h)];if(m){var v=t.table(h),y=m.optimisticOps.filter(function(D){return D.trans===o});if(o._explicit&&u&&o.mutatedParts)for(var x=0,b=Object.values(m.queries.query);x<b.length;x++)for(var S=b[x],w=0,_=S.slice();w<_.length;w++){var T=_[w];SS(T.obsSet,o.mutatedParts)&&(Xo(S,T),T.subscribers.forEach(function(D){return d.add(D)}))}else if(y.length>0){m.optimisticOps=m.optimisticOps.filter(function(D){return D.trans!==o});for(var C=0,k=Object.values(m.queries.query);C<k.length;C++)for(var S=k[C],A=0,I=S.slice();A<I.length;A++){var T=I[A];if(T.res!=null&&o.mutatedParts)if(u&&!T.dirty){var N=Object.isFrozen(T.res),M=Ek(T.res,T.req,y,v,T,N);T.dirty?(Xo(S,T),T.subscribers.forEach(function($){return d.add($)})):M!==T.res&&(T.res=M,T.promise=se.resolve({result:M}))}else T.dirty&&Xo(S,T),T.subscribers.forEach(function($){return d.add($)})}}}}d.forEach(function(D){return D()})}}};o.addEventListener("abort",c(!1),{signal:l}),o.addEventListener("error",c(!1),{signal:l}),o.addEventListener("complete",c(!0),{signal:l})}return o},table:function(r){var i=t.table(r),s=i.schema.primaryKey,o=Le(Le({},i),{mutate:function(a){var l=me.trans;if(s.outbound||l.db._options.cache==="disabled"||l.explicit)return i.mutate(a);var c=Ra["idb://".concat(e,"/").concat(r)];if(!c)return i.mutate(a);var u=i.mutate(a);return(a.type==="add"||a.type==="put")&&(a.values.length>=50||_S(s,a).some(function(d){return d==null}))?u.then(function(d){var f=Le(Le({},a),{values:a.values.map(function(h,m){var v,y=!((v=s.keyPath)===null||v===void 0)&&v.includes(".")?Ro(h):Le({},h);return wr(y,s.keyPath,d.results[m]),y})}),p=Sk(c,f,d);c.optimisticOps.push(p),queueMicrotask(function(){return a.mutatedParts&&$h(a.mutatedParts)})}):(c.optimisticOps.push(a),a.mutatedParts&&$h(a.mutatedParts),u.then(function(d){if(d.numFailures>0){Xo(c.optimisticOps,a);var f=Sk(c,a,d);f&&c.optimisticOps.push(f),a.mutatedParts&&$h(a.mutatedParts)}}),u.catch(function(){Xo(c.optimisticOps,a),a.mutatedParts&&$h(a.mutatedParts)})),u},query:function(a){var l;if(!KI(me,i)||!HI("query",a))return i.query(a);var c=((l=me.trans)===null||l===void 0?void 0:l.db._options.cache)==="immutable",u=me,d=u.requery,f=u.signal,p=Fee(e,r,"query",a),h=p[0],m=p[1],v=p[2],y=p[3];if(h&&m)h.obsSet=a.obsSet;else{var x=i.query(a).then(function(b){var S=b.result;if(h&&(h.res=S),c){for(var w=0,_=S.length;w<_;++w)Object.freeze(S[w]);Object.freeze(S)}else b.result=Ro(S);return b}).catch(function(b){return y&&h&&Xo(y,h),Promise.reject(b)});h={obsSet:a.obsSet,promise:x,subscribers:new Set,type:"query",req:a,dirty:!1},y?y.push(h):(y=[h],v||(v=Ra["idb://".concat(e,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),v.queries.query[a.query.index.name||""]=y)}return $ee(h,y,d,f),h.promise.then(function(b){return{result:Ek(b.result,a,v==null?void 0:v.optimisticOps,i,h,c)}})}});return o}});return n}};function jh(t,e){return new Proxy(t,{get:function(n,r,i){return r==="db"?e:Reflect.get(n,r,i)}})}var Qd=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=Le({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var s=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:pt,dbReadyPromise:null,cancelOpen:pt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};o.dbReadyPromise=new se(function(l){o.dbReadyResolve=l}),o.openCanceller=new se(function(l,c){o.cancelOpen=c}),this._state=o,this.name=e,this.on=Mf(this,"populate","blocked","versionchange","close",{ready:[dS,pt]}),this.on.ready.subscribe=bI(this.on.ready.subscribe,function(l){return function(c,u){t.vip(function(){var d=r._state;if(d.openComplete)d.dbOpenError||se.resolve().then(c),u&&l(c);else if(d.onReadyBeingFired)d.onReadyBeingFired.push(c),u&&l(c);else{l(c);var f=r;u||l(function p(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(p)})}})}}),this.Collection=qZ(this),this.Table=KZ(this),this.Transaction=nee(this),this.Version=yee(this),this.WhereClause=eee(this),this.on("versionchange",function(l){l.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(l){!l.newVersion||l.newVersion<l.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(l.oldVersion/10))}),this._maxKey=qd(n.IDBKeyRange),this._createTransaction=function(l,c,u,d){return new r.Transaction(l,c,u,r._options.chromeTransactionDurability,d)},this._fireOnBlocked=function(l){r.on("blocked").fire(l),Ql.filter(function(c){return c.name===r.name&&c!==r&&!c._state.vcFired}).map(function(c){return c.on("versionchange").fire(l)})},this.use(Aee),this.use(jee),this.use(Lee),this.use(Cee),this.use(Ree);var a=new Proxy(this,{get:function(l,c,u){if(c==="_vip")return!0;if(c==="table")return function(f){return jh(r.table(f),a)};var d=Reflect.get(l,c,u);return d instanceof NI?jh(d,a):c==="tables"?d.map(function(f){return jh(f,a)}):c==="_createTransaction"?function(){var f=d.apply(this,arguments);return jh(f,a)}:d}});this.vip=a,s.forEach(function(l){return l(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new xe.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new xe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(cee),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?e():new se(function(r,i){if(n._state.openComplete)return i(new xe.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen){i(new xe.DatabaseClosed);return}n.open().catch(pt)}n._state.dbReadyPromise.then(r,i)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,i=e.level,s=e.name;s&&this.unuse({stack:n,name:s});var o=this._middlewares[n]||(this._middlewares[n]=[]);return o.push({stack:n,create:r,level:i??10,name:s}),o.sort(function(a,l){return a.level-l.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,i=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(s){return i?s.create!==i:r?s.name!==r:!1})),this},t.prototype.open=function(){var e=this;return za(go,function(){return Eee(e)})},t.prototype._close=function(){var e=this._state,n=Ql.indexOf(this);if(n>=0&&Ql.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new se(function(r){e.dbReadyResolve=r}),e.openCanceller=new se(function(r,i){e.cancelOpen=i}))},t.prototype.close=function(e){var n=e===void 0?{disableAutoOpen:!0}:e,r=n.disableAutoOpen,i=this._state;r?(i.isBeingOpened&&i.cancelOpen(new xe.DatabaseClosed),this._close(),i.autoOpen=!1,i.dbOpenError=new xe.DatabaseClosed):(this._close(),i.autoOpen=this._options.autoOpen||i.isBeingOpened,i.openComplete=!1,i.dbOpenError=null)},t.prototype.delete=function(e){var n=this;e===void 0&&(e={disableAutoOpen:!0});var r=arguments.length>0&&typeof arguments[0]!="object",i=this._state;return new se(function(s,o){var a=function(){n.close(e);var l=n._deps.indexedDB.deleteDatabase(n.name);l.onsuccess=Ct(function(){wee(n._deps,n.name),s()}),l.onerror=Ei(o),l.onblocked=n._fireOnBlocked};if(r)throw new xe.InvalidArgument("Invalid closeOptions argument to db.delete()");i.isBeingOpened?i.dbReadyPromise.then(a):a()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return bn(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=Tee.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var i=this,s=me.trans;(!s||s.db!==this||e.indexOf("!")!==-1)&&(s=null);var o=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var a,l;try{if(l=n.map(function(u){var d=u instanceof i.Table?u.name:u;if(typeof d!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return d}),e=="r"||e===_y)a=_y;else if(e=="rw"||e==Cy)a=Cy;else throw new xe.InvalidArgument("Invalid transaction mode: "+e);if(s){if(s.mode===_y&&a===Cy)if(o)s=null;else throw new xe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s&&l.forEach(function(u){if(s&&s.storeNames.indexOf(u)===-1)if(o)s=null;else throw new xe.SubTransaction("Table "+u+" not included in parent transaction.")}),o&&s&&!s.active&&(s=null)}}catch(u){return s?s._promise(null,function(d,f){f(u)}):Kt(u)}var c=zI.bind(null,this,a,l,s,r);return s?s._promise(a,c,"lock"):me.trans?za(me.transless,function(){return i._whenReady(c)}):this._whenReady(c)},t.prototype.table=function(e){if(!or(this._allTables,e))throw new xe.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},t}(),Uee=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",zee=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[Uee]=function(){return this},t}(),Xm;try{Xm={indexedDB:Rn.indexedDB||Rn.mozIndexedDB||Rn.webkitIndexedDB||Rn.msIndexedDB,IDBKeyRange:Rn.IDBKeyRange||Rn.webkitIDBKeyRange}}catch{Xm={indexedDB:null,IDBKeyRange:null}}function GI(t){var e=!1,n,r=new zee(function(i){var s=lS(t);function o(y){var x=Qc();try{s&&Jc();var b=ko(t,y);return s&&(b=b.finally(Ao)),b}finally{x&&Xc()}}var a=!1,l,c={},u={},d={get closed(){return a},unsubscribe:function(){a||(a=!0,l&&l.abort(),f&&Po.storagemutated.unsubscribe(m))}};i.start&&i.start(d);var f=!1,p=function(){return Ty(v)};function h(){return SS(u,c)}var m=function(y){Mg(c,y),h()&&p()},v=function(){if(!(a||!Xm.indexedDB)){c={};var y={};l&&l.abort(),l=new AbortController;var x={subscr:y,signal:l.signal,requery:p,querier:t,trans:null},b=o(x);Promise.resolve(b).then(function(S){e=!0,n=S,!(a||x.signal.aborted)&&(c={},u=y,!vZ(u)&&!f&&(Po(Ff,m),f=!0),Ty(function(){return!a&&i.next&&i.next(S)}))},function(S){e=!1,["DatabaseClosedError","AbortError"].includes(S==null?void 0:S.name)||a||Ty(function(){a||i.error&&i.error(S)})})}};return setTimeout(p,0),d});return r.hasValue=function(){return e},r.getValue=function(){return n},r}var ta=Qd;Oc(ta,Le(Le({},Ig),{delete:function(t){var e=new ta(t,{addons:[]});return e.delete()},exists:function(t){return new ta(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return xee(ta.dependencies).then(t)}catch{return Kt(new xe.MissingAPI)}},defineClass:function(){function t(e){Cr(this,e)}return t},ignoreTransaction:function(t){return me.trans?za(me.transless,t):t()},vip:xb,async:function(t){return function(){try{var e=Sb(t.apply(this,arguments));return!e||typeof e.then!="function"?se.resolve(e):e}catch(n){return Kt(n)}}},spawn:function(t,e,n){try{var r=Sb(t.apply(n,e||[]));return!r||typeof r.then!="function"?se.resolve(r):r}catch(i){return Kt(i)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(t,e){var n=se.resolve(typeof t=="function"?ta.ignoreTransaction(t):t).timeout(e||6e4);return me.trans?me.trans.waitFor(n):n},Promise:se,debug:{get:function(){return Wi},set:function(t){kI(t)}},derive:qc,extend:Cr,props:Oc,override:bI,Events:Mf,on:Po,liveQuery:GI,extendObservabilitySet:Mg,getByKeyPath:ms,setByKeyPath:wr,delByKeyPath:pZ,shallowClone:SI,deepClone:Ro,getObjectDiff:TS,cmp:nt,asap:wI,minKey:pb,addons:[],connections:Ql,errnames:uS,dependencies:Xm,cache:Ra,semVer:hk,version:hk.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));ta.maxKey=qd(ta.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Po(Ff,function(t){if(!ro){var e;e=new CustomEvent(mb,{detail:t}),ro=!0,dispatchEvent(e),ro=!1}}),addEventListener(mb,function(t){var e=t.detail;ro||CS(e)}));function CS(t){var e=ro;try{ro=!0,Po.storagemutated.fire(t),ES(t,!0)}finally{ro=e}}var ro=!1,Hs,Eb=function(){};typeof BroadcastChannel<"u"&&(Eb=function(){Hs=new BroadcastChannel(mb),Hs.onmessage=function(t){return t.data&&CS(t.data)}},Eb(),typeof Hs.unref=="function"&&Hs.unref(),Po(Ff,function(t){ro||Hs.postMessage(t)}));typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!Qd.disableBfCache&&t.persisted){Wi&&console.debug("Dexie: handling persisted pagehide"),Hs==null||Hs.close();for(var e=0,n=Ql;e<n.length;e++){var r=n[e];r.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(t){!Qd.disableBfCache&&t.persisted&&(Wi&&console.debug("Dexie: handling persisted pageshow"),Eb(),CS({all:new Vn(-1/0,[[]])}))}));se.rejectionMapper=EZ;kI(Wi);function Vee(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var s=Te.useRef({hasResult:!1,result:i,error:null}),o=Te.useReducer(function(c){return c+1},0);o[0];var a=o[1],l=Te.useMemo(function(){var c=typeof t=="function"?t():t;if(!c||typeof c.subscribe!="function")throw t===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var u=c.subscribe(function(d){s.current.result=d,s.current.hasResult=!0});typeof u=="function"?u():u.unsubscribe()}return c},r);if(Te.useDebugValue(s.current.result),Te.useEffect(function(){var c=l.subscribe(function(u){var d=s.current;(d.error!==null||d.result!==u)&&(d.error=null,d.result=u,d.hasResult=!0,a())},function(u){var d=s.current;d.error!==u&&(d.error=u,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function WI(t,e,n){return Vee(function(){return GI(t)},e||[],n)}const Kee=({currentAudio:t,current_song:e,paused:n})=>{const r=E.useRef(0),i=E.useRef(0),s=E.useRef(!1),o=async()=>(await(await fetch("http://ip-api.com/json/")).json()).country,a=mt({mutationFn:l=>De.CountListen(l)});return E.useEffect(()=>{if(!t.current||!e)return;e.id!==i.currentSongId&&(r.current=0,i.current=0,s.current=!1,i.currentSongId=e.id);const l=()=>{if(n||s.current)return;const u=t.current.currentTime,d=u-i.current;d>0&&d<5&&(r.current+=d),i.current=u,r.current>=10&&(s.current=!0,console.log(""),o().then(f=>{a.mutate({songId:e.id,country:f})}))},c=()=>{i.current=t.current.currentTime};return t.current.addEventListener("timeupdate",l),t.current.addEventListener("pause",c),()=>{var u,d;(u=t.current)==null||u.removeEventListener("timeupdate",l),(d=t.current)==null||d.removeEventListener("pause",c)}},[e,n]),null},_k=({name:t,artist:e="",bottom:n=!1})=>{var i;const r=(i=e==null?void 0:e.primary)==null?void 0:i.map(s=>s.name).join(", ");return L("div",{className:Ii("text-container   flex flex-col justify-center overflow-hidden w-52 max-md:w-72  ",n&&"w-full max-md:select-none"),children:[g("h3",{className:Ii("text-lg text-darkTitle mt-4 text-center max-md:text-xl 1 overflow-ellipsis overflow-hidden w-full whitespace-nowrap",n&&"text-left text-base w-full max-md:text-sm"),dangerouslySetInnerHTML:{__html:`${t||""}`}}),g("p",{className:Ii("text-xs max-md:text-base  w-full text-center whitespace-nowrap  overflow-hidden text-ellipsis",n&&"text-left text-neutral-300 w-full max-md:text-xs"),children:r||""})]})},Hee=({musicCurrentTime:t,musicTotalLength:e})=>L("div",{className:"flex justify-between w-full mb-2 max-md:mb-0 max-md:mt-6  ",children:[g("p",{className:"text-xs max-md:text-sm tracking-normal",children:t}),g("p",{className:"text-xs max-md:text-sm tracking-normal",children:e})]});function $o(){return Zw(Cg)}const Gee=t=>!t||!Vi(t),Wee=Gee;function qee(t){return $e("MuiSlider",t)}const Yee=Me("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ci=Yee,Qee=t=>{const{open:e}=t;return{offset:oe(e&&ci.valueLabelOpen),circle:ci.valueLabelCircle,label:ci.valueLabelLabel}};function Xee(t){const{children:e,className:n,value:r}=t,i=Qee(t);return e?E.cloneElement(e,{className:oe(e.props.className)},L(E.Fragment,{children:[e.props.children,g("span",{className:oe(i.offset,n),"aria-hidden":!0,children:g("span",{className:i.circle,children:g("span",{className:i.label,children:r})})})]})):null}const Jee=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],Ck=(t,e,n)=>(t-e)*100/(n-e);function Rk(t){return t}const Zee=re("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${Ee(n.color)}`],n.size!=="medium"&&e[`size${Ee(n.size)}`],n.marked&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>P({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(t.vars||t).palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&P({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&P({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ci.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${ci.dragging}`]:{[`& .${ci.thumb}, & .${ci.track}`]:{transition:"none"}}})),ete=re("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>P({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),tte=re("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?Y8(t.palette[e.color].main,.62):q8(t.palette[e.color].main,.5);return P({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n,borderColor:t.vars?t.vars.palette.Slider[`${e.color}Track`]:n})}),nte=re("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${Ee(n.color)}`],n.size!=="medium"&&e[`thumbSize${Ee(n.size)}`]]}})(({theme:t,ownerState:e})=>P({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":P({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ci.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:Dt(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ci.active}`]:{boxShadow:`0px 0px 0px 14px ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.16)`:Dt(t.palette[e.color].main,.16)}`},[`&.${ci.disabled}`]:{"&:hover":{boxShadow:"none"}}})),rte=re(Xee,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>P({[`&.${ci.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},e.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),ite=re("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>tS(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:n}=t;return[e.mark,n&&e.markActive]}})(({theme:t,ownerState:e,markActive:n})=>P({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8})),ste=re("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>tS(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:n})=>P({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(t.vars||t).palette.text.primary})),ote=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:s,classes:o,color:a,size:l}=t,c={root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",a&&`color${Ee(a)}`,l&&`size${Ee(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&`thumbSize${Ee(l)}`,a&&`thumbColor${Ee(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return je(c,qee,o)},ate=({children:t})=>t,lte=E.forwardRef(function(e,n){var r,i,s,o,a,l,c,u,d,f,p,h,m,v,y,x,b,S,w,_,T,C,k,A;const I=Ue({props:e,name:"MuiSlider"}),M=$o().direction==="rtl",{"aria-label":D,"aria-valuetext":O,"aria-labelledby":$,component:W="span",components:U={},componentsProps:j={},color:B="primary",classes:H,className:q,disableSwap:ne=!1,disabled:te=!1,getAriaLabel:he,getAriaValueText:Z,marks:ve=!1,max:Pe=100,min:be=0,orientation:ze="horizontal",size:ge="medium",step:Ge=1,scale:ot=Rk,slotProps:Ve,slots:Ne,track:Zt="normal",valueLabelDisplay:wt="off",valueLabelFormat:Ye=Rk}=I,en=fe(I,Jee),Xe=P({},I,{isRtl:M,max:Pe,min:be,classes:H,disabled:te,disableSwap:ne,orientation:ze,marks:ve,color:B,size:ge,step:Ge,scale:ot,track:Zt,valueLabelDisplay:wt,valueLabelFormat:Ye}),{axisProps:gt,getRootProps:ar,getHiddenInputProps:lr,getThumbProps:K,open:X,active:ae,axis:le,focusedThumbIndex:pe,range:Q,dragging:ye,marks:Fe,values:_e,trackOffset:Ut,trackLeap:cr}=mq(P({},Xe,{ref:n}));Xe.marked=Fe.length>0&&Fe.some(Gt=>Gt.label),Xe.dragging=ye,Xe.focusedThumbIndex=pe;const un=ote(Xe),Ln=(r=(i=Ne==null?void 0:Ne.root)!=null?i:U.Root)!=null?r:Zee,_s=(s=(o=Ne==null?void 0:Ne.rail)!=null?o:U.Rail)!=null?s:ete,Wn=(a=(l=Ne==null?void 0:Ne.track)!=null?l:U.Track)!=null?a:tte,Cs=(c=(u=Ne==null?void 0:Ne.thumb)!=null?u:U.Thumb)!=null?c:nte,eu=(d=(f=Ne==null?void 0:Ne.valueLabel)!=null?f:U.ValueLabel)!=null?d:rte,Hg=(p=(h=Ne==null?void 0:Ne.mark)!=null?h:U.Mark)!=null?p:ite,Gg=(m=(v=Ne==null?void 0:Ne.markLabel)!=null?v:U.MarkLabel)!=null?m:ste,bE=(y=(x=Ne==null?void 0:Ne.input)!=null?x:U.Input)!=null?y:"input",Wg=(b=Ve==null?void 0:Ve.root)!=null?b:j.root,aD=(S=Ve==null?void 0:Ve.rail)!=null?S:j.rail,qg=(w=Ve==null?void 0:Ve.track)!=null?w:j.track,Yg=(_=Ve==null?void 0:Ve.thumb)!=null?_:j.thumb,Qg=(T=Ve==null?void 0:Ve.valueLabel)!=null?T:j.valueLabel,lD=(C=Ve==null?void 0:Ve.mark)!=null?C:j.mark,cD=(k=Ve==null?void 0:Ve.markLabel)!=null?k:j.markLabel,uD=(A=Ve==null?void 0:Ve.input)!=null?A:j.input,dD=wi({elementType:Ln,getSlotProps:ar,externalSlotProps:Wg,externalForwardedProps:en,additionalProps:P({},Wee(Ln)&&{as:W}),ownerState:P({},Xe,Wg==null?void 0:Wg.ownerState),className:[un.root,q]}),fD=wi({elementType:_s,externalSlotProps:aD,ownerState:Xe,className:un.rail}),hD=wi({elementType:Wn,externalSlotProps:qg,additionalProps:{style:P({},gt[le].offset(Ut),gt[le].leap(cr))},ownerState:P({},Xe,qg==null?void 0:qg.ownerState),className:un.track}),Xg=wi({elementType:Cs,getSlotProps:K,externalSlotProps:Yg,ownerState:P({},Xe,Yg==null?void 0:Yg.ownerState)}),pD=wi({elementType:eu,externalSlotProps:Qg,ownerState:P({},Xe,Qg==null?void 0:Qg.ownerState),className:un.valueLabel}),Jg=wi({elementType:Hg,externalSlotProps:lD,ownerState:Xe,className:un.mark}),Zg=wi({elementType:Gg,externalSlotProps:cD,ownerState:Xe}),mD=wi({elementType:bE,getSlotProps:lr,externalSlotProps:uD,ownerState:Xe});return L(Ln,P({},dD,{children:[g(_s,P({},fD)),g(Wn,P({},hD)),Fe.filter(Gt=>Gt.value>=be&&Gt.value<=Pe).map((Gt,dn)=>{const ev=Ck(Gt.value,be,Pe),Vf=gt[le].offset(ev);let qi;return Zt===!1?qi=_e.indexOf(Gt.value)!==-1:qi=Zt==="normal"&&(Q?Gt.value>=_e[0]&&Gt.value<=_e[_e.length-1]:Gt.value<=_e[0])||Zt==="inverted"&&(Q?Gt.value<=_e[0]||Gt.value>=_e[_e.length-1]:Gt.value>=_e[0]),L(E.Fragment,{children:[g(Hg,P({"data-index":dn},Jg,!Vi(Hg)&&{markActive:qi},{style:P({},Vf,Jg.style),className:oe(Jg.className,qi&&un.markActive)})),Gt.label!=null?g(Gg,P({"aria-hidden":!0,"data-index":dn},Zg,!Vi(Gg)&&{markLabelActive:qi},{style:P({},Vf,Zg.style),className:oe(un.markLabel,Zg.className,qi&&un.markLabelActive),children:Gt.label})):null]},dn)}),_e.map((Gt,dn)=>{const ev=Ck(Gt,be,Pe),Vf=gt[le].offset(ev),qi=wt==="off"?ate:eu;return g(E.Fragment,{children:g(qi,P({},!Vi(qi)&&{valueLabelFormat:Ye,valueLabelDisplay:wt,value:typeof Ye=="function"?Ye(ot(Gt),dn):Ye,index:dn,open:X===dn||ae===dn||wt==="on",disabled:te},pD,{children:g(Cs,P({"data-index":dn,"data-focusvisible":pe===dn},Xg,{className:oe(un.thumb,Xg.className,ae===dn&&un.active,pe===dn&&un.focusVisible),style:P({},Vf,{pointerEvents:ne&&ae!==dn?"none":void 0},Xg.style),children:g(bE,P({"data-index":dn,"aria-label":he?he(dn):D,"aria-valuenow":ot(Gt),"aria-labelledby":$,"aria-valuetext":Z?Z(ot(Gt),dn):O,value:_e[dn]},mD))}))}))},dn)})]}))}),cte=lte;function ute(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function dte(t){return parseFloat(t)}const fte=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},kk=fte,Ak=({value:t,onchange:e=()=>{},position:n=""})=>{const r=$o();return g(cte,{"aria-label":"time-indicator",size:"small",value:t,onChange:e,sx:{position:{position:n},color:r.palette.mode==="dark"?"#fff":"#007aff",height:4,padding:0,"& .MuiSlider-thumb":{width:8,height:8,transition:"0.3s cubic-bezier(.47,1.64,.41,.8)","&:before":{boxShadow:"0 2px 12px 0 rgba(0,0,0,0.4)"},"&:hover, &.Mui-focusVisible":{boxShadow:`0px 0px 0px 8px ${r.palette.mode==="dark"?"rgb(255 255 255 / 16%)":"rgb(0 0 0 / 16%)"}`},"&.Mui-active":{width:20,height:20}},"& .MuiSlider-rail":{opacity:.28},"&.css-1v8m7un-MuiSlider-root":{}}})};function Tb(t,e){return Tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tb(t,e)}function qI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Tb(t,e)}const Lk={disabled:!1},Jm=Te.createContext(null);var hte=function(e){return e.scrollTop},Mu="unmounted",Jo="exited",Zo="entering",xl="entered",_b="exiting",Ts=function(t){qI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Jo,s.appearStatus=Zo):l=xl:r.unmountOnExit||r.mountOnEnter?l=Mu:l=Jo,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Mu?{status:Jo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Zo&&o!==xl&&(s=Zo):(o===Zo||o===xl)&&(s=_b)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Zo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:lh.findDOMNode(this);o&&hte(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jo&&this.setState({status:Mu})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[lh.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Lk.disabled){this.safeSetState({status:xl},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Zo},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:xl},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:lh.findDOMNode(this);if(!s||Lk.disabled){this.safeSetState({status:Jo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:_b},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Jo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:lh.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Mu)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=fe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Te.createElement(Jm.Provider,{value:null},typeof o=="function"?o(i,a):Te.cloneElement(Te.Children.only(o),a))},e}(Te.Component);Ts.contextType=Jm;Ts.propTypes={};function gl(){}Ts.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gl,onEntering:gl,onEntered:gl,onExit:gl,onExiting:gl,onExited:gl};Ts.UNMOUNTED=Mu;Ts.EXITED=Jo;Ts.ENTERING=Zo;Ts.ENTERED=xl;Ts.EXITING=_b;const RS=Ts;function pte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kS(t,e){var n=function(s){return e&&E.isValidElement(s)?e(s):s},r=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function mte(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function ua(t,e,n){return n[e]!=null?n[e]:t.props[e]}function gte(t,e){return kS(t.children,function(n){return E.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ua(n,"appear",t),enter:ua(n,"enter",t),exit:ua(n,"exit",t)})})}function vte(t,e,n){var r=kS(t.children),i=mte(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(E.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=E.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ua(o,"exit",t),enter:ua(o,"enter",t)}):!l&&a&&!u?i[s]=E.cloneElement(o,{in:!1}):l&&a&&E.isValidElement(c)&&(i[s]=E.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:ua(o,"exit",t),enter:ua(o,"enter",t)}))}}),i}var yte=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},xte={component:"div",childFactory:function(e){return e}},AS=function(t){qI(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(pte(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?gte(i,a):vte(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=kS(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=P({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=fe(i,["component","childFactory"]),l=this.state.contextValue,c=yte(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Te.createElement(Jm.Provider,{value:l},c):Te.createElement(Jm.Provider,{value:l},Te.createElement(s,a,c))},e}(Te.Component);AS.propTypes={};AS.defaultProps=xte;const bte=AS;function wte(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=E.useState(!1),f=oe(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},h=oe(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),E.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,c);return()=>{clearTimeout(m)}}},[l,a,c]),g("span",{className:f,style:p,children:g("span",{className:h})})}const Ste=Me("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),jr=Ste,Ete=["center","classes","className"];let Ng=t=>t,Pk,Ik,Dk,Ok;const Cb=550,Tte=80,_te=Lf(Pk||(Pk=Ng`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Cte=Lf(Ik||(Ik=Ng`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Rte=Lf(Dk||(Dk=Ng`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),kte=re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ate=re(wte,{name:"MuiTouchRipple",slot:"Ripple"})(Ok||(Ok=Ng`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),jr.rippleVisible,_te,Cb,({theme:t})=>t.transitions.easing.easeInOut,jr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,jr.child,jr.childLeaving,Cte,Cb,({theme:t})=>t.transitions.easing.easeInOut,jr.childPulsate,Rte,({theme:t})=>t.transitions.easing.easeInOut),Lte=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=fe(r,Ete),[l,c]=E.useState([]),u=E.useRef(0),d=E.useRef(null);E.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=E.useRef(!1),p=E.useRef(null),h=E.useRef(null),m=E.useRef(null);E.useEffect(()=>()=>{clearTimeout(p.current)},[]);const v=E.useCallback(S=>{const{pulsate:w,rippleX:_,rippleY:T,rippleSize:C,cb:k}=S;c(A=>[...A,g(Ate,{classes:{ripple:oe(s.ripple,jr.ripple),rippleVisible:oe(s.rippleVisible,jr.rippleVisible),ripplePulsate:oe(s.ripplePulsate,jr.ripplePulsate),child:oe(s.child,jr.child),childLeaving:oe(s.childLeaving,jr.childLeaving),childPulsate:oe(s.childPulsate,jr.childPulsate)},timeout:Cb,pulsate:w,rippleX:_,rippleY:T,rippleSize:C},u.current)]),u.current+=1,d.current=k},[s]),y=E.useCallback((S={},w={},_=()=>{})=>{const{pulsate:T=!1,center:C=i||w.pulsate,fakeElement:k=!1}=w;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const A=k?null:m.current,I=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,M,D;if(C||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)N=Math.round(I.width/2),M=Math.round(I.height/2);else{const{clientX:O,clientY:$}=S.touches&&S.touches.length>0?S.touches[0]:S;N=Math.round(O-I.left),M=Math.round($-I.top)}if(C)D=Math.sqrt((2*I.width**2+I.height**2)/3),D%2===0&&(D+=1);else{const O=Math.max(Math.abs((A?A.clientWidth:0)-N),N)*2+2,$=Math.max(Math.abs((A?A.clientHeight:0)-M),M)*2+2;D=Math.sqrt(O**2+$**2)}S!=null&&S.touches?h.current===null&&(h.current=()=>{v({pulsate:T,rippleX:N,rippleY:M,rippleSize:D,cb:_})},p.current=setTimeout(()=>{h.current&&(h.current(),h.current=null)},Tte)):v({pulsate:T,rippleX:N,rippleY:M,rippleSize:D,cb:_})},[i,v]),x=E.useCallback(()=>{y({},{pulsate:!0})},[y]),b=E.useCallback((S,w)=>{if(clearTimeout(p.current),(S==null?void 0:S.type)==="touchend"&&h.current){h.current(),h.current=null,p.current=setTimeout(()=>{b(S,w)});return}h.current=null,c(_=>_.length>0?_.slice(1):_),d.current=w},[]);return E.useImperativeHandle(n,()=>({pulsate:x,start:y,stop:b}),[x,y,b]),g(kte,P({className:oe(jr.root,s.root,o),ref:m},a,{children:g(bte,{component:null,exit:!0,children:l})}))}),Pte=Lte;function Ite(t){return $e("MuiButtonBase",t)}const Dte=Me("MuiButtonBase",["root","disabled","focusVisible"]),Ote=Dte,Mte=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Nte=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=je({root:["root",e&&"disabled",n&&"focusVisible"]},Ite,i);return n&&r&&(o.root+=` ${r}`),o},Fte=re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ote.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$te=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:h,onClick:m,onContextMenu:v,onDragLeave:y,onFocus:x,onFocusVisible:b,onKeyDown:S,onKeyUp:w,onMouseDown:_,onMouseLeave:T,onMouseUp:C,onTouchEnd:k,onTouchMove:A,onTouchStart:I,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:D,type:O}=r,$=fe(r,Mte),W=E.useRef(null),U=E.useRef(null),j=Ht(U,D),{isFocusVisibleRef:B,onFocus:H,onBlur:q,ref:ne}=Fw(),[te,he]=E.useState(!1);c&&te&&he(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),W.current.focus()}}),[]);const[Z,ve]=E.useState(!1);E.useEffect(()=>{ve(!0)},[]);const Pe=Z&&!u&&!c;E.useEffect(()=>{te&&f&&!u&&Z&&U.current.pulsate()},[u,f,te,Z]);function be(Q,ye,Fe=d){return $i(_e=>(ye&&ye(_e),!Fe&&U.current&&U.current[Q](_e),!0))}const ze=be("start",_),ge=be("stop",v),Ge=be("stop",y),ot=be("stop",C),Ve=be("stop",Q=>{te&&Q.preventDefault(),T&&T(Q)}),Ne=be("start",I),Zt=be("stop",k),wt=be("stop",A),Ye=be("stop",Q=>{q(Q),B.current===!1&&he(!1),h&&h(Q)},!1),en=$i(Q=>{W.current||(W.current=Q.currentTarget),H(Q),B.current===!0&&(he(!0),b&&b(Q)),x&&x(Q)}),Xe=()=>{const Q=W.current;return l&&l!=="button"&&!(Q.tagName==="A"&&Q.href)},gt=E.useRef(!1),ar=$i(Q=>{f&&!gt.current&&te&&U.current&&Q.key===" "&&(gt.current=!0,U.current.stop(Q,()=>{U.current.start(Q)})),Q.target===Q.currentTarget&&Xe()&&Q.key===" "&&Q.preventDefault(),S&&S(Q),Q.target===Q.currentTarget&&Xe()&&Q.key==="Enter"&&!c&&(Q.preventDefault(),m&&m(Q))}),lr=$i(Q=>{f&&Q.key===" "&&U.current&&te&&!Q.defaultPrevented&&(gt.current=!1,U.current.stop(Q,()=>{U.current.pulsate(Q)})),w&&w(Q),m&&Q.target===Q.currentTarget&&Xe()&&Q.key===" "&&!Q.defaultPrevented&&m(Q)});let K=l;K==="button"&&($.href||$.to)&&(K=p);const X={};K==="button"?(X.type=O===void 0?"button":O,X.disabled=c):(!$.href&&!$.to&&(X.role="button"),c&&(X["aria-disabled"]=c));const ae=Ht(n,ne,W),le=P({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:N,focusVisible:te}),pe=Nte(le);return L(Fte,P({as:K,className:oe(pe.root,a),ownerState:le,onBlur:Ye,onClick:m,onContextMenu:ge,onFocus:en,onKeyDown:ar,onKeyUp:lr,onMouseDown:ze,onMouseLeave:Ve,onMouseUp:ot,onDragLeave:Ge,onTouchEnd:Zt,onTouchMove:wt,onTouchStart:Ne,ref:ae,tabIndex:c?-1:N,type:O},X,$,{children:[o,Pe?g(Pte,P({ref:j,center:s},M)):null]}))}),Zc=$te;function Bte(t){return $e("MuiIconButton",t)}const jte=Me("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Ute=jte,zte=["edge","children","className","color","disabled","disableFocusRipple","size"],Vte=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${Ee(r)}`,i&&`edge${Ee(i)}`,`size${Ee(s)}`]};return je(o,Bte,e)},Kte=re(Zc,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ee(n.color)}`],n.edge&&e[`edge${Ee(n.edge)}`],e[`size${Ee(n.size)}`]]}})(({theme:t,ownerState:e})=>P({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return P({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&P({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":P({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Ute.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Hte=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=fe(r,zte),f=P({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=Vte(f);return g(Kte,P({className:oe(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},d,{children:s}))}),Bo=Hte;var LS={},Gte=Qe;Object.defineProperty(LS,"__esModule",{value:!0});var PS=LS.default=void 0,Wte=Gte(it()),qte=st,Yte=(0,Wte.default)((0,qte.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");PS=LS.default=Yte;var IS={},Qte=Qe;Object.defineProperty(IS,"__esModule",{value:!0});var YI=IS.default=void 0,Xte=Qte(it()),Jte=st,Zte=(0,Xte.default)((0,Jte.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");YI=IS.default=Zte;const ene=E.memo(({songId:t})=>{const e=He(l=>l.user),{data:n=!1,refetch:r}=bt({queryKey:["isLiked",t,e.islogged],queryFn:async()=>e.islogged?await De.isTrackLiked(t):!1,enabled:!!t}),{data:i=0,refetch:s}=bt({queryKey:["likeCount",t],queryFn:async()=>await De.getLikeCount(t),enabled:!!t}),o=mt({mutationFn:()=>n?De.removeLike(t):De.addLike(t),onSuccess:()=>{r(),s()},onError:l=>{console.error("Like toggle error:",l),ke.error("Something went wrong")}});return L("div",{className:"flex items-center space-x-1",onClick:()=>{e.islogged?o.mutate():ke.error("Please login to like this song")},children:[n?g(PS,{className:"text-red-600",sx:{fontSize:25}}):g(YI,{className:"text-neutral-400",sx:{fontSize:25}}),g("span",{className:"text-sm text-neutral-400",children:i})]})}),QI=()=>{const{playingSongId:t}=He(e=>e.player);return g(Bo,{sx:{marginRight:"10px"},"aria-label":"favsong",children:g(ene,{songId:t||""})})},tne=({songId:t})=>{const{data:e=0}=bt({queryKey:["listenCount",t],queryFn:async()=>await De.getListenCount(t),enabled:!!t});return console.log(e),L("div",{className:"flex items-center space-x-1",children:[g(BX,{}),g("span",{className:"text-sm text-neutral-400",children:e})]})};var DS={},nne=Qe;Object.defineProperty(DS,"__esModule",{value:!0});var XI=DS.default=void 0,rne=nne(it()),ine=st,sne=(0,rne.default)((0,ine.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}),"Repeat");XI=DS.default=sne;var OS={},one=Qe;Object.defineProperty(OS,"__esModule",{value:!0});var JI=OS.default=void 0,ane=one(it()),lne=st,cne=(0,ane.default)((0,lne.jsx)("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"}),"RepeatOne");JI=OS.default=cne;const ZI=()=>{const{repeat:t}=He(n=>n.player),e=Pr();return g(Bo,{sx:{":hover":{bgcolor:"#2a2a2abf"},marginLeft:"10px"},onClick:()=>e(aZ()),children:t?g(JI,{fontSize:"2rem",htmlColor:"#8e9196"}):g(XI,{fontSize:"2rem",htmlColor:"#8e9196"})})};var MS={},une=Qe;Object.defineProperty(MS,"__esModule",{value:!0});var e6=MS.default=void 0,dne=une(it()),fne=st,hne=(0,dne.default)((0,fne.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"ReplyOutlined");e6=MS.default=hne;const pne=E.memo(({songId:t})=>{const e=He(l=>l.user),{data:n=!1,refetch:r}=bt({queryKey:["isReposted",t,e.islogged],queryFn:async()=>e.islogged?await De.isTrackReposted(t):!1,enabled:!!t}),{data:i=0,refetch:s}=bt({queryKey:["repostCount",t],queryFn:async()=>await De.getRepostCount(t),enabled:!!t}),o=mt({mutationFn:()=>n?De.removeRepost(t):De.addRepost(t),onSuccess:()=>{r(),s()},onError:l=>{console.error("Repost toggle error:",l),ke.error("Something went wrong")}});return L("div",{className:"flex items-center space-x-1",onClick:()=>{e.islogged?o.mutate():ke.error("Please login to repost this song")},children:[g(e6,{className:n?"text-blue-500":"text-neutral-400",sx:{fontSize:25,transform:"scaleX(-1)"}}),g("span",{className:"text-sm text-neutral-400",children:i})]})}),mne=()=>{const{playingSongId:t}=He(e=>e.player);return g(Bo,{sx:{marginRight:"10px"},"aria-label":"repostsong",children:g(pne,{songId:t||""})})};var NS={},gne=Qe;Object.defineProperty(NS,"__esModule",{value:!0});var t6=NS.default=void 0,vne=gne(it()),yne=st,xne=(0,vne.default)((0,yne.jsx)("path",{d:"m5.58 16.89 5.77-4.07c.56-.4.56-1.24 0-1.63L5.58 7.11C4.91 6.65 4 7.12 4 7.93v8.14c0 .81.91 1.28 1.58.82zM13 7.93v8.14c0 .81.91 1.28 1.58.82l5.77-4.07c.56-.4.56-1.24 0-1.63l-5.77-4.07c-.67-.47-1.58 0-1.58.81z"}),"FastForwardRounded");t6=NS.default=xne;const FS=()=>{const t=Pr(),{repeat:e,upcomingSongs:n,playingSongId:r}=He(o=>o.player);return{PlayNext:()=>{if(n.length>0){let o=n.findIndex(a=>a.id===r);o!==-1&&o!==n.length-1&&t(ib({id:n[o+1].id}))}},PlayPrevious:()=>{if(n.length>0){let o=n.findIndex(a=>a.id===r);o!==-1&&o!==0&&t(ib({id:n[o-1].id}))}}}},n6=({fill:t="#8e9196",hover:e="#2a2a2abf"})=>{const{PlayNext:n}=FS();return g(Bo,{sx:{":hover":{bgcolor:e}},"aria-label":"nextsong",onClick:()=>n(),children:g(t6,{fontSize:"2rem",htmlColor:t})})};var $S={},bne=Qe;Object.defineProperty($S,"__esModule",{value:!0});var r6=$S.default=void 0,wne=bne(it()),Sne=st,Ene=(0,wne.default)((0,Sne.jsx)("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"}),"PlayArrowRounded");r6=$S.default=Ene;var BS={},Tne=Qe;Object.defineProperty(BS,"__esModule",{value:!0});var i6=BS.default=void 0,_ne=Tne(it()),Cne=st,Rne=(0,_ne.default)((0,Cne.jsx)("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"}),"PauseRounded");i6=BS.default=Rne;const Mk=({paused:t,handleAudioPlay:e,fill:n="#8e9196",bg:r="",font:i="3rem"})=>g(Bo,{sx:{":hover":{bgcolor:"#2a2a2abf"},bgcolor:r},"aria-label":t?"play":"pause",onClick:e,children:t?g(r6,{sx:{fontSize:i},htmlColor:n}):g(i6,{sx:{fontSize:i},htmlColor:n})});var jS={},kne=Qe;Object.defineProperty(jS,"__esModule",{value:!0});var s6=jS.default=void 0,Ane=kne(it()),Lne=st,Pne=(0,Ane.default)((0,Lne.jsx)("path",{d:"M11 16.07V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.56.4-.56 1.24 0 1.63l5.77 4.07c.67.47 1.58 0 1.58-.81zm1.66-3.25 5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),"FastRewindRounded");s6=jS.default=Pne;const o6=({fill:t="#8e9196",hover:e="#2a2a2abf"})=>{const{PlayPrevious:n}=FS();return g(Bo,{"aria-label":"previous song",onClick:()=>n(),sx:{":hover":{bgcolor:e}},children:g(s6,{fontSize:"2rem",htmlColor:t})})},Ine=E.createContext({}),Hi=Ine;function Dne(t){return $e("MuiListItemButton",t)}const One=Me("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),bl=One,Mne=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Nne=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Fne=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:o,selected:a}=t,c=je({root:["root",r&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Dne,n);return P({},n,c)},$ne=re(Zc,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Nne})(({theme:t,ownerState:e})=>P({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${bl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${bl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${bl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${bl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Bne=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:f=!1,className:p}=r,h=fe(r,Mne),m=E.useContext(Hi),v=E.useMemo(()=>({dense:l||m.dense||!1,alignItems:i,disableGutters:c}),[i,m.dense,l,c]),y=E.useRef(null);hi(()=>{s&&y.current&&y.current.focus()},[s]);const x=P({},r,{alignItems:i,dense:v.dense,disableGutters:c,divider:u,selected:f}),b=Fne(x),S=Ht(y,n);return g(Hi.Provider,{value:v,children:g($ne,P({ref:S,href:h.href||h.to,component:(h.href||h.to)&&o==="div"?"a":o,focusVisibleClassName:oe(b.focusVisible,d),ownerState:x,className:oe(b.root,p)},h,{classes:b,children:a}))})}),Qr=Bne;var US={},jne=Qe;Object.defineProperty(US,"__esModule",{value:!0});var a6=US.default=void 0,Une=jne(it()),zne=st,Vne=(0,Une.default)((0,zne.jsx)("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"}),"MusicNote");a6=US.default=Vne;const Kne=({})=>{const{upcomingSongs:t}=He(n=>n.player),e=Pr();return g("div",{children:t&&t.map((n,r)=>L(Qr,{sx:[{display:"grid",borderRadius:2,gridTemplateColumns:"max-content 1fr max-content",overflow:"hidden",padding:1},i=>({"&:hover":{backgroundColor:"#1d242ca3"},[i.breakpoints.down("sm")]:{paddingLeft:1,paddingRight:"3px"}})],"data-id":n.id,onClick:()=>e(ib({id:n.id})),children:[g("div",{className:"bg-neutral-700 p-1 rounded-md",children:g(a6,{})}),L("div",{className:"ml-2 overflow-hidden max-md:w-1/2 max-xxs:w-1/3",children:[g("h3",{className:"text-slate-200 max-md:font-medium text-sm  whitespace-nowrap text-ellipsis overflow-hidden w-[90%] max-xxs:w-2/4",dangerouslySetInnerHTML:{__html:`${n.name||n.title}`}}),g("p",{className:"text-xs max-md:text-[10px] ml-2 opacity-90 mt-[2px] max-w-xs  overflow-hidden whitespace-nowrap text-ellipsis text-darkTextColor tracking-wide",dangerouslySetInnerHTML:{__html:`${n.primaryArtists}`}})]}),g("div",{className:" max-md:mr-1 max-md:ml-8 max-md:hidden",children:n.duration&&g("div",{className:"text-slate-200 text-xs opacity-70",children:cW(n.duration)})})]},r))})},Hne=({setShowUpNext:t})=>L(Lr.section,{initial:{y:"100%"},animate:{y:"0",transition:{ease:"easeInOut"}},exit:{y:"100%",transition:{ease:"easeInOut"}},className:`bg-neutral-800  bg-opacity-70 max-md:bottom-0 pb-4 z-[55] backdrop-blur-md absolute
px-1 rounded-xl w-full`,children:[g("div",{onClick:()=>t(e=>!e),className:" cursor-pointer pt-3",children:g("div",{className:"bg-neutral-400 w-10 h-1 rounded-xl mx-auto mb-2 cursor-pointer"})}),g("div",{className:"overflow-auto h-96",children:g(Kne,{})})]}),Gne=({current_song:t,setPaused:e,currentAudio:n})=>{const{repeat:r,upcomingSongs:i}=He(v=>v.player),{PlayNext:s}=FS(),[o,a]=E.useState("00:00"),[l,c]=E.useState("00:00"),[u,d]=E.useState(0),[f,p]=E.useState(!1);E.useEffect(()=>{p(!0)},[]);const h=()=>{var T,C;if(!n.current)return console.log("No audio");n.current.currentTime===n.current.duration&&(r?(T=n.current)==null||T.play():i.length>0?s():e(!0)),(C=n.current)!=null&&C.paused?e(!0):e(!1);let v=Math.floor(n.current.duration/60),y=Math.floor(n.current.duration%60),x=`${v<10?`0${v}`:v}:${y<10?`0:${y}`:y}`;a(x);let b=Math.floor(n.current.currentTime/60),S=Math.floor(n.current.currentTime%60),w=`${b<10?`0${b}`:b}:${S<10?`0${S}`:S}`;c(w);const _=parseInt(n.current.currentTime/n.current.duration*100);d(isNaN(_)?0:_)},m=v=>{if(!n.current)return console.log("No audio");d(v.target.value),n.current.currentTime=v.target.value*n.current.duration/100};return L("div",{className:"w-full",children:[g("audio",{src:v8(t),ref:n,onTimeUpdate:h,onLoadedData:()=>{n.current.play()},id:"myAudio"}),g(Hee,{musicCurrentTime:l,musicTotalLength:o}),g(Ak,{value:u,onchange:m}),f&&li.createPortal(g("div",{children:g(Ak,{value:u,position:"absolute",onchange:m})}),document.getElementById("bottom-audio-player"))]})},Nk=({height:t=150,width:e=150,rest:n})=>L("svg",{height:t,width:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 511.696 511.696",xmlSpace:"preserve",...n,children:[g("g",{strokeWidth:0}),g("g",{strokeLinecap:"round",strokeLinejoin:"round"}),g("path",{d:"M281.372 230.332c-6.816-6.824-15.884-10.58-25.524-10.58s-18.708 3.756-25.524 10.58c-6.82 6.812-10.576 15.884-10.576 25.524s3.752 18.704 10.576 25.524c6.816 6.82 15.884 10.572 25.524 10.572s18.708-3.752 25.524-10.572c6.82-6.82 10.576-15.884 10.576-25.524s-3.752-18.712-10.576-25.524m-17.088 33.952a11.86 11.86 0 0 1-8.436 3.496c-3.188 0-6.18-1.244-8.432-3.496a11.84 11.84 0 0 1-3.496-8.432c0-3.188 1.24-6.188 3.496-8.436a11.84 11.84 0 0 1 8.432-3.496c3.184 0 6.184 1.24 8.436 3.496a11.85 11.85 0 0 1 3.496 8.436c0 3.184-1.24 6.18-3.496 8.432"}),g("path",{d:"M255.848 0C114.772 0 0 114.772 0 255.852c0 141.072 114.772 255.844 255.848 255.844s255.848-114.772 255.848-255.844C511.696 114.772 396.924 0 255.848 0m42.496 298.344c-11.352 11.352-26.44 17.6-42.496 17.6s-31.144-6.248-42.496-17.6c-23.432-23.428-23.432-61.556 0-84.992 11.352-11.352 26.44-17.6 42.496-17.6s31.144 6.248 42.496 17.6c23.432 23.436 23.432 61.564 0 84.992"})]}),Wne=()=>{const{playingSongId:t}=He(w=>w.player),e=WI(()=>Zd.songs.toArray(),[]),n=Pr(),r=He(w=>w.user),[i,s]=E.useState(!1),[o,a]=E.useState(!0),[l,c]=E.useState(!1),u=E.useRef(),d=E.useRef(null),[f,p]=E.useState(null),[h,m]=E.useState(null),v=eI({onSwiped:w=>console.log("User Swiped!",w),onSwipedUp:w=>{s(_=>!_)}}),y=mt({mutationFn:w=>Bt.addRecentSong(w)}),x=mt({mutationFn:w=>De.SingleSong(w),onSuccess:w=>{p(w)}}),b=mt({mutationFn:w=>De.SingleArtist(w)});mt({mutationFn:w=>De.GetM3U8File(w)}),E.useEffect(()=>{if(navigator.onLine)x.mutate(t);else{if(!e)return;const _=e.filter(T=>T.id===t).map(T=>({...T,url:URL.createObjectURL(T.url),image:[{url:URL.createObjectURL(T.image)}]}));p(_[0])}},[t,e]),E.useEffect(()=>{f!=null&&f.id&&r.islogged&&y.mutate(f.id)},[f]),E.useEffect(()=>{f!=null&&f.artistId&&b.mutate(f.artistId,{onSuccess:w=>m(w)})},[f==null?void 0:f.artistId]),E.useEffect(()=>{f&&(ds.isSupported()?(d.current&&d.current.destroy(),d.current=new ds,d.current.loadSource(`http://localhost:11000/songs/${f.id}`),d.current.attachMedia(u.current),d.current.on(ds.Events.MANIFEST_PARSED,()=>{u.current.pause(),a(!0)})):u.current.canPlayType("application/vnd.apple.mpegurl")&&(u.current.src=`http://localhost:11000/songs/${f.id}`,u.current.pause(),a(!0)))},[f]);const S=()=>{if(!f)return console.log("No audio");u.current.paused?(console.log(h),u.current.play(),a(!1)):(u.current.pause(),a(!0))};return L("div",{className:" px-7 py-2  max-md:rounded-none mt-5 max-md:mt-0 relative boss max-md:h-full ",children:[g(Kee,{currentAudio:u,current_song:f,paused:o}),g("img",{src:_p(f),alt:"background",className:`absolute inset-0 -z-40 h-full  object-cover opacity-20 blur-md rounded-lg
    `}),L("section",{className:"flex flex-col items-center gap-1 max-md:mt-10 ",children:[L("div",{className:"flex",children:[g("button",{onClick:()=>{n(aS())},className:"w-fit -translate-x-4",children:g(FX,{})}),g(_k,{name:(f==null?void 0:f.title)||"",artist:(h==null?void 0:h.username)||[]})]}),f?g("img",{src:_p(f||""),alt:"song Avatar",onClick:()=>c(w=>!w),className:"h-32 w-32  max-md:h-full max-md:w-72  transition-all ease-linear duration-500 cursor-pointer object-cover mt-4 "+(l?"rounded-[15%]":" rounded-[100%]")}):g(Nk,{}),u.current&&li.createPortal(g(Oi,{children:f?g("img",{src:_p(f),alt:"song Avatar",onClick:()=>c(w=>!w),className:"size-14 max-md:h-full max-md:w-72  transition-all ease-linear duration-500 cursor-pointer object-cover mt-4 "+(l?"rounded-[15%]":" rounded-[100%]")}):g("div",{className:" p-2 bg-neutral-700 rounded-md my-2 max-md:w-[67px]",children:g(Nk,{width:50,height:50})})}),document.getElementById("song-image")),u.current&&li.createPortal(g(Oi,{children:g(_k,{name:(f==null?void 0:f.title)||"",artist:(h==null?void 0:h.username)||"",bottom:!0})}),document.getElementById("song-header")),u.current&&li.createPortal(g(Oi,{children:g(VR,{songId:(f==null?void 0:f.id)||""})}),document.getElementById("song-downloader")),g(Gne,{current_song:f||"",setPaused:a,currentAudio:u}),L("div",{className:"mt-1 max-md:scale-125 max-md:mt-10   max-md:space-x-2",children:[g(QI,{}),g(o6,{}),g(Mk,{paused:o,handleAudioPlay:S}),u.current&&li.createPortal(g(Oi,{children:g(Mk,{paused:o,handleAudioPlay:S,fill:"#dadada",bg:"#121010",font:"2rem"})}),document.getElementById("play-pause")),g(n6,{}),g(ZI,{})]}),g("div",{className:" w-full flex justify-end max-md:mr-10",children:g(VR,{songId:(f==null?void 0:f.id)||""})}),g("button",{...v,onClick:()=>s(w=>!w),className:"mt-0  w-full min-h-24  max-md:mt-16 max-md:text-xl",children:"up Next"}),i&&g("div",{className:" fixed  max bg-black inset-0 bg-opacity-20",onClick:()=>s(!1)}),g(Fa,{children:i&&g(Hne,{setShowUpNext:s})})]})]})};var l6={},Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});Fg.calculateRgba=void 0;var Zm;(function(t){t.maroon="#800000",t.red="#FF0000",t.orange="#FFA500",t.yellow="#FFFF00",t.olive="#808000",t.green="#008000",t.purple="#800080",t.fuchsia="#FF00FF",t.lime="#00FF00",t.teal="#008080",t.aqua="#00FFFF",t.blue="#0000FF",t.navy="#000080",t.black="#000000",t.gray="#808080",t.silver="#C0C0C0",t.white="#FFFFFF"})(Zm||(Zm={}));var qne=function(t,e){if(Object.keys(Zm).includes(t)&&(t=Zm[t]),t[0]==="#"&&(t=t.slice(1)),t.length===3){var n="";t.split("").forEach(function(i){n+=i,n+=i}),t=n}var r=(t.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba(".concat(r,", ").concat(e,")")};Fg.calculateRgba=qne;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.cssValue=Ka.parseLengthAndUnit=void 0;var Yne={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function c6(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return Yne[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}Ka.parseLengthAndUnit=c6;function Qne(t){var e=c6(t);return"".concat(e.value).concat(e.unit)}Ka.cssValue=Qne;var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.createAnimation=void 0;var Xne=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r};$f.createAnimation=Xne;var e0=Xt&&Xt.__assign||function(){return e0=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},e0.apply(this,arguments)},Jne=Xt&&Xt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Zne=Xt&&Xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ere=Xt&&Xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Jne(e,t,n);return Zne(e,t),e},tre=Xt&&Xt.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(l6,"__esModule",{value:!0});var Oy=ere(E),nre=Fg,bu=Ka,Fk=$f;function rre(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,u=c===void 0?50:c,d=tre(t,["loading","color","speedMultiplier","cssOverride","size"]),f=(0,bu.parseLengthAndUnit)(u),p=f.value,h=f.unit,m=e0({display:"inherit",position:"relative",width:(0,bu.cssValue)(u),height:(0,bu.cssValue)(u),transform:"rotate(165deg)"},l),v=p/5,y=(p-v)/2,x=y-v,b=(0,nre.calculateRgba)(i,.75),S=(0,Fk.createAnimation)("HashLoader","0% {width: ".concat(v,"px; box-shadow: ").concat(y,"px ").concat(-x,"px ").concat(b,", ").concat(-y,"px ").concat(x,"px ").concat(b,`}
    35% {width: `).concat((0,bu.cssValue)(u),"; box-shadow: 0 ").concat(-x,"px ").concat(b,", 0 ").concat(x,"px ").concat(b,`}
    70% {width: `).concat(v,"px; box-shadow: ").concat(-y,"px ").concat(-x,"px ").concat(b,", ").concat(y,"px ").concat(x,"px ").concat(b,`}
    100% {box-shadow: `).concat(y,"px ").concat(-x,"px ").concat(b,", ").concat(-y,"px ").concat(x,"px ").concat(b,"}"),"before"),w=(0,Fk.createAnimation)("HashLoader","0% {height: ".concat(v,"px; box-shadow: ").concat(x,"px ").concat(y,"px ").concat(i,", ").concat(-x,"px ").concat(-y,"px ").concat(i,`}
    35% {height: `).concat((0,bu.cssValue)(u),"; box-shadow: ").concat(x,"px 0 ").concat(i,", ").concat(-x,"px 0 ").concat(i,`}
    70% {height: `).concat(v,"px; box-shadow: ").concat(x,"px ").concat(-y,"px ").concat(i,", ").concat(-x,"px ").concat(y,"px ").concat(i,`}
    100% {box-shadow: `).concat(x,"px ").concat(y,"px ").concat(i,", ").concat(-x,"px ").concat(-y,"px ").concat(i,"}"),"after"),_=function(T){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(p/5).concat(h),height:"".concat(p/5).concat(h),borderRadius:"".concat(p/10).concat(h),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(T===1?S:w," ").concat(2/o,"s infinite")}};return n?Oy.createElement("span",e0({style:m},d),Oy.createElement("span",{style:_(1)}),Oy.createElement("span",{style:_(2)})):null}var ire=l6.default=rre;const Jr=({size:t=40})=>g("div",{className:"w-fit",children:g(ire,{size:t,color:"#2764eb"})}),sre=({image:t,id:e,name:n,type:r="album"})=>L("div",{children:[g("div",{className:"relative w-28 h-36 group rounded-lg",children:g(Qt,{to:`/${r}/${e}`,className:"absolute flex z-20 opacity-0 rounded-lg group-hover:opacity-100 duration-200 transition-all inset-0 w-full items-center justify-center bg-[#4c4c4c68] text-3xl cursor-pointer"})}),g("h4",{className:"whitespace-nowrap overflow-hidden text-ellipsis w-28 text-darkSongname text-sm mt-2 px-1",title:n,dangerouslySetInnerHTML:{__html:`${n}`}})]}),ore=()=>{const{showRightSidebar:t}=He(n=>n.player),e=Pr();return L("section",{className:Ii("bg-lightBlue text-darkTextColor z-50 h-full fixed will-change-transform  max-md:p-0 md:top-0  max-md:bottom-0 py-10 transition-all duration-300 ease-in px-10 ",t?"w-96 max-md:w-full right-0  max-md:pl-0 h-full":"w-0 -right-[60px] max-md:right-0  max-md:w-full max-md:h-0 overflow-hidden"),children:[g("div",{className:Ii("absolute group grid max-md:hidden max-md:w-0 max-md:overflow-hidden   place-content-center left-0 px-2 hover:bg-[#24292e] bottom-0 top-0",!t&&"bg-neutral-700"),onClick:()=>{e(aS())},children:L("div",{className:"",children:[g("div",{className:Ii("w-1 h-5 rounded-t-full origin-center   duration-200  bg-neutral-300",t?"group-hover:-rotate-[30deg]":"group-hover:rotate-[30deg]")}),g("div",{className:Ii("w-1 h-5 rounded-b-full -translate-y-[0.25rem] duration-200 origin-center  bg-neutral-300 ",t?"group-hover:rotate-[30deg]":"  group-hover:-rotate-[30deg]")})]})}),g("div",{className:Ii("opacity-100 duration-200 ease-linear max-md:h-full",!t&&"md:opacity-0"),children:g(Wne,{})})]})};var zS={},are=Qe;Object.defineProperty(zS,"__esModule",{value:!0});var u6=zS.default=void 0,lre=are(it()),cre=st,ure=(0,lre.default)((0,cre.jsx)("path",{d:"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"}),"Explore");u6=zS.default=ure;var VS={},dre=Qe;Object.defineProperty(VS,"__esModule",{value:!0});var d6=VS.default=void 0,fre=dre(it()),hre=st,pre=(0,fre.default)((0,hre.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}),"Assessment");d6=VS.default=pre;var KS={},mre=Qe;Object.defineProperty(KS,"__esModule",{value:!0});var f6=KS.default=void 0,gre=mre(it()),vre=st,yre=(0,gre.default)((0,vre.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"}),"AccountBox");f6=KS.default=yre;var HS={},xre=Qe;Object.defineProperty(HS,"__esModule",{value:!0});var h6=HS.default=void 0,bre=xre(it()),wre=st,Sre=(0,bre.default)((0,wre.jsx)("path",{d:"M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"}),"DonutSmall");h6=HS.default=Sre;var GS={},Ere=Qe;Object.defineProperty(GS,"__esModule",{value:!0});var p6=GS.default=void 0,Tre=Ere(it()),_re=st,Cre=(0,Tre.default)((0,_re.jsx)("path",{d:"M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4-6-3.27v6.53L16 16z"}),"Subscriptions");p6=GS.default=Cre;var WS={},Rre=Qe;Object.defineProperty(WS,"__esModule",{value:!0});var m6=WS.default=void 0,kre=Rre(it()),Are=st,Lre=(0,kre.default)((0,Are.jsx)("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder");m6=WS.default=Lre;var qS={},Pre=Qe;Object.defineProperty(qS,"__esModule",{value:!0});var YS=qS.default=void 0,Ire=Pre(it()),Dre=st,Ore=(0,Ire.default)((0,Dre.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");YS=qS.default=Ore;const el=()=>L("svg",{height:"52.12383869603717",viewBox:"0 0 170 14.75899160812756",className:"css-1j8o68f w-full",children:[g("defs",{id:"SvgjsDefs7908"}),g("g",{id:"SvgjsG7909",featurekey:"8L6ael-0",transform:"matrix(0.9835290106240823,0,0,0.9835290106240823,-1.593317588129818,-4.911586728421371)",fill:"#ffffff",children:g("path",{d:"M12.18 12.18 q1.04 0.64 1.52 1.84 q0.28 0.64 0.28 1.58 q0 1.46 -0.78 2.45 t-2.28 1.47 q-0.94 0.32 -2.22 0.32 l-6.38 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.44 q0 -0.3 0.21 -0.51 t0.49 -0.21 l6.54 0 q1.16 0 1.72 -0.42 q0.48 -0.4 0.48 -1.09 t-0.5 -1.13 q-0.62 -0.54 -1.86 -0.54 l-6.38 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.38 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.02 0 q0.86 0 1.34 -0.3 q0.34 -0.2 0.54 -0.58 q0.14 -0.28 0.14 -0.65 t-0.1 -0.67 q-0.08 -0.24 -0.28 -0.44 q-0.44 -0.5 -1.46 -0.5 l-6.2 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.44 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.02 0 q2.48 0 3.82 1.4 q1.14 1.14 1.14 2.86 q0 1.84 -1.12 2.92 z M28.768 16.96 q0.3 0 0.5 0.21 t0.2 0.51 l0 1.46 q0 0.28 -0.2 0.49 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l9.88 0 z M18.888 13.86 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.5 q0 -0.28 0.21 -0.49 t0.49 -0.21 l8.98 0 q0.3 0 0.51 0.21 t0.21 0.49 l0 1.5 q0 0.28 -0.21 0.49 t-0.51 0.21 l-8.98 0 z M28.768 5 q0.3 0 0.5 0.21 t0.2 0.49 l0 1.46 q0 0.3 -0.2 0.51 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.28 0.21 -0.49 t0.49 -0.21 l9.88 0 z M46.816 18.86 q0.14 0.32 -0.07 0.65 t-0.57 0.33 l-13.32 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 q-0.22 -0.32 -0.06 -0.66 l0.62 -1.46 q0.08 -0.2 0.26 -0.32 t0.38 -0.12 l9.32 0 l-3.28 -7.84 l-2.68 6.4 q-0.08 0.2 -0.25 0.31 t-0.39 0.11 l-1.68 0 q-0.38 0 -0.6 -0.32 q-0.08 -0.14 -0.1 -0.32 t0.04 -0.34 l4.06 -9.52 q0.08 -0.2 0.25 -0.32 t0.39 -0.12 l1.92 0 q0.22 0 0.39 0.12 t0.25 0.32 z M51.784 5 q0.3 0 0.51 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.51 0.21 l-2.06 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l2.06 0 z M60.724000000000004 5 q0.28 0 0.49 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.49 0.21 l-4.02 0 l0 11.36 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.54 0 q-0.3 0 -0.51 -0.21 t-0.21 -0.49 l0 -13.54 q0 -0.3 0.21 -0.51 t0.51 -0.21 l6.26 0 z M74.872 12.42 q0.86 0.54 1.31 1.32 t0.45 1.74 q0 2.26 -1.72 3.46 q-1.16 0.84 -3.14 1.06 l-0.08 0 q-0.28 0 -0.46 -0.18 q-0.24 -0.22 -0.24 -0.52 l0 -1.44 q0 -0.26 0.18 -0.46 t0.44 -0.24 q0.94 -0.1 1.46 -0.44 q0.4 -0.24 0.54 -0.62 q0.08 -0.22 0.08 -0.56 q0 -0.22 -0.08 -0.38 t-0.28 -0.3 q-0.58 -0.4 -1.5 -0.68 l-0.32 -0.1 q-1 -0.28 -1.84 -0.46 q-0.18 -0.04 -0.58 -0.14 l-0.22 -0.06 q-0.72 -0.18 -1.52 -0.5 q-1.18 -0.5 -1.94 -1.26 q-0.88 -0.88 -0.88 -2.32 q0 -1.98 1.52 -3.22 q1.04 -0.88 2.92 -1.12 q0.32 -0.04 0.55 0.18 t0.23 0.52 l0 1.44 q0 0.26 -0.16 0.46 t-0.41 0.23 t-0.51 0.11 q-0.58 0.22 -0.82 0.43 t-0.34 0.43 q-0.1 0.34 -0.1 0.64 q0 0.16 0.18 0.34 q0.28 0.28 0.82 0.5 q0.24 0.1 0.84 0.3 l2.5 0.62 l0.12 0.04 q0.94 0.26 1.36 0.4 q0.94 0.32 1.64 0.78 z M71.532 7.9 q-0.24 -0.06 -0.39 -0.25 t-0.15 -0.45 l0 -1.46 q0 -0.32 0.26 -0.54 q0.1 -0.1 0.26 -0.13 t0.3 -0.01 q1.76 0.28 2.86 1.2 q1.5 1.24 1.6 3.16 q0.02 0.28 -0.19 0.51 t-0.51 0.23 l-1.56 0 q-0.26 0 -0.46 -0.18 t-0.22 -0.44 q-0.08 -0.52 -0.34 -0.86 q-0.42 -0.5 -1.3 -0.76 q-0.06 0 -0.08 -0.02 l-0.08 0 z M69.19200000000001 17.08 q0.24 0.04 0.4 0.24 t0.16 0.44 l0 1.48 q0 0.32 -0.24 0.54 q-0.2 0.16 -0.46 0.16 l-0.1 0 q-1.86 -0.28 -3.06 -1.22 q-1.56 -1.24 -1.76 -3.46 q-0.04 -0.32 0.18 -0.55 t0.52 -0.23 l1.58 0 q0.28 0 0.48 0.19 t0.22 0.47 q0.06 1 0.98 1.54 q0.42 0.24 1.1 0.4 z M82.14 5 q0.3 0 0.51 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.51 0.21 l-2.06 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l2.06 0 z M91.08 5 q0.28 0 0.49 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.49 0.21 l-4.02 0 l0 11.36 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.54 0 q-0.3 0 -0.51 -0.21 t-0.21 -0.49 l0 -13.54 q0 -0.3 0.21 -0.51 t0.51 -0.21 l6.26 0 z M104.928 14.1 l3.02 4.62 q0.22 0.36 0.02 0.72 q-0.08 0.16 -0.25 0.26 t-0.35 0.1 l-1.82 0 q-0.18 0 -0.34 -0.09 t-0.24 -0.23 l-3.04 -4.82 l-3.56 0 l0 4.44 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.52 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -6.58 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.16 0 q1.76 0 2.34 -1 q0.2 -0.32 0.2 -0.92 q0 -0.94 -0.62 -1.48 q-0.64 -0.58 -1.84 -0.58 l-6.24 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.44 q0 -0.28 0.21 -0.49 t0.49 -0.21 l6.42 0 q2.34 0 3.74 1.32 q1.46 1.32 1.46 3.58 q0 1.46 -0.64 2.49 t-1.86 1.57 z M122.71600000000001 16.96 q0.3 0 0.5 0.21 t0.2 0.51 l0 1.46 q0 0.28 -0.2 0.49 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l9.88 0 z M112.836 13.86 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.5 q0 -0.28 0.21 -0.49 t0.49 -0.21 l8.98 0 q0.3 0 0.51 0.21 t0.21 0.49 l0 1.5 q0 0.28 -0.21 0.49 t-0.51 0.21 l-8.98 0 z M122.71600000000001 5 q0.3 0 0.5 0.21 t0.2 0.49 l0 1.46 q0 0.3 -0.2 0.51 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.28 0.21 -0.49 t0.49 -0.21 l9.88 0 z M138.184 16.96 q0.3 0 0.5 0.21 t0.2 0.51 l0 1.46 q0 0.28 -0.2 0.49 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l9.88 0 z M128.304 13.86 q-0.28 0 -0.49 -0.21 t-0.21 -0.49 l0 -1.5 q0 -0.28 0.21 -0.49 t0.49 -0.21 l8.98 0 q0.3 0 0.51 0.21 t0.21 0.49 l0 1.5 q0 0.28 -0.21 0.49 t-0.51 0.21 l-8.98 0 z M138.184 5 q0.3 0 0.5 0.21 t0.2 0.49 l0 1.46 q0 0.3 -0.2 0.51 t-0.5 0.21 l-9.88 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.28 0.21 -0.49 t0.49 -0.21 l9.88 0 z M144.492 5 q0.3 0 0.51 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.51 0.21 l-2.06 0 q-0.28 0 -0.49 -0.21 t-0.21 -0.51 l0 -1.46 q0 -0.3 0.21 -0.51 t0.49 -0.21 l2.06 0 z M153.432 5 q0.28 0 0.49 0.21 t0.21 0.51 l0 1.46 q0 0.3 -0.21 0.51 t-0.49 0.21 l-4.02 0 l0 11.36 q0 0.28 -0.21 0.49 t-0.49 0.21 l-1.54 0 q-0.3 0 -0.51 -0.21 t-0.21 -0.49 l0 -13.54 q0 -0.3 0.21 -0.51 t0.51 -0.21 l6.26 0 z"})})]});function jt({children:t,color:e="red",speed:n=1e3,radius:r=2,width:i=100,height:s}){function o(l){const c=l.currentTarget,u=document.createElement("div");c.appendChild(u);let d=Math.max(c.clientWidth,c.clientHeight);u.style.width=u.style.height=d+"px";const f=c.getBoundingClientRect();u.style.left=l.clientX-f.left-d/2+"px",u.style.top=l.clientY-f.top-d/2+"px",u.style.backgroundColor=e,u.style.animationDuration=`${n}ms`,u.classList.add("ripple"),u.addEventListener("animationend",()=>{u.remove()})}const a=typeof s=="number"?`${s}px`:s||"100%";return g("div",{className:"ripple-button",style:{borderRadius:`${r}px`,width:`${i}%`,height:a},onClick:o,children:t})}const Mre=()=>{const{SideNavbar:t}=He(i=>i.player),{islogged:e}=He(i=>i.user),n=Pr(),r=()=>{n(vI())};return L("div",{className:"float-left w-52 h-[26rem] max-md:w-0 select-none",children:[L("div",{className:"bg-lightBlue text-darkTextColor top-0  w-52 transition-all duration-200 ease-linear  fixed z-50 h-full  py-10 "+(t?"max-md:w-64 left-0":"max-md:-left-52"),children:[L("section",{className:"px-7 max-md:px-10 ",children:[g("section",{className:"scale-105",children:g(el,{})}),L("section",{className:"mt-6",children:[g("h3",{className:"uppercase font-Rubik font-medium tracking-wider max-md:text-lg text-sm",children:"Menu"}),L("ul",{className:"flex flex-col gap-6 mt-5",children:[L(Mr,{onClick:r,to:"/",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(u6,{}),"Discover"]}),L(Mr,{onClick:r,to:"/topartist",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(f6,{}),"Top Artists"]}),L(Mr,{onClick:r,to:"topplaylists/Hindi",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(d6,{}),"Top Playlists"]})]})]})]}),g("hr",{className:"bg-darkTextColor h-[0.8px] opacity-10 my-6 px-7"}),L("section",{className:"px-7 max-md:px-10",children:[g("h3",{className:"uppercase font-Rubik font-medium tracking-wider text-sm",children:"Library"}),L("ul",{className:"flex flex-col gap-6 mt-5",children:[L(Mr,{onClick:r,to:"/downloads",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(m6,{}),"Downloads"]}),L(Mr,{onClick:r,to:"/recentsongs",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(h6,{}),"Recent"]}),L(Mr,{onClick:r,to:"/userplaylists",className:"flex items-center  gap-4 text-sm max-md:text-base font-medium",children:[g(p6,{}),"Your Playlists"]}),L(Mr,{onClick:r,to:"/favoritessongs",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(PS,{})," Favorites"]}),L(Mr,{onClick:r,to:"/comments",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g($X,{})," Comments"]})]})]}),g("hr",{className:"bg-darkTextColor h-[0.8px] opacity-10 my-6 px-7"}),g("section",{className:"px-7 max-md:px-10 mt-5",children:g("ul",{className:"flex flex-col gap-6 mt-2",children:L(Mr,{onClick:r,to:"/about",className:"flex items-center gap-4 text-sm max-md:text-base font-medium",children:[g(YS,{})," Help & Support"]})})}),g("div",{className:"absolute bottom-0  flex justify-center right-0 left-0",children:g("a",{className:"text-xs",href:"https://twitter.com/immdipu",target:"_blank"})}),!e&&L("section",{className:"px-7  mt-10 hidden gap-2 max-md:flex",children:[g(jt,{color:"#519aff2e",speed:500,children:g(Qt,{onClick:r,to:"/login",className:"text-white text-lg block hover:opacity-90 bg-[#519aff2e] w-full pl-5 py-3 rounded-md",children:"Log In"})}),g(jt,{color:"#959aff8e",radius:6,speed:500,children:g(Qt,{onClick:r,to:"/signup",className:"bg-skyBlue bg-opacity-70 block text-lg text-white rounded-md pl-4 py-3  ",children:"Sign up"})})]})]}),g("div",{className:"fixed z-30 h-full max-md:block hidden top-0 w-full bg-[#0c0c0cc7] transition-all duration-200 ease-in "+(t?"visible opacity-100":"invisible opacity-0"),onClick:r})]})};function Nre(t){return $e("MuiSkeleton",t)}Me("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Fre=["animation","className","component","height","style","variant","width"];let t0=t=>t,$k,Bk,jk,Uk;const $re=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return je({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Nre,e)},Bre=Lf($k||($k=t0`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),jre=Lf(Bk||(Bk=t0`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Ure=re("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=ute(t.shape.borderRadius)||"px",r=dte(t.shape.borderRadius);return P({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Dt(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&Yx(jk||(jk=t0`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),Bre),({ownerState:t,theme:e})=>t.animation==="wave"&&Yx(Uk||(Uk=t0`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),jre,(e.vars||e).palette.action.hover)),zre=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=fe(r,Fre),f=P({},r,{animation:i,component:o,variant:c,hasChildren:Boolean(d.children)}),p=$re(f);return g(Ure,P({as:o,ref:n,className:oe(p.root,s),ownerState:f},d,{style:P({width:u,height:a},l)}))}),Vre=zre,QS=({src:t,alt:e,className:n,variant:r="rounded"})=>{const[i,s]=E.useState(!0);return L("div",{className:Ii("relative  overflow-hidden",n),children:[i&&g(Vre,{variant:r,width:"100%",height:"100%",sx:{position:"absolute",inset:0,zIndex:10,bgcolor:"#545454"}}),g("img",{src:t,alt:e,className:`w-full h-full object-cover ${i?"hidden":""}`,onLoad:()=>s(!1)})]})};function Kre(t){return $e("MuiButton",t)}const Hre=Me("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Uh=Hre,Gre=E.createContext({}),Wre=Gre,qre=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Yre=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${Ee(e)}`,`size${Ee(i)}`,`${s}Size${Ee(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ee(i)}`],endIcon:["endIcon",`iconSize${Ee(i)}`]},l=je(a,Kre,o);return P({},o,l)},g6=t=>P({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Qre=re(Zc,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ee(n.color)}`],e[`size${Ee(n.size)}`],e[`${n.variant}Size${Ee(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return P({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":P({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":P({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Uh.focusVisible}`]:P({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Uh.disabled}`]:P({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Dt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Uh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Uh.disabled}`]:{boxShadow:"none"}}),Xre=re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ee(n.size)}`]]}})(({ownerState:t})=>P({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},g6(t))),Jre=re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ee(n.size)}`]]}})(({ownerState:t})=>P({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},g6(t))),Zre=E.forwardRef(function(e,n){const r=E.useContext(Wre),i=$w(r,e),s=Ue({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:h,fullWidth:m=!1,size:v="medium",startIcon:y,type:x,variant:b="text"}=s,S=fe(s,qre),w=P({},s,{color:a,component:l,disabled:u,disableElevation:d,disableFocusRipple:f,fullWidth:m,size:v,type:x,variant:b}),_=Yre(w),T=y&&g(Xre,{className:_.startIcon,ownerState:w,children:y}),C=p&&g(Jre,{className:_.endIcon,ownerState:w,children:p});return L(Qre,P({ownerState:w,className:oe(r.className,_.root,c),component:l,disabled:u,focusRipple:!f,focusVisibleClassName:oe(_.focusVisible,h),ref:n,type:x},S,{classes:_,children:[T,o,C]}))}),da=Zre,v6=t=>t.scrollTop;function Mc(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const eie=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],tie={entering:{opacity:1},entered:{opacity:1}},nie=E.forwardRef(function(e,n){const r=$o(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:h,onExiting:m,style:v,timeout:y=i,TransitionComponent:x=RS}=e,b=fe(e,eie),S=E.useRef(null),w=Ht(S,a.ref,n),_=D=>O=>{if(D){const $=S.current;O===void 0?D($):D($,O)}},T=_(f),C=_((D,O)=>{v6(D);const $=Mc({style:v,timeout:y,easing:l},{mode:"enter"});D.style.webkitTransition=r.transitions.create("opacity",$),D.style.transition=r.transitions.create("opacity",$),u&&u(D,O)}),k=_(d),A=_(m),I=_(D=>{const O=Mc({style:v,timeout:y,easing:l},{mode:"exit"});D.style.webkitTransition=r.transitions.create("opacity",O),D.style.transition=r.transitions.create("opacity",O),p&&p(D)}),N=_(h);return g(x,P({appear:o,in:c,nodeRef:S,onEnter:C,onEntered:k,onEntering:T,onExit:I,onExited:N,onExiting:A,addEndListener:D=>{s&&s(S.current,D)},timeout:y},b,{children:(D,O)=>E.cloneElement(a,P({style:P({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},tie[D],v,a.props.style),ref:w},O))}))}),y6=nie;function rie(t){return $e("MuiBackdrop",t)}Me("MuiBackdrop",["root","invisible"]);const iie=["children","component","components","componentsProps","className","invisible","open","slotProps","slots","transitionDuration","TransitionComponent"],sie=t=>{const{classes:e,invisible:n}=t;return je({root:["root",n&&"invisible"]},rie,e)},oie=re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>P({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),aie=E.forwardRef(function(e,n){var r,i,s;const o=Ue({props:e,name:"MuiBackdrop"}),{children:a,component:l="div",components:c={},componentsProps:u={},className:d,invisible:f=!1,open:p,slotProps:h={},slots:m={},transitionDuration:v,TransitionComponent:y=y6}=o,x=fe(o,iie),b=P({},o,{component:l,invisible:f}),S=sie(b),w=(r=h.root)!=null?r:u.root;return g(y,P({in:p,timeout:v},x,{children:g(oie,P({"aria-hidden":!0},w,{as:(i=(s=m.root)!=null?s:c.Root)!=null?i:l,className:oe(S.root,d,w==null?void 0:w.className),ownerState:P({},b,w==null?void 0:w.ownerState),classes:S,ref:n,children:a}))}))}),x6=aie,lie=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],cie=t=>t.classes,uie=re("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>P({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),die=re(x6,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),fie=E.forwardRef(function(e,n){var r,i,s,o,a,l;const c=Ue({name:"MuiModal",props:e}),{BackdropComponent:u=die,BackdropProps:d,closeAfterTransition:f=!1,children:p,component:h,components:m={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:b=!1,disablePortal:S=!1,disableRestoreFocus:w=!1,disableScrollLock:_=!1,hideBackdrop:T=!1,keepMounted:C=!1,slotProps:k,slots:A,theme:I}=c,N=fe(c,lie),[M,D]=E.useState(!0),O={closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:b,disablePortal:S,disableRestoreFocus:w,disableScrollLock:_,hideBackdrop:T,keepMounted:C},$=P({},c,O,{exited:M}),W=cie($),U=(r=(i=A==null?void 0:A.root)!=null?i:m.Root)!=null?r:uie,j=(s=(o=A==null?void 0:A.backdrop)!=null?o:m.Backdrop)!=null?s:u,B=(a=k==null?void 0:k.root)!=null?a:v.root,H=(l=k==null?void 0:k.backdrop)!=null?l:v.backdrop;return g(lq,P({slots:{root:U,backdrop:j},slotProps:{root:()=>P({},Hx(B,$),!Vi(U)&&{as:h,theme:I}),backdrop:()=>P({},d,Hx(H,$))},onTransitionEnter:()=>D(!1),onTransitionExited:()=>D(!0),ref:n},N,{classes:W},O,{children:p}))}),XS=fie;function hie(t){return $e("MuiPaper",t)}Me("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const pie=["className","component","elevation","square","variant"],mie=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return je(s,hie,i)},gie=re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return P({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&P({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Dt("#fff",kk(e.elevation))}, ${Dt("#fff",kk(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),vie=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=fe(r,pie),u=P({},r,{component:s,elevation:o,square:a,variant:l}),d=mie(u);return g(gie,P({as:s,ownerState:u,className:oe(d.root,i),ref:n},c))}),Bf=vie;function yie(t){return $e("MuiDialog",t)}const xie=Me("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),My=xie,bie=E.createContext({}),b6=bie,wie=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Sie=re(x6,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Eie=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${Ee(n)}`],paper:["paper",`paperScroll${Ee(n)}`,`paperWidth${Ee(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return je(o,yie,e)},Tie=re(XS,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),_ie=re("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ee(n.scroll)}`]]}})(({ownerState:t})=>P({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Cie=re(Bf,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ee(n.scroll)}`],e[`paperWidth${Ee(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>P({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`${t.breakpoints.values.xs}${t.breakpoints.unit}`,[`&.${My.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${My.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${My.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Rie=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiDialog"}),i=$o(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:h=!1,maxWidth:m="sm",onBackdropClick:v,onClose:y,open:x,PaperComponent:b=Bf,PaperProps:S={},scroll:w="paper",TransitionComponent:_=y6,transitionDuration:T=s,TransitionProps:C}=r,k=fe(r,wie),A=P({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:h,maxWidth:m,scroll:w}),I=Eie(A),N=E.useRef(),M=W=>{N.current=W.target===W.currentTarget},D=W=>{N.current&&(N.current=null,v&&v(W),y&&y(W,"backdropClick"))},O=S8(a),$=E.useMemo(()=>({titleId:O}),[O]);return g(Tie,P({className:oe(I.root,d),closeAfterTransition:!0,components:{Backdrop:Sie},componentsProps:{backdrop:P({transitionDuration:T,as:l},c)},disableEscapeKeyDown:f,onClose:y,open:x,ref:n,onClick:D,ownerState:A},k,{children:g(_,P({appear:!0,in:x,timeout:T,role:"presentation"},C,{children:g(_ie,{className:oe(I.container),onMouseDown:M,ownerState:A,children:g(Cie,P({as:b,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":O},S,{className:oe(I.paper,S.className),ownerState:A,children:g(b6.Provider,{value:$,children:u})}))})}))}))}),Xl=Rie;function kie(t){return $e("MuiTypography",t)}Me("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Aie=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Lie=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ee(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return je(a,kie,o)},Pie=re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ee(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>P({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),zk={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Iie={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Die=t=>Iie[t]||t,Oie=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiTypography"}),i=Die(r.color),s=Xw(P({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=zk}=s,h=fe(s,Aie),m=P({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),v=l||(d?"p":p[f]||zk[f])||"span",y=Lie(m);return g(Pie,P({as:v,ref:n,ownerState:m,className:oe(y.root,a)},h))}),ct=Oie;function Mie(t){return $e("MuiDialogTitle",t)}const Nie=Me("MuiDialogTitle",["root"]),Fie=Nie,$ie=["className","id"],Bie=t=>{const{classes:e}=t;return je({root:["root"]},Mie,e)},jie=re(ct,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Uie=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=fe(r,$ie),a=r,l=Bie(a),{titleId:c=s}=E.useContext(b6);return g(jie,P({component:"h2",className:oe(l.root,i),ownerState:a,ref:n,variant:"h6",id:c},o))}),Jl=Uie;function zie(t){return $e("MuiDialogContent",t)}Me("MuiDialogContent",["root","dividers"]);const Vie=["className","dividers"],Kie=t=>{const{classes:e,dividers:n}=t;return je({root:["root",n&&"dividers"]},zie,e)},Hie=re("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>P({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${Fie.root} + &`]:{paddingTop:0}})),Gie=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=fe(r,Vie),a=P({},r,{dividers:s}),l=Kie(a);return g(Hie,P({className:oe(l.root,i),ownerState:a,ref:n},o))}),Zl=Gie;function Wie(t){return $e("MuiDialogActions",t)}Me("MuiDialogActions",["root","spacing"]);const qie=["className","disableSpacing"],Yie=t=>{const{classes:e,disableSpacing:n}=t;return je({root:["root",!n&&"spacing"]},Wie,e)},Qie=re("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>P({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Xie=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=fe(r,qie),a=P({},r,{disableSpacing:s}),l=Yie(a);return g(Qie,P({className:oe(l.root,i),ownerState:a,ref:n},o))}),w6=Xie;function Jie(t){return $e("MuiList",t)}Me("MuiList",["root","padding","dense","subheader"]);const Zie=["children","className","component","dense","disablePadding","subheader"],ese=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return je({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Jie,e)},tse=re("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>P({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),nse=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=fe(r,Zie),d=E.useMemo(()=>({dense:a}),[a]),f=P({},r,{component:o,dense:a,disablePadding:l}),p=ese(f);return g(Hi.Provider,{value:d,children:L(tse,P({as:o,className:oe(p.root,s),ref:n,ownerState:f},u,{children:[c,i]}))})}),Mp=nse;function rse(t){return $e("MuiListItem",t)}const ise=Me("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),wl=ise;function sse(t){return $e("MuiListItemSecondaryAction",t)}Me("MuiListItemSecondaryAction",["root","disableGutters"]);const ose=["className"],ase=t=>{const{disableGutters:e,classes:n}=t;return je({root:["root",e&&"disableGutters"]},sse,n)},lse=re("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>P({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),S6=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=fe(r,ose),o=E.useContext(Hi),a=P({},r,{disableGutters:o.disableGutters}),l=ase(a);return g(lse,P({className:oe(l.root,i),ownerState:a,ref:n},s))});S6.muiName="ListItemSecondaryAction";const cse=S6,use=["className"],dse=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],fse=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},hse=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return je({root:["root",i&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},rse,r)},pse=re("div",{name:"MuiListItem",slot:"Root",overridesResolver:fse})(({theme:t,ownerState:e})=>P({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&P({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${bl.root}`]:{paddingRight:48}},{[`&.${wl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${wl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${wl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${wl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),mse=re("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),gse=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:p}={},dense:h=!1,disabled:m=!1,disableGutters:v=!1,disablePadding:y=!1,divider:x=!1,focusVisibleClassName:b,secondaryAction:S,selected:w=!1,slotProps:_={},slots:T={}}=r,C=fe(r.ContainerProps,use),k=fe(r,dse),A=E.useContext(Hi),I=E.useMemo(()=>({dense:h||A.dense||!1,alignItems:i,disableGutters:v}),[i,A.dense,h,v]),N=E.useRef(null);hi(()=>{s&&N.current&&N.current.focus()},[s]);const M=E.Children.toArray(a),D=M.length&&Ju(M[M.length-1],["ListItemSecondaryAction"]),O=P({},r,{alignItems:i,autoFocus:s,button:o,dense:I.dense,disabled:m,disableGutters:v,disablePadding:y,divider:x,hasSecondaryAction:D,selected:w}),$=hse(O),W=Ht(N,n),U=T.root||u.Root||pse,j=_.root||d.root||{},B=P({className:oe($.root,j.className,l),disabled:m},k);let H=c||"li";return o&&(B.component=c||"div",B.focusVisibleClassName=oe(wl.focusVisible,b),H=Zc),D?(H=!B.component&&!c?"div":H,f==="li"&&(H==="li"?H="div":B.component==="li"&&(B.component="div")),g(Hi.Provider,{value:I,children:L(mse,P({as:f,className:oe($.container,p),ref:W,ownerState:O},C,{children:[g(U,P({},j,!Vi(U)&&{as:H,ownerState:P({},O,j.ownerState)},B,{children:M})),M.pop()]}))})):g(Hi.Provider,{value:I,children:L(U,P({},j,{as:H,ref:W},!Vi(U)&&{ownerState:P({},O,j.ownerState)},B,{children:[M,S&&g(cse,{children:S})]}))})}),Is=gse;function vse(t){return $e("MuiListItemText",t)}const yse=Me("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),n0=yse,xse=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bse=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return je({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},vse,e)},wse=re("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${n0.primary}`]:e.primary},{[`& .${n0.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>P({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Sse=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=fe(r,xse),{dense:p}=E.useContext(Hi);let h=l??i,m=u;const v=P({},r,{disableTypography:o,inset:a,primary:!!h,secondary:!!m,dense:p}),y=bse(v);return h!=null&&h.type!==ct&&!o&&(h=g(ct,P({variant:p?"body2":"body1",className:y.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:h}))),m!=null&&m.type!==ct&&!o&&(m=g(ct,P({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},d,{children:m}))),L(wse,P({className:oe(y.root,s),ownerState:v,ref:n},f,{children:[h,m]}))}),Ds=Sse,Ese=({open:t,onClose:e,song:n})=>{var o;const{data:r,isLoading:i,isError:s}=bt({queryKey:["songStatistics",n==null?void 0:n.id],queryFn:async()=>n!=null&&n.id?await De.getSongStatistics(n.id):null,enabled:t});return n?i?L(Xl,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[L(Jl,{children:["Statistics for ",n.title]}),g(Zl,{children:g(ct,{variant:"h6",gutterBottom:!0,children:"Loading..."})})]}):s?L(Xl,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[L(Jl,{children:["Statistics for ",n.title]}),g(Zl,{children:g(ct,{variant:"h6",gutterBottom:!0,children:"Failed to load statistics."})})]}):L(Xl,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[L(Jl,{children:["Statistics for ",n.title]}),L(Zl,{children:[g(ct,{variant:"h6",gutterBottom:!0,children:"General Statistics"}),L(Mp,{children:[g(Is,{children:g(Ds,{primary:"Total Listens",secondary:(r==null?void 0:r.TotalListens)||0})}),g(Is,{children:g(Ds,{primary:"Total Likes",secondary:(r==null?void 0:r.TotalLikes)||0})}),g(Is,{children:g(Ds,{primary:"Total Reposts",secondary:(r==null?void 0:r.TotalReposts)||0})})]}),g(ct,{variant:"h6",gutterBottom:!0,children:"Listen Time of Day"}),L(Mp,{children:[g(Is,{children:g(Ds,{primary:"Morning (6:00 - 12:00)",secondary:`${((r==null?void 0:r.MorningPercent)||0).toFixed(2)}%`})}),g(Is,{children:g(Ds,{primary:"Afternoon (12:00 - 18:00)",secondary:`${((r==null?void 0:r.AfternoonPercent)||0).toFixed(2)}%`})}),g(Is,{children:g(Ds,{primary:"Evening (18:00 - 00:00)",secondary:`${((r==null?void 0:r.EveningPercent)||0).toFixed(2)}%`})}),g(Is,{children:g(Ds,{primary:"Night (00:00 - 6:00)",secondary:`${((r==null?void 0:r.NightPercent)||0).toFixed(2)}%`})})]}),g(ct,{variant:"h6",gutterBottom:!0,children:"Top 5 Countries"}),g(Mp,{children:(o=r==null?void 0:r.TopCountries)==null?void 0:o.map((a,l)=>g(Is,{children:g(Ds,{primary:`${l+1}. ${a}`})},l))})]}),g(w6,{children:g(da,{onClick:e,color:"primary",children:"Close"})})]}):null},Tse=X8(),_se=CQ({defaultTheme:Tse,defaultClassName:"MuiBox-root",generateClassName:Bw.generate}),Cse=_se,Rse=({item:t,upcomingSongs:e=[]})=>{const n=Pr(),r=He(k=>k.user),{playlistList:i}=He(k=>k.player),s=No(),[o,a]=E.useState(t.is_blocked),[l,c]=E.useState(!1),[u,d]=E.useState(!1),[f,p]=E.useState([]),h=()=>{n(oZ({id:t.id,upcomingSongs:e}))},m=E.useCallback(k=>{k.preventDefault(),document.querySelector(`[data-sid="${t.id}"]`).click()},[t.id]),v=mt({mutationFn:k=>De.hideTrack(k),onSuccess:()=>{a(!0),s.invalidateQueries(["songs"]),ke.success("Song hidden!")},onError:()=>{ke.error("Failed to hide song")}}),y=mt({mutationFn:k=>De.unhideTrack(k),onSuccess:()=>{a(!1),s.invalidateQueries(["songs"]),ke.success("Song unhidden!")},onError:()=>{ke.error("Failed to unhide song")}}),x=mt({mutationFn:()=>De.getUserPlaylists(),onSuccess:k=>{p(k),d(!0)},onError:k=>{console.log(k),ke.error(k.response.data.error||"Failed to load playlists")}}),b=mt({mutationFn:k=>De.addToPlaylist(k),onSuccess:()=>{ke.success("Added to playlist!"),d(!1)},onError:()=>{ke.error("Already in playlist!")}}),S=k=>{k.stopPropagation(),o?y.mutate(t.id):v.mutate(t.id)},w=k=>{k.stopPropagation(),c(!0)},_=()=>{c(!1)},T=k=>{k.stopPropagation(),x.mutate()},C=(k,A)=>{b.mutate({playlistId:k,trackID:A})};return L("div",{className:"relative",onContextMenu:m,children:[L(Qr,{sx:[{display:"grid",borderRadius:2,gridTemplateColumns:"max-content 1fr max-content",overflow:"hidden",alignItems:"center"},k=>({"&:hover":{backgroundColor:"#1d242ca3"},[k.breakpoints.down("sm")]:{paddingLeft:1,paddingRight:"3px"}})],"data-id":t.id,className:"grid relative overflow-hidden gap-3 max-md:gap-2 cursor-pointer items-center px-5",onClick:h,children:[g(QS,{src:`http://localhost:11000/images/${t.id}/track`||"",alt:t.title,className:"w-14 h-14 rounded-lg"}),L("div",{children:[g("h3",{className:"text-white text-lg",children:t.title}),g("p",{className:"text-slate-400 text-sm",children:t.author.username})]}),L("div",{className:"ml-auto flex items-center space-x-2",children:[t.author.id===r._id&&g(da,{onClick:w,color:"primary",children:"Stats"}),i&&g("button",{onClick:T,className:"text-blue-500 hover:text-white transition text-3xl",children:"+"}),r.role==="admin"&&g("button",{onClick:S,className:"text-gray-400 hover:text-white transition",children:o?g(Ha,{size:18}):g(Ga,{size:18})})]})]}),g(Ese,{open:l,onClose:_,song:t}),g(XS,{open:u,onClose:()=>d(!1),children:L(Cse,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:300,bgcolor:"background.paper",boxShadow:24,p:3,borderRadius:2},children:[g("h3",{className:"text-lg font-semibold mb-2",children:"Select a Playlist"}),g("ul",{className:"space-y-2",children:(f==null?void 0:f.length)>0?f==null?void 0:f.map(k=>g("li",{children:g(da,{fullWidth:!0,variant:"text",color:"primary",onClick:()=>C(k==null?void 0:k.id,t==null?void 0:t.id),sx:{transition:"background-color 0.3s, color 0.3s","&:hover":{backgroundColor:"#e0e0e0",color:"#007bff"}},children:k==null?void 0:k.title})},k==null?void 0:k.id)):g("p",{className:"text-gray-500",children:"No playlists available"})})]})})]})},mi=({songs:t,playlistId:e=null})=>L("div",{className:"w-full overflow-hidden max-md:px-0 flex flex-col gap-2",children:[console.log(t),t&&t.map((n,r)=>(console.log(n),g(Rse,{item:n,index:r+1,upcomingSongs:t,playlistId:e},n.track_id)))]});var JS={},kse=Qe;Object.defineProperty(JS,"__esModule",{value:!0});var E6=JS.default=void 0,Ase=kse(it()),Lse=st,Pse=(0,Ase.default)((0,Lse.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");E6=JS.default=Pse;var ZS={},Ise=Qe;Object.defineProperty(ZS,"__esModule",{value:!0});var T6=ZS.default=void 0,Dse=Ise(it()),Ose=st,Mse=(0,Dse.default)((0,Ose.jsx)("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),"FormatAlignCenter");T6=ZS.default=Mse;const Nse=()=>{const t=Vc(),e=Pr(),n=He(o=>o.searchTerm),r=()=>{e(vI())};function i(){t("/search")}function s(o){e(sZ(o.target.value))}return L("section",{className:"flex items-center searchBarContainer  gap-4 w-96 max-md:w-full",children:[g("div",{className:"w-fit hidden max-md:flex",onClick:r,children:g(Bo,{children:g(T6,{className:"text-slate-200"})})}),L("div",{className:"flex  items-center w-full focus-within:border-darkTextColor group transition-all duration-400 ease-linear rounded-full pl-5 pr-1 h-10 normaic border-[#ffd4d46e]",onClick:i,children:[g("input",{type:"text",value:n,onChange:s,placeholder:"Type here to search",className:" placeholder:text-sm bg-transparent placeholder:bg-transparent max-md:placeholder:text-xs text-sm w-full outline-none border-none  text-darkTitle font-light"}),g("div",{className:"opacity-0 group-hover:opacity-100 group-focus-within:opacity-100  transition-all duration-200 ease-linear"}),g("div",{className:"bg-skyBlue rounded-full  px-[6px] py-[6px] translate-x-[3px] hover:opacity-80 ",children:g(E6,{className:"text-darkBlueS "})})]})]})},Fse=({parentName:t,title:e,id:n,name:r=null})=>(console.log(t),L("div",{children:[L("div",{className:"relative w-36 max-md:w-32 max-md:h-32 h-36 group rounded-md",children:[g("img",{src:`http://localhost:11000/images/${n}/playlist`||"",alt:"",loading:"lazy",className:"w-full h-full object-cover rounded-lg"}),g(Qt,{to:`playlists/${n}`,className:"absolute flex z-20 opacity-0 rounded-lg group-hover:opacity-100 duration-200 transition-all inset-0 w-full items-center justify-center bg-[#4c4c4c68] text-3xl"})]}),g("h4",{className:" text-center w-36 text-darkSongname text-sm mt-2 px-1 max-md:text-[12px]",title:e,children:e||r})]})),_6=({id:t,username:e,avatar:n})=>L(Qt,{to:`/artist/${t}`,className:"w-28 block group",children:[g("div",{className:"relative w-28 h-28 border-2 border-opacity-40 border-slate-300 rounded-full overflow-hidden",children:g("img",{src:n||"https://cdn-icons-png.flaticon.com/512/2756/2756327.png",alt:"",loading:"lazy",className:"w-full h-full object-cover rounded-full group-hover:scale-110 ease-linear duration-500"})}),g("h4",{className:"w-full text-center text-darkSongname text-sm mt-3 px-1 ",title:e,children:e}),g("p",{className:"text-center text-slate-400 text-xs tracking-wide mt-1",children:"Artist"})]}),tl=({width:t=290})=>L("svg",{width:t,viewBox:"0 60 203 200",className:"css-1j8o68f ",children:[g("defs",{id:"SvgjsDefs1280",children:L("linearGradient",{id:"SvgjsLinearGradient1285",children:[g("stop",{id:"SvgjsStop1286",stopColor:"#2d388a",offset:"0"}),g("stop",{id:"SvgjsStop1287",stopColor:"#00aeef",offset:"1"})]})}),g("g",{id:"SvgjsG1281",featurekey:"aMgJeN-0",transform:"matrix(59.64807343149665,0,0,59.64807343149665,-46.15001256443807,10.909634741048144)",fill:"url(#SvgjsLinearGradient1285)",children:L("g",{xmlns:"http://www.w3.org/2000/svg",children:[g("path",{d:"M3.726,1.855C3.44,2.127,3.042,2.237,2.661,2.292c-0.34,0.05-0.695,0.071-0.999,0.203C1.344,2.634,1.144,2.864,1.16,3.22   c0.01,0.214,0.125,0.423,0.287,0.584C1.492,3.84,1.538,3.874,1.586,3.905C1.583,3.899,1.58,3.892,1.575,3.886   C1.382,3.621,1.232,2.862,2.242,2.697C2.445,2.664,2.648,2.63,2.85,2.584c0.178-0.041,0.496-0.141,0.531-0.16   c0.029-0.017-0.189,0.228-0.857,0.42C1.463,3.149,1.789,4.03,2.113,4.131C2.237,4.161,2.367,4.176,2.5,4.176   c0.926,0,1.677-0.75,1.677-1.676c0-0.333-0.097-0.643-0.264-0.903C3.868,1.695,3.805,1.779,3.726,1.855z"}),g("path",{d:"M0.824,2.5c0,0.184,0.03,0.359,0.084,0.525c0.02-0.182,0.082-0.354,0.198-0.5c0.21-0.267,0.536-0.392,0.875-0.459   C2.319,2,2.679,1.992,3.026,1.908c0.192-0.046,0.387-0.121,0.542-0.244C3.697,1.56,3.757,1.402,3.623,1.255   C3.574,1.211,3.522,1.169,3.468,1.131c0.098,0.201,0.022,0.5-0.773,0.578C2.491,1.73,2.288,1.749,2.087,1.777   C2.028,1.785,1.955,1.796,1.88,1.809c0,0,0.066-0.082,0.532-0.188c0.958-0.216,0.779-0.633,0.495-0.748   c-0.13-0.032-0.267-0.05-0.407-0.05C1.574,0.824,0.824,1.574,0.824,2.5z"})]})})]}),$se=()=>L("div",{className:"flex gap-8 items-center mr-5 max-md:hidden",children:[g(Qt,{to:"/login",className:"text-white hover:opacity-90",children:"Log In"}),g(Qr,{sx:[{padding:0}],children:g(Qt,{to:"/signup",className:"bg-skyBlue hover:opacity-90 text-white rounded-md px-3 py-1 tracking-wide",children:"Sign up"})})]});var eE={},Bse=Qe;Object.defineProperty(eE,"__esModule",{value:!0});var $g=eE.default=void 0,jse=Bse(it()),Use=st,zse=(0,jse.default)((0,Use.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");$g=eE.default=zse;var tE={},Vse=Qe;Object.defineProperty(tE,"__esModule",{value:!0});var C6=tE.default=void 0,Kse=Vse(it()),Hse=st,Gse=(0,Kse.default)((0,Hse.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"}),"LibraryMusic");C6=tE.default=Gse;var nE={},Wse=Qe;Object.defineProperty(nE,"__esModule",{value:!0});var R6=nE.default=void 0,qse=Wse(it()),Yse=st,Qse=(0,qse.default)((0,Yse.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");R6=nE.default=Qse;const Xse={fullName:"",_id:null,email:"",avatar:"",role:"",islogged:!1,showRightSidebar:!1,SearchTerm:""},k6=mI({name:"userSlice",initialState:Xse,reducers:{isLogged:(t,e)=>{t._id=e.payload.id,t.fullName=e.payload.username,t.email=e.payload.email,t.avatar=e.payload.avatar,t.role=e.payload.role,t.can_comment=e.payload.can_comment,t.islogged=!0},Logout:t=>{t._id=null,t.fullName="",t.email="",t.avatar="",t.role="",t.can_comment=!1,t.islogged=!1,localStorage.removeItem("token")}}}),{isLogged:rE,Logout:A6}=k6.actions,Jse=k6.reducer,Zse=({imageRef:t,showDropDown:e,setShowDropDown:n,fullName:r=""})=>{const i=E.useRef(),s=Pr();return E.useEffect(()=>{const o=a=>{e&&a.target!==i.current&&a.target!==t.current&&n(!1)};return window.addEventListener("click",o),()=>{window.removeEventListener("click",o)}},[e]),L(Lr.div,{initial:{opacity:0,x:"30%",y:"-55%",scale:.2},animate:{opacity:1,x:"0%",y:"0%",scale:1},exit:{opacity:0,x:"30%",y:"-55%",scale:0,transition:{duration:"0.35"}},transition:{type:"spring",stiffness:"130",duration:"0.15"},ref:i,className:`absolute bg-lightBlue shadow-xl rounded-md -left-44 w-48 h-fit
      z-[55] text-slate-300 py-5`,children:[g("div",{className:"mb-2",children:L("h2",{className:"bg-neutral-700 text-center hover:text-white hover:text-lg transition-all duration-500  ease-linear text-neutral-50 py-1 bg-opacity-25  font-Poppins tracking-wider ",children:["Hello, ",r.split(" ")[0]]})}),L("ul",{className:"flex flex-col",children:[L(Qt,{to:"/account",className:"flex hover:bg-darkBlue duration-300 transition-colors ease-linear py-2 gap-3 items-center px-3",children:[g($g,{}),"Account"]}),L(Qt,{to:"/userplaylists",className:"flex hover:bg-darkBlue duration-300 transition-colors ease-linear py-2 gap-3 items-center px-3",children:[g(C6,{}),"My Library"]}),L(Qt,{to:"/about",className:"flex  hover:bg-darkBlue duration-300 transition-colors ease-linear py-2 gap-3 items-center px-3",children:[g(YS,{})," Help & Support"]}),L("li",{onClick:()=>{s(A6())},className:"flex gap-3 hover:bg-darkBlue duration-300 transition-colors ease-linear py-2 items-center px-3",children:[g(R6,{})," Sign Out"]})]})]})},eoe=()=>{const[t,e]=E.useState(!1),n=E.useRef(),r=He(s=>s.user);let i=`https://api.dicebear.com/5.x/initials/svg?seed=${r.fullName}`;return r._id==={}.VITE_ID&&(i="https://avatars.githubusercontent.com/u/103568666?v=4"),L("div",{className:"w-12 rounded-full ml-2 select-none cursor-pointer relative h-12 ",onClick:()=>e(s=>!s),children:[g(Lr.img,{whileTap:{scale:.92},src:i,alt:r==null?void 0:r.fullName,ref:n,className:"rounded-full  border-2 border-slate-300 border-opacity-50"}),g(Fa,{children:t&&g(Zse,{imageRef:n,setShowDropDown:e,showDropDown:t,fullName:r==null?void 0:r.fullName})})]})};var L6={},r0=Xt&&Xt.__assign||function(){return r0=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},r0.apply(this,arguments)},toe=Xt&&Xt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),noe=Xt&&Xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),roe=Xt&&Xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&toe(e,t,n);return noe(e,t),e},ioe=Xt&&Xt.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(L6,"__esModule",{value:!0});var soe=roe(E),Vk=Ka,ooe=$f,aoe=(0,ooe.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function loe(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,u=c===void 0?35:c,d=ioe(t,["loading","color","speedMultiplier","cssOverride","size"]),f=r0({background:"transparent !important",width:(0,Vk.cssValue)(u),height:(0,Vk.cssValue)(u),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(aoe," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?soe.createElement("span",r0({style:f},d)):null}var Rr=L6.default=loe;const coe=()=>{const t=Pr(),e=He(r=>r.user),n=mt({mutationFn:()=>Bt.Autologin(),onSuccess:r=>{t(rE(r))},onError:r=>{t(A6()),console.log("error",r)}});return E.useLayoutEffect(()=>{n.mutate()},[]),g("div",{className:" border-b-2 border-slate-100 border-opacity-10 h-20",children:L("div",{className:"h-20 flex items-center px-9 max-md:px-4 justify-between fixed z-40 backdrop-blur-sm bg-darkBlue bg-opacity-60 right-0 left-0 ml-52 max-md:ml-0 top-0",children:[g(Nse,{}),n.isPending?g("h4",{className:"text-white text-center mb-3 max-md:mb-0 mt-2 max-md:px-2 ",children:g(Rr,{size:35,color:"#2764eb",speedMultiplier:1})}):L("div",{children:[" ",e.islogged?g(eoe,{}):g($se,{})]})]})})},Ha=()=>L("svg",{className:"h-8 w-8 opacity-80 mr-2 mt-2 fill-skyBlue",version:"1.1",viewBox:"0 0 700 700",children:[L("defs",{children:[g("symbol",{id:"h",overflow:"visible",children:g("path",{d:"m18.766-1.125c-0.96875 0.5-1.9805 0.875-3.0312 1.125-1.043 0.25781-2.1367 0.39062-3.2812 0.39062-3.3984 0-6.0898-0.94531-8.0781-2.8438-1.9922-1.9062-2.9844-4.4844-2.9844-7.7344 0-3.2578 0.99219-5.8359 2.9844-7.7344 1.9883-1.9062 4.6797-2.8594 8.0781-2.8594 1.1445 0 2.2383 0.13281 3.2812 0.39062 1.0508 0.25 2.0625 0.625 3.0312 1.125v4.2188c-0.98047-0.65625-1.9453-1.1406-2.8906-1.4531-0.94922-0.3125-1.9492-0.46875-3-0.46875-1.875 0-3.3516 0.60547-4.4219 1.8125-1.0742 1.1992-1.6094 2.8555-1.6094 4.9688 0 2.1055 0.53516 3.7617 1.6094 4.9688 1.0703 1.1992 2.5469 1.7969 4.4219 1.7969 1.0508 0 2.0508-0.14844 3-0.45312 0.94531-0.3125 1.9102-0.80078 2.8906-1.4688z"})}),g("symbol",{id:"c",overflow:"visible",children:g("path",{d:"m13.734-11.141c-0.4375-0.19531-0.87109-0.34375-1.2969-0.4375-0.41797-0.10156-0.83984-0.15625-1.2656-0.15625-1.2617 0-2.2305 0.40625-2.9062 1.2188-0.67969 0.80469-1.0156 1.9531-1.0156 3.4531v7.0625h-4.8906v-15.312h4.8906v2.5156c0.625-1 1.3438-1.7266 2.1562-2.1875 0.82031-0.46875 1.8008-0.70312 2.9375-0.70312 0.16406 0 0.34375 0.011719 0.53125 0.03125 0.19531 0.011719 0.47656 0.039062 0.84375 0.078125z"})}),g("symbol",{id:"a",overflow:"visible",children:g("path",{d:"m17.641-7.7031v1.4062h-11.453c0.125 1.1484 0.53906 2.0078 1.25 2.5781 0.70703 0.57422 1.7031 0.85938 2.9844 0.85938 1.0312 0 2.082-0.14844 3.1562-0.45312 1.082-0.3125 2.1914-0.77344 3.3281-1.3906v3.7656c-1.1562 0.4375-2.3125 0.76562-3.4688 0.98438-1.1562 0.22656-2.3125 0.34375-3.4688 0.34375-2.7734 0-4.9297-0.70312-6.4688-2.1094-1.5312-1.4062-2.2969-3.3789-2.2969-5.9219 0-2.5 0.75391-4.4609 2.2656-5.8906 1.5078-1.4375 3.582-2.1562 6.2188-2.1562 2.4062 0 4.332 0.73047 5.7812 2.1875 1.4453 1.4492 2.1719 3.3828 2.1719 5.7969zm-5.0312-1.625c0-0.92578-0.27344-1.6719-0.8125-2.2344-0.54297-0.57031-1.25-0.85938-2.125-0.85938-0.94922 0-1.7188 0.26562-2.3125 0.79688s-0.96484 1.2969-1.1094 2.2969z"})}),g("symbol",{id:"l",overflow:"visible",children:g("path",{d:"m9.2188-6.8906c-1.0234 0-1.793 0.17188-2.3125 0.51562-0.51172 0.34375-0.76562 0.85547-0.76562 1.5312 0 0.625 0.20703 1.1172 0.625 1.4688 0.41406 0.34375 0.98828 0.51562 1.7188 0.51562 0.92578 0 1.7031-0.32812 2.3281-0.98438 0.63281-0.66406 0.95312-1.4922 0.95312-2.4844v-0.5625zm7.4688-1.8438v8.7344h-4.9219v-2.2656c-0.65625 0.92969-1.3984 1.6055-2.2188 2.0312-0.82422 0.41406-1.8242 0.625-3 0.625-1.5859 0-2.8711-0.45703-3.8594-1.375-0.99219-0.92578-1.4844-2.1289-1.4844-3.6094 0-1.7891 0.61328-3.1016 1.8438-3.9375 1.2383-0.84375 3.1797-1.2656 5.8281-1.2656h2.8906v-0.39062c0-0.76953-0.30859-1.332-0.92188-1.6875-0.61719-0.36328-1.5703-0.54688-2.8594-0.54688-1.0547 0-2.0312 0.10547-2.9375 0.3125-0.89844 0.21094-1.7305 0.52344-2.5 0.9375v-3.7344c1.0391-0.25 2.0859-0.44141 3.1406-0.57812 1.0625-0.13281 2.125-0.20312 3.1875-0.20312 2.7578 0 4.75 0.54688 5.9688 1.6406 1.2266 1.0859 1.8438 2.8555 1.8438 5.3125z"})}),g("symbol",{id:"b",overflow:"visible",children:g("path",{d:"m7.7031-19.656v4.3438h5.0469v3.5h-5.0469v6.5c0 0.71094 0.14062 1.1875 0.42188 1.4375s0.83594 0.375 1.6719 0.375h2.5156v3.5h-4.1875c-1.9375 0-3.3125-0.39844-4.125-1.2031-0.80469-0.8125-1.2031-2.1797-1.2031-4.1094v-6.5h-2.4219v-3.5h2.4219v-4.3438z"})}),g("symbol",{id:"e",overflow:"visible",children:g("path",{d:"m12.766-13.078v-8.2031h4.9219v21.281h-4.9219v-2.2188c-0.66797 0.90625-1.4062 1.5703-2.2188 1.9844s-1.7578 0.625-2.8281 0.625c-1.8867 0-3.4336-0.75-4.6406-2.25-1.2109-1.5-1.8125-3.4258-1.8125-5.7812 0-2.3633 0.60156-4.2969 1.8125-5.7969 1.207-1.5 2.7539-2.25 4.6406-2.25 1.0625 0 2 0.21484 2.8125 0.64062 0.82031 0.42969 1.5664 1.0859 2.2344 1.9688zm-3.2188 9.9219c1.0391 0 1.8359-0.37891 2.3906-1.1406 0.55078-0.76953 0.82812-1.8828 0.82812-3.3438 0-1.457-0.27734-2.5664-0.82812-3.3281-0.55469-0.76953-1.3516-1.1562-2.3906-1.1562-1.043 0-1.8398 0.38672-2.3906 1.1562-0.55469 0.76172-0.82812 1.8711-0.82812 3.3281 0 1.4609 0.27344 2.5742 0.82812 3.3438 0.55078 0.76172 1.3477 1.1406 2.3906 1.1406z"})}),g("symbol",{id:"k",overflow:"visible",children:g("path",{d:"m10.5-3.1562c1.0508 0 1.8516-0.37891 2.4062-1.1406 0.55078-0.76953 0.82812-1.8828 0.82812-3.3438 0-1.457-0.27734-2.5664-0.82812-3.3281-0.55469-0.76953-1.3555-1.1562-2.4062-1.1562-1.0547 0-1.8594 0.38672-2.4219 1.1562-0.55469 0.77344-0.82812 1.8828-0.82812 3.3281 0 1.4492 0.27344 2.5586 0.82812 3.3281 0.5625 0.77344 1.3672 1.1562 2.4219 1.1562zm-3.25-9.9219c0.67578-0.88281 1.4219-1.5391 2.2344-1.9688 0.82031-0.42578 1.7656-0.64062 2.8281-0.64062 1.8945 0 3.4453 0.75 4.6562 2.25 1.207 1.5 1.8125 3.4336 1.8125 5.7969 0 2.3555-0.60547 4.2812-1.8125 5.7812-1.2109 1.5-2.7617 2.25-4.6562 2.25-1.0625 0-2.0078-0.21094-2.8281-0.625-0.8125-0.42578-1.5586-1.0859-2.2344-1.9844v2.2188h-4.8906v-21.281h4.8906z"})}),g("symbol",{id:"j",overflow:"visible",children:g("path",{d:"m0.34375-15.312h4.8906l4.125 10.391 3.5-10.391h4.8906l-6.4375 16.766c-0.64844 1.6953-1.4023 2.8828-2.2656 3.5625-0.86719 0.6875-2 1.0312-3.4062 1.0312h-2.8438v-3.2188h1.5312c0.83203 0 1.4375-0.13672 1.8125-0.40625 0.38281-0.26172 0.67969-0.73047 0.89062-1.4062l0.14062-0.42188z"})}),g("symbol",{id:"i",overflow:"visible",children:g("path",{d:"m14.953-3.7188h-8.2188l-1.3125 3.7188h-5.2812l7.5625-20.406h6.2656l7.5625 20.406h-5.2812zm-6.9062-3.7812h5.5781l-2.7812-8.125z"})}),g("symbol",{id:"u",overflow:"visible",children:g("path",{d:"m2.3594-15.312h4.8906v15.312h-4.8906zm0-5.9688h4.8906v4h-4.8906z"})}),g("symbol",{id:"g",overflow:"visible",children:g("path",{d:"m17.75-9.3281v9.3281h-4.9219v-7.1406c0-1.3203-0.03125-2.2344-0.09375-2.7344s-0.16797-0.86719-0.3125-1.1094c-0.1875-0.3125-0.44922-0.55469-0.78125-0.73438-0.32422-0.17578-0.69531-0.26562-1.1094-0.26562-1.0234 0-1.8242 0.39844-2.4062 1.1875-0.58594 0.78125-0.875 1.8711-0.875 3.2656v7.5312h-4.8906v-15.312h4.8906v2.2344c0.73828-0.88281 1.5195-1.5391 2.3438-1.9688 0.83203-0.42578 1.75-0.64062 2.75-0.64062 1.7695 0 3.1133 0.54688 4.0312 1.6406 0.91406 1.0859 1.375 2.6562 1.375 4.7188z"})}),g("symbol",{id:"d",overflow:"visible",children:g("path",{d:"m9.6406-12.188c-1.0859 0-1.9141 0.39062-2.4844 1.1719-0.57422 0.78125-0.85938 1.9062-0.85938 3.375s0.28516 2.5938 0.85938 3.375c0.57031 0.77344 1.3984 1.1562 2.4844 1.1562 1.0625 0 1.875-0.38281 2.4375-1.1562 0.57031-0.78125 0.85938-1.9062 0.85938-3.375s-0.28906-2.5938-0.85938-3.375c-0.5625-0.78125-1.375-1.1719-2.4375-1.1719zm0-3.5c2.6328 0 4.6914 0.71484 6.1719 2.1406 1.4766 1.418 2.2188 3.3867 2.2188 5.9062 0 2.5117-0.74219 4.4805-2.2188 5.9062-1.4805 1.418-3.5391 2.125-6.1719 2.125-2.6484 0-4.7148-0.70703-6.2031-2.125-1.4922-1.4258-2.2344-3.3945-2.2344-5.9062 0-2.5195 0.74219-4.4883 2.2344-5.9062 1.4883-1.4258 3.5547-2.1406 6.2031-2.1406z"})}),g("symbol",{id:"t",overflow:"visible",children:g("path",{d:"m9.5469-12.125c-1.043 0-1.8398 0.38672-2.3906 1.1562-0.55469 0.76172-0.82812 1.8711-0.82812 3.3281 0 1.4609 0.27344 2.5742 0.82812 3.3438 0.55078 0.76172 1.3477 1.1406 2.3906 1.1406 1.0391 0 1.8359-0.37891 2.3906-1.1406 0.55078-0.76953 0.82812-1.8828 0.82812-3.3438 0-1.457-0.27734-2.5664-0.82812-3.3281-0.55469-0.76953-1.3516-1.1562-2.3906-1.1562zm3.2188 9.9062c-0.66797 0.90625-1.4062 1.5703-2.2188 1.9844s-1.7578 0.625-2.8281 0.625c-1.8867 0-3.4336-0.75-4.6406-2.25-1.2109-1.5-1.8125-3.4258-1.8125-5.7812 0-2.3633 0.60156-4.2891 1.8125-5.7812 1.207-1.4883 2.7539-2.2344 4.6406-2.2344 1.0703 0 2.0156 0.21484 2.8281 0.64062 0.8125 0.41797 1.5508 1.0742 2.2188 1.9688v-2.2656h4.9219v21.141h-4.9219z"})}),g("symbol",{id:"f",overflow:"visible",children:g("path",{d:"m2.1875-5.9688v-9.3438h4.9219v1.5312c0 0.83594-0.007813 1.875-0.015625 3.125-0.011719 1.25-0.015625 2.0859-0.015625 2.5 0 1.2422 0.03125 2.1328 0.09375 2.6719 0.070313 0.54297 0.17969 0.93359 0.32812 1.1719 0.20703 0.32422 0.47266 0.57422 0.79688 0.75 0.32031 0.16797 0.69141 0.25 1.1094 0.25 1.0195 0 1.8203-0.39062 2.4062-1.1719 0.58203-0.78125 0.875-1.8672 0.875-3.2656v-7.5625h4.8906v15.312h-4.8906v-2.2188c-0.74219 0.89844-1.5234 1.5586-2.3438 1.9844-0.82422 0.41406-1.7344 0.625-2.7344 0.625-1.7617 0-3.1055-0.53906-4.0312-1.625-0.92969-1.082-1.3906-2.6602-1.3906-4.7344z"})}),g("symbol",{id:"s",overflow:"visible",children:g("path",{d:"m12.422-21.281v3.2188h-2.7031c-0.6875 0-1.1719 0.125-1.4531 0.375-0.27344 0.25-0.40625 0.6875-0.40625 1.3125v1.0625h4.1875v3.5h-4.1875v11.812h-4.8906v-11.812h-2.4375v-3.5h2.4375v-1.0625c0-1.6641 0.46094-2.8984 1.3906-3.7031 0.92578-0.80078 2.3672-1.2031 4.3281-1.2031z"})}),g("symbol",{id:"r",overflow:"visible",children:g("path",{d:"m16.547-12.766c0.61328-0.94531 1.3477-1.6719 2.2031-2.1719 0.85156-0.5 1.7891-0.75 2.8125-0.75 1.7578 0 3.0977 0.54688 4.0156 1.6406 0.92578 1.0859 1.3906 2.6562 1.3906 4.7188v9.3281h-4.9219v-7.9844-0.35938c0.007813-0.13281 0.015625-0.32031 0.015625-0.5625 0-1.082-0.16406-1.8633-0.48438-2.3438-0.3125-0.48828-0.82422-0.73438-1.5312-0.73438-0.92969 0-1.6484 0.38672-2.1562 1.1562-0.51172 0.76172-0.77344 1.8672-0.78125 3.3125v7.5156h-4.9219v-7.9844c0-1.6953-0.14844-2.7852-0.4375-3.2656-0.29297-0.48828-0.8125-0.73438-1.5625-0.73438-0.9375 0-1.6641 0.38672-2.1719 1.1562-0.51172 0.76172-0.76562 1.8594-0.76562 3.2969v7.5312h-4.9219v-15.312h4.9219v2.2344c0.60156-0.86328 1.2891-1.5156 2.0625-1.9531 0.78125-0.4375 1.6406-0.65625 2.5781-0.65625 1.0625 0 2 0.25781 2.8125 0.76562 0.8125 0.51172 1.4258 1.2305 1.8438 2.1562z"})}),g("symbol",{id:"q",overflow:"visible",children:g("path",{d:"m17.75-9.3281v9.3281h-4.9219v-7.1094c0-1.3438-0.03125-2.2656-0.09375-2.7656s-0.16797-0.86719-0.3125-1.1094c-0.1875-0.3125-0.44922-0.55469-0.78125-0.73438-0.32422-0.17578-0.69531-0.26562-1.1094-0.26562-1.0234 0-1.8242 0.39844-2.4062 1.1875-0.58594 0.78125-0.875 1.8711-0.875 3.2656v7.5312h-4.8906v-21.281h4.8906v8.2031c0.73828-0.88281 1.5195-1.5391 2.3438-1.9688 0.83203-0.42578 1.75-0.64062 2.75-0.64062 1.7695 0 3.1133 0.54688 4.0312 1.6406 0.91406 1.0859 1.375 2.6562 1.375 4.7188z"})}),g("symbol",{id:"p",overflow:"visible",children:g("path",{d:"m2.5781-20.406h5.875l7.4219 14v-14h4.9844v20.406h-5.875l-7.4219-14v14h-4.9844z"})}),g("symbol",{id:"o",overflow:"visible",children:g("path",{d:"m2.5781-20.406h8.7344c2.5938 0 4.582 0.57812 5.9688 1.7344 1.3945 1.1484 2.0938 2.7891 2.0938 4.9219 0 2.1367-0.69922 3.7812-2.0938 4.9375-1.3867 1.1562-3.375 1.7344-5.9688 1.7344h-3.4844v7.0781h-5.25zm5.25 3.8125v5.7031h2.9219c1.0195 0 1.8047-0.25 2.3594-0.75 0.5625-0.5 0.84375-1.2031 0.84375-2.1094 0-0.91406-0.28125-1.6172-0.84375-2.1094-0.55469-0.48828-1.3398-0.73438-2.3594-0.73438z"})}),g("symbol",{id:"n",overflow:"visible",children:g("path",{d:"m2.3594-15.312h4.8906v15.031c0 2.0508-0.49609 3.6172-1.4844 4.7031-0.98047 1.082-2.4062 1.625-4.2812 1.625h-2.4219v-3.2188h0.85938c0.92578 0 1.5625-0.21094 1.9062-0.625 0.35156-0.41797 0.53125-1.2461 0.53125-2.4844zm0-5.9688h4.8906v4h-4.8906z"})}),g("symbol",{id:"m",overflow:"visible",children:g("path",{d:"m14.719-14.828v3.9844c-0.65625-0.45703-1.3242-0.79688-2-1.0156-0.66797-0.21875-1.3594-0.32812-2.0781-0.32812-1.3672 0-2.4336 0.40234-3.2031 1.2031-0.76172 0.79297-1.1406 1.9062-1.1406 3.3438 0 1.4297 0.37891 2.543 1.1406 3.3438 0.76953 0.79297 1.8359 1.1875 3.2031 1.1875 0.75781 0 1.4844-0.10938 2.1719-0.32812 0.6875-0.22656 1.3203-0.56641 1.9062-1.0156v4c-0.76172 0.28125-1.5391 0.48828-2.3281 0.625-0.78125 0.14453-1.5742 0.21875-2.375 0.21875-2.7617 0-4.9219-0.70703-6.4844-2.125-1.5547-1.4141-2.3281-3.3828-2.3281-5.9062 0-2.5312 0.77344-4.5039 2.3281-5.9219 1.5625-1.4141 3.7227-2.125 6.4844-2.125 0.80078 0 1.5938 0.074219 2.375 0.21875 0.78125 0.13672 1.5547 0.35156 2.3281 0.64062z"})})]}),L("g",{children:[g("path",{d:"m612.64 269.36c-25.762-33.602-115.92-134.4-262.64-134.4s-236.32 100.8-262.64 134.4c-5.0391 6.1602-5.0391 15.121 0 21.281 25.762 33.602 115.92 134.4 262.64 134.4s236.32-100.8 262.64-134.4c4.4805-6.1602 4.4805-15.121 0-21.281zm-262.64 118.72c-59.922 0-108.08-48.16-108.08-108.08 0-59.922 48.16-108.08 108.08-108.08 59.922 0 108.08 48.16 108.08 108.08 0 59.922-48.156 108.08-108.08 108.08z"}),g("path",{d:"m419.44 280c0 38.352-31.09 69.441-69.441 69.441s-69.441-31.09-69.441-69.441 31.09-69.441 69.441-69.441 69.441 31.09 69.441 69.441"})]})]}),Ga=()=>L("svg",{className:"h-8 w-8 opacity-80 mr-2 mt-2 fill-skyBlue",version:"1.1",viewBox:"0 0 700 700",children:[L("defs",{children:[g("symbol",{id:"h",overflow:"visible",children:g("path",{d:"m18.766-1.125c-0.96875 0.5-1.9805 0.875-3.0312 1.125-1.043 0.25781-2.1367 0.39062-3.2812 0.39062-3.3984 0-6.0898-0.94531-8.0781-2.8438-1.9922-1.9062-2.9844-4.4844-2.9844-7.7344 0-3.2578 0.99219-5.8359 2.9844-7.7344 1.9883-1.9062 4.6797-2.8594 8.0781-2.8594 1.1445 0 2.2383 0.13281 3.2812 0.39062 1.0508 0.25 2.0625 0.625 3.0312 1.125v4.2188c-0.98047-0.65625-1.9453-1.1406-2.8906-1.4531-0.94922-0.3125-1.9492-0.46875-3-0.46875-1.875 0-3.3516 0.60547-4.4219 1.8125-1.0742 1.1992-1.6094 2.8555-1.6094 4.9688 0 2.1055 0.53516 3.7617 1.6094 4.9688 1.0703 1.1992 2.5469 1.7969 4.4219 1.7969 1.0508 0 2.0508-0.14844 3-0.45312 0.94531-0.3125 1.9102-0.80078 2.8906-1.4688z"})}),g("symbol",{id:"c",overflow:"visible",children:g("path",{d:"m13.734-11.141c-0.4375-0.19531-0.87109-0.34375-1.2969-0.4375-0.41797-0.10156-0.83984-0.15625-1.2656-0.15625-1.2617 0-2.2305 0.40625-2.9062 1.2188-0.67969 0.80469-1.0156 1.9531-1.0156 3.4531v7.0625h-4.8906v-15.312h4.8906v2.5156c0.625-1 1.3438-1.7266 2.1562-2.1875 0.82031-0.46875 1.8008-0.70312 2.9375-0.70312 0.16406 0 0.34375 0.011719 0.53125 0.03125 0.19531 0.011719 0.47656 0.039062 0.84375 0.078125z"})}),g("symbol",{id:"a",overflow:"visible",children:g("path",{d:"m17.641-7.7031v1.4062h-11.453c0.125 1.1484 0.53906 2.0078 1.25 2.5781 0.70703 0.57422 1.7031 0.85938 2.9844 0.85938 1.0312 0 2.082-0.14844 3.1562-0.45312 1.082-0.3125 2.1914-0.77344 3.3281-1.3906v3.7656c-1.1562 0.4375-2.3125 0.76562-3.4688 0.98438-1.1562 0.22656-2.3125 0.34375-3.4688 0.34375-2.7734 0-4.9297-0.70312-6.4688-2.1094-1.5312-1.4062-2.2969-3.3789-2.2969-5.9219 0-2.5 0.75391-4.4609 2.2656-5.8906 1.5078-1.4375 3.582-2.1562 6.2188-2.1562 2.4062 0 4.332 0.73047 5.7812 2.1875 1.4453 1.4492 2.1719 3.3828 2.1719 5.7969zm-5.0312-1.625c0-0.92578-0.27344-1.6719-0.8125-2.2344-0.54297-0.57031-1.25-0.85938-2.125-0.85938-0.94922 0-1.7188 0.26562-2.3125 0.79688s-0.96484 1.2969-1.1094 2.2969z"})}),g("symbol",{id:"l",overflow:"visible",children:g("path",{d:"m9.2188-6.8906c-1.0234 0-1.793 0.17188-2.3125 0.51562-0.51172 0.34375-0.76562 0.85547-0.76562 1.5312 0 0.625 0.20703 1.1172 0.625 1.4688 0.41406 0.34375 0.98828 0.51562 1.7188 0.51562 0.92578 0 1.7031-0.32812 2.3281-0.98438 0.63281-0.66406 0.95312-1.4922 0.95312-2.4844v-0.5625zm7.4688-1.8438v8.7344h-4.9219v-2.2656c-0.65625 0.92969-1.3984 1.6055-2.2188 2.0312-0.82422 0.41406-1.8242 0.625-3 0.625-1.5859 0-2.8711-0.45703-3.8594-1.375-0.99219-0.92578-1.4844-2.1289-1.4844-3.6094 0-1.7891 0.61328-3.1016 1.8438-3.9375 1.2383-0.84375 3.1797-1.2656 5.8281-1.2656h2.8906v-0.39062c0-0.76953-0.30859-1.332-0.92188-1.6875-0.61719-0.36328-1.5703-0.54688-2.8594-0.54688-1.0547 0-2.0312 0.10547-2.9375 0.3125-0.89844 0.21094-1.7305 0.52344-2.5 0.9375v-3.7344c1.0391-0.25 2.0859-0.44141 3.1406-0.57812 1.0625-0.13281 2.125-0.20312 3.1875-0.20312 2.7578 0 4.75 0.54688 5.9688 1.6406 1.2266 1.0859 1.8438 2.8555 1.8438 5.3125z"})}),g("symbol",{id:"b",overflow:"visible",children:g("path",{d:"m7.7031-19.656v4.3438h5.0469v3.5h-5.0469v6.5c0 0.71094 0.14062 1.1875 0.42188 1.4375s0.83594 0.375 1.6719 0.375h2.5156v3.5h-4.1875c-1.9375 0-3.3125-0.39844-4.125-1.2031-0.80469-0.8125-1.2031-2.1797-1.2031-4.1094v-6.5h-2.4219v-3.5h2.4219v-4.3438z"})}),g("symbol",{id:"e",overflow:"visible",children:g("path",{d:"m12.766-13.078v-8.2031h4.9219v21.281h-4.9219v-2.2188c-0.66797 0.90625-1.4062 1.5703-2.2188 1.9844s-1.7578 0.625-2.8281 0.625c-1.8867 0-3.4336-0.75-4.6406-2.25-1.2109-1.5-1.8125-3.4258-1.8125-5.7812 0-2.3633 0.60156-4.2969 1.8125-5.7969 1.207-1.5 2.7539-2.25 4.6406-2.25 1.0625 0 2 0.21484 2.8125 0.64062 0.82031 0.42969 1.5664 1.0859 2.2344 1.9688zm-3.2188 9.9219c1.0391 0 1.8359-0.37891 2.3906-1.1406 0.55078-0.76953 0.82812-1.8828 0.82812-3.3438 0-1.457-0.27734-2.5664-0.82812-3.3281-0.55469-0.76953-1.3516-1.1562-2.3906-1.1562-1.043 0-1.8398 0.38672-2.3906 1.1562-0.55469 0.76172-0.82812 1.8711-0.82812 3.3281 0 1.4609 0.27344 2.5742 0.82812 3.3438 0.55078 0.76172 1.3477 1.1406 2.3906 1.1406z"})}),g("symbol",{id:"k",overflow:"visible",children:g("path",{d:"m10.5-3.1562c1.0508 0 1.8516-0.37891 2.4062-1.1406 0.55078-0.76953 0.82812-1.8828 0.82812-3.3438 0-1.457-0.27734-2.5664-0.82812-3.3281-0.55469-0.76953-1.3555-1.1562-2.4062-1.1562-1.0547 0-1.8594 0.38672-2.4219 1.1562-0.55469 0.77344-0.82812 1.8828-0.82812 3.3281 0 1.4492 0.27344 2.5586 0.82812 3.3281 0.5625 0.77344 1.3672 1.1562 2.4219 1.1562zm-3.25-9.9219c0.67578-0.88281 1.4219-1.5391 2.2344-1.9688 0.82031-0.42578 1.7656-0.64062 2.8281-0.64062 1.8945 0 3.4453 0.75 4.6562 2.25 1.207 1.5 1.8125 3.4336 1.8125 5.7969 0 2.3555-0.60547 4.2812-1.8125 5.7812-1.2109 1.5-2.7617 2.25-4.6562 2.25-1.0625 0-2.0078-0.21094-2.8281-0.625-0.8125-0.42578-1.5586-1.0859-2.2344-1.9844v2.2188h-4.8906v-21.281h4.8906z"})}),g("symbol",{id:"j",overflow:"visible",children:g("path",{d:"m0.34375-15.312h4.8906l4.125 10.391 3.5-10.391h4.8906l-6.4375 16.766c-0.64844 1.6953-1.4023 2.8828-2.2656 3.5625-0.86719 0.6875-2 1.0312-3.4062 1.0312h-2.8438v-3.2188h1.5312c0.83203 0 1.4375-0.13672 1.8125-0.40625 0.38281-0.26172 0.67969-0.73047 0.89062-1.4062l0.14062-0.42188z"})}),g("symbol",{id:"i",overflow:"visible",children:g("path",{d:"m14.953-3.7188h-8.2188l-1.3125 3.7188h-5.2812l7.5625-20.406h6.2656l7.5625 20.406h-5.2812zm-6.9062-3.7812h5.5781l-2.7812-8.125z"})}),g("symbol",{id:"u",overflow:"visible",children:g("path",{d:"m2.3594-15.312h4.8906v15.312h-4.8906zm0-5.9688h4.8906v4h-4.8906z"})}),g("symbol",{id:"g",overflow:"visible",children:g("path",{d:"m17.75-9.3281v9.3281h-4.9219v-7.1406c0-1.3203-0.03125-2.2344-0.09375-2.7344s-0.16797-0.86719-0.3125-1.1094c-0.1875-0.3125-0.44922-0.55469-0.78125-0.73438-0.32422-0.17578-0.69531-0.26562-1.1094-0.26562-1.0234 0-1.8242 0.39844-2.4062 1.1875-0.58594 0.78125-0.875 1.8711-0.875 3.2656v7.5312h-4.8906v-15.312h4.8906v2.2344c0.73828-0.88281 1.5195-1.5391 2.3438-1.9688 0.83203-0.42578 1.75-0.64062 2.75-0.64062 1.7695 0 3.1133 0.54688 4.0312 1.6406 0.91406 1.0859 1.375 2.6562 1.375 4.7188z"})}),g("symbol",{id:"d",overflow:"visible",children:g("path",{d:"m9.6406-12.188c-1.0859 0-1.9141 0.39062-2.4844 1.1719-0.57422 0.78125-0.85938 1.9062-0.85938 3.375s0.28516 2.5938 0.85938 3.375c0.57031 0.77344 1.3984 1.1562 2.4844 1.1562 1.0625 0 1.875-0.38281 2.4375-1.1562 0.57031-0.78125 0.85938-1.9062 0.85938-3.375s-0.28906-2.5938-0.85938-3.375c-0.5625-0.78125-1.375-1.1719-2.4375-1.1719zm0-3.5c2.6328 0 4.6914 0.71484 6.1719 2.1406 1.4766 1.418 2.2188 3.3867 2.2188 5.9062 0 2.5117-0.74219 4.4805-2.2188 5.9062-1.4805 1.418-3.5391 2.125-6.1719 2.125-2.6484 0-4.7148-0.70703-6.2031-2.125-1.4922-1.4258-2.2344-3.3945-2.2344-5.9062 0-2.5195 0.74219-4.4883 2.2344-5.9062 1.4883-1.4258 3.5547-2.1406 6.2031-2.1406z"})}),g("symbol",{id:"t",overflow:"visible",children:g("path",{d:"m9.5469-12.125c-1.043 0-1.8398 0.38672-2.3906 1.1562-0.55469 0.76172-0.82812 1.8711-0.82812 3.3281 0 1.4609 0.27344 2.5742 0.82812 3.3438 0.55078 0.76172 1.3477 1.1406 2.3906 1.1406 1.0391 0 1.8359-0.37891 2.3906-1.1406 0.55078-0.76953 0.82812-1.8828 0.82812-3.3438 0-1.457-0.27734-2.5664-0.82812-3.3281-0.55469-0.76953-1.3516-1.1562-2.3906-1.1562zm3.2188 9.9062c-0.66797 0.90625-1.4062 1.5703-2.2188 1.9844s-1.7578 0.625-2.8281 0.625c-1.8867 0-3.4336-0.75-4.6406-2.25-1.2109-1.5-1.8125-3.4258-1.8125-5.7812 0-2.3633 0.60156-4.2891 1.8125-5.7812 1.207-1.4883 2.7539-2.2344 4.6406-2.2344 1.0703 0 2.0156 0.21484 2.8281 0.64062 0.8125 0.41797 1.5508 1.0742 2.2188 1.9688v-2.2656h4.9219v21.141h-4.9219z"})}),g("symbol",{id:"f",overflow:"visible",children:g("path",{d:"m2.1875-5.9688v-9.3438h4.9219v1.5312c0 0.83594-0.007813 1.875-0.015625 3.125-0.011719 1.25-0.015625 2.0859-0.015625 2.5 0 1.2422 0.03125 2.1328 0.09375 2.6719 0.070313 0.54297 0.17969 0.93359 0.32812 1.1719 0.20703 0.32422 0.47266 0.57422 0.79688 0.75 0.32031 0.16797 0.69141 0.25 1.1094 0.25 1.0195 0 1.8203-0.39062 2.4062-1.1719 0.58203-0.78125 0.875-1.8672 0.875-3.2656v-7.5625h4.8906v15.312h-4.8906v-2.2188c-0.74219 0.89844-1.5234 1.5586-2.3438 1.9844-0.82422 0.41406-1.7344 0.625-2.7344 0.625-1.7617 0-3.1055-0.53906-4.0312-1.625-0.92969-1.082-1.3906-2.6602-1.3906-4.7344z"})}),g("symbol",{id:"s",overflow:"visible",children:g("path",{d:"m12.422-21.281v3.2188h-2.7031c-0.6875 0-1.1719 0.125-1.4531 0.375-0.27344 0.25-0.40625 0.6875-0.40625 1.3125v1.0625h4.1875v3.5h-4.1875v11.812h-4.8906v-11.812h-2.4375v-3.5h2.4375v-1.0625c0-1.6641 0.46094-2.8984 1.3906-3.7031 0.92578-0.80078 2.3672-1.2031 4.3281-1.2031z"})}),g("symbol",{id:"r",overflow:"visible",children:g("path",{d:"m16.547-12.766c0.61328-0.94531 1.3477-1.6719 2.2031-2.1719 0.85156-0.5 1.7891-0.75 2.8125-0.75 1.7578 0 3.0977 0.54688 4.0156 1.6406 0.92578 1.0859 1.3906 2.6562 1.3906 4.7188v9.3281h-4.9219v-7.9844-0.35938c0.007813-0.13281 0.015625-0.32031 0.015625-0.5625 0-1.082-0.16406-1.8633-0.48438-2.3438-0.3125-0.48828-0.82422-0.73438-1.5312-0.73438-0.92969 0-1.6484 0.38672-2.1562 1.1562-0.51172 0.76172-0.77344 1.8672-0.78125 3.3125v7.5156h-4.9219v-7.9844c0-1.6953-0.14844-2.7852-0.4375-3.2656-0.29297-0.48828-0.8125-0.73438-1.5625-0.73438-0.9375 0-1.6641 0.38672-2.1719 1.1562-0.51172 0.76172-0.76562 1.8594-0.76562 3.2969v7.5312h-4.9219v-15.312h4.9219v2.2344c0.60156-0.86328 1.2891-1.5156 2.0625-1.9531 0.78125-0.4375 1.6406-0.65625 2.5781-0.65625 1.0625 0 2 0.25781 2.8125 0.76562 0.8125 0.51172 1.4258 1.2305 1.8438 2.1562z"})}),g("symbol",{id:"q",overflow:"visible",children:g("path",{d:"m17.75-9.3281v9.3281h-4.9219v-7.1094c0-1.3438-0.03125-2.2656-0.09375-2.7656s-0.16797-0.86719-0.3125-1.1094c-0.1875-0.3125-0.44922-0.55469-0.78125-0.73438-0.32422-0.17578-0.69531-0.26562-1.1094-0.26562-1.0234 0-1.8242 0.39844-2.4062 1.1875-0.58594 0.78125-0.875 1.8711-0.875 3.2656v7.5312h-4.8906v-21.281h4.8906v8.2031c0.73828-0.88281 1.5195-1.5391 2.3438-1.9688 0.83203-0.42578 1.75-0.64062 2.75-0.64062 1.7695 0 3.1133 0.54688 4.0312 1.6406 0.91406 1.0859 1.375 2.6562 1.375 4.7188z"})}),g("symbol",{id:"p",overflow:"visible",children:g("path",{d:"m2.5781-20.406h5.875l7.4219 14v-14h4.9844v20.406h-5.875l-7.4219-14v14h-4.9844z"})}),g("symbol",{id:"o",overflow:"visible",children:g("path",{d:"m2.5781-20.406h8.7344c2.5938 0 4.582 0.57812 5.9688 1.7344 1.3945 1.1484 2.0938 2.7891 2.0938 4.9219 0 2.1367-0.69922 3.7812-2.0938 4.9375-1.3867 1.1562-3.375 1.7344-5.9688 1.7344h-3.4844v7.0781h-5.25zm5.25 3.8125v5.7031h2.9219c1.0195 0 1.8047-0.25 2.3594-0.75 0.5625-0.5 0.84375-1.2031 0.84375-2.1094 0-0.91406-0.28125-1.6172-0.84375-2.1094-0.55469-0.48828-1.3398-0.73438-2.3594-0.73438z"})}),g("symbol",{id:"n",overflow:"visible",children:g("path",{d:"m2.3594-15.312h4.8906v15.031c0 2.0508-0.49609 3.6172-1.4844 4.7031-0.98047 1.082-2.4062 1.625-4.2812 1.625h-2.4219v-3.2188h0.85938c0.92578 0 1.5625-0.21094 1.9062-0.625 0.35156-0.41797 0.53125-1.2461 0.53125-2.4844zm0-5.9688h4.8906v4h-4.8906z"})}),g("symbol",{id:"m",overflow:"visible",children:g("path",{d:"m14.719-14.828v3.9844c-0.65625-0.45703-1.3242-0.79688-2-1.0156-0.66797-0.21875-1.3594-0.32812-2.0781-0.32812-1.3672 0-2.4336 0.40234-3.2031 1.2031-0.76172 0.79297-1.1406 1.9062-1.1406 3.3438 0 1.4297 0.37891 2.543 1.1406 3.3438 0.76953 0.79297 1.8359 1.1875 3.2031 1.1875 0.75781 0 1.4844-0.10938 2.1719-0.32812 0.6875-0.22656 1.3203-0.56641 1.9062-1.0156v4c-0.76172 0.28125-1.5391 0.48828-2.3281 0.625-0.78125 0.14453-1.5742 0.21875-2.375 0.21875-2.7617 0-4.9219-0.70703-6.4844-2.125-1.5547-1.4141-2.3281-3.3828-2.3281-5.9062 0-2.5312 0.77344-4.5039 2.3281-5.9219 1.5625-1.4141 3.7227-2.125 6.4844-2.125 0.80078 0 1.5938 0.074219 2.375 0.21875 0.78125 0.13672 1.5547 0.35156 2.3281 0.64062z"})})]}),L("g",{children:[g("path",{d:"m612.64 269.36c-15.121-20.16-53.199-63.281-112-95.762l-54.879 54.879c8.3984 15.121 12.879 32.48 12.879 51.52 0 59.922-48.719 108.08-108.08 108.08-18.48 0-35.84-4.4805-51.52-12.879l-36.961 36.961c26.879 7.8398 56 12.879 88.48 12.879 146.72 0 236.32-100.8 262.64-134.4 3.918-6.1562 3.918-15.117-0.5625-21.277z"}),g("path",{d:"m254.8 330.96c-8.3984-15.121-12.879-32.48-12.879-50.961 0-59.922 48.16-108.08 108.08-108.08 18.48 0 35.84 4.4805 51.52 12.879l36.961-36.961c-26.879-7.8398-56-12.879-88.48-12.879-146.72 0-236.32 100.8-262.64 134.4-5.0391 6.1602-5.0391 15.121 0 21.281 15.121 20.16 53.199 63.281 112 95.762z"}),g("path",{d:"m271.6 280c0 10.078 1.6797 20.16 5.6016 28.559l101.36-101.36c-8.9609-3.3594-18.48-5.6016-28.559-5.6016-43.125 0.003906-78.402 35.281-78.402 78.402z"}),g("path",{d:"m350 358.4c43.121 0 78.398-35.281 78.398-78.398 0-10.078-1.6797-19.602-5.6016-28.559l-101.36 101.36c8.4023 3.3594 18.484 5.5977 28.562 5.5977z"}),g("path",{d:"m568.4 61.602c-7.2812-7.2812-19.039-7.2812-26.32 0l-409.92 409.92c-7.2812 7.2812-7.2812 19.039 0 26.32 3.9219 3.9219 8.3984 5.6016 13.441 5.6016 5.0391 0 9.5195-1.6797 13.441-5.6016l409.92-409.92c6.7188-6.7227 6.7188-19.043-0.5625-26.32z"})]})]}),uoe=({setShowVerfiyModal:t})=>{const e=Vc(),n=mt({mutationFn:d=>Bt.userVerification(d),onSuccess:d=>{d.status==="success"&&(ke.success("User verified successfully"),e("/login"))},onError:d=>{console.log("error",d)}}),r=mt({mutationFn:d=>Bt.sendVerification(d),onSuccess:d=>{d.status==="success"&&ke.success("Verfication code has been sent to your email")},onError:d=>{console.log("error",d)}}),i=E.useRef(null),s=E.useRef(null),o=E.useRef(null),a=E.useRef(null),l=(d,f)=>{d.current.value.length===1&&f.current.focus()},c=()=>{if(i.current.value.trim()!==""&&s.current.value.trim()!==""&&o.current.value.trim()!==""&&a.current.value.trim()!==""){let f={token:i.current.value+""+s.current.value+o.current.value+a.current.value};n.mutate(f)}},u=()=>{const d={email:localStorage.getItem("userEmail")};r.mutate(d)};return L(Lr.div,{initial:{scale:0},animate:{scale:1,transition:{ease:"easeInOut"}},exit:{scale:0,transition:{ease:"easeInOut"}},className:"absolute w-fit flex flex-col items-center shadow-md px-7  py-5 bg-lightBlue z-50 rounded-md top-0 ",children:[g("div",{className:"opacity-40 absolute right-10",children:g(tl,{width:90})}),g("h3",{className:"text-slate-100 text-2xl font-sans mt-16 whitespace-pre ",children:"Please check your email"}),g("p",{className:"text-slate-400 mt-1 font-Rubik text-sm",children:"We've sent a code to the email you provided."}),L("div",{className:"flex gap-4 mt-5",children:[g("input",{type:"number",maxLength:"1",ref:i,id:"input1",onKeyUp:d=>l(i,s),className:"w-14 h-14 btns text-center outline-none focus-within:border-2 border-skyBlue text-3xl rounded-md"}),g("input",{type:"number",maxLength:"1",ref:s,id:"input2",onKeyUp:()=>l(s,o),className:"w-14 h-14 btns text-center outline-none focus-within:border-2 border-skyBlue text-3xl rounded-md"}),g("input",{type:"number",maxLength:"1",ref:o,id:"input3",onKeyUp:()=>l(o,a),className:"w-14 h-14 btns text-center outline-none focus-within:border-2 border-skyBlue text-3xl rounded-md"}),g("input",{type:"number",maxLength:"1",ref:a,id:"input4",className:"w-14 h-14 btns text-center outline-none focus-within:border-2 border-skyBlue text-3xl rounded-md"})]}),L("div",{className:"justify-center flex mt-4 text-sm gap-2 mr-2 font-sans text-neutral-300",children:[g("p",{children:"Didn't get a code?"}),g("button",{disabled:r.isPending,onClick:u,className:"underline text-skyBlue cursor-pointer opacity-70 duration-300 ease-linear transition-opacity hover:opacity-100",children:r.isPending?"Resending...":"Resend"})]}),L("div",{className:"mt-5 flex mr-4 items-center gap-3 justify-center min-w-[10rem]  ",children:[g(jt,{radius:8,width:100,color:"#064d81",speed:500,children:g("p",{onClick:()=>{t(!1)},className:"select-none bg-opacity-50 bg-darkBlue w-fit text-sm cursor-pointer rounded-md block text-neutral-300 py-2 px-4",children:"Cancel"})}),g(jt,{radius:8,width:100,color:"#16191e59",speed:500,children:g("button",{disabled:n.isPending,onClick:c,className:"select-none scale-110 bg-skyBlue w-fit rounded-md text-base cursor-pointer text-neutral-100 py-2 pr-10 px-7",children:"Verify"})})]}),L("p",{className:"text-sm  font-Rubik mt-5 px-8 text-center opacity-60 font-thin text-neutral-300",children:[g("span",{className:"text-red-500 font-medium opacity-100",children:"Note: "})," If you can't find the verification code in your inbox, please check your spam folder as it may have been filtered there."]}),n.isPending&&g("h4",{className:"text-white text-center mb-3 absolute bg-black inset-0 bg-opacity-30 flex items-center justify-center",children:g(Rr,{size:60,color:"#2764eb",speedMultiplier:2})})]})},iE=({title:t,id:e,image:n})=>L("div",{className:"w-fit",children:[L("div",{className:"relative w-36 max-md:w-28 max-md:h-28 h-36 group rounded-md",children:[g("img",{src:n,alt:"",loading:"lazy",className:"w-full h-full object-cover rounded-lg"}),g(Qt,{to:`/playlists/${e}`,className:"absolute flex z-20 opacity-0 rounded-lg group-hover:opacity-100 duration-200 transition-all inset-0 w-full items-center justify-center bg-[#4c4c4c68] text-3xl"})]}),g("h4",{className:" text-center w-36 max-md:w-28 text-darkSongname text-sm mt-2 px-1 max-md:text-[12px]",title:t,children:t})]}),Ny=[{id:"903166403",title:"Best Of Romance - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOfRomanceHindi_20230329050231.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-romance---hindi/SBKnUgjNeMIwkg5tVhI3fw__"},{id:"107724265",title:"Punjab Se Bollywood",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/PunjabseBollywood_20221125094913.jpg",perma_url:"https://www.jiosaavn.com/featured/punjab-se-bollywood/obx07Zza,rHuCJW60TJk1Q__"},{id:"58057412",title:"Let's Play - Best Of Arijit Singh",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/Let_sPlayBestOfArijitSingh_20221107060254.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---best-of-arijit-singh/Iz0pi7nkjUE_"},{id:"158229653",title:"2000s Dance Dhamaaka",subtitle:"26.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/2000sDanceDhamaaka_20210524163821.jpg",perma_url:"https://www.jiosaavn.com/featured/2000s-dance-dhamaaka/9zxDaumQx1gwkg5tVhI3fw__"},{id:"1079336813",title:"Chill Maaro: Lo-Fi Mix",subtitle:"543 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/ChillMaaro-LoFiMix_20220908174414.jpg",perma_url:"https://www.jiosaavn.com/featured/chill-maaro%3A-lo-fi-mix/mAA3xzx2Asqm0KYf4sgO,Q__"},{id:"39416670",title:"Let's Play - Kumar Sanu",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/90sKingKumarSanu_20220722151009.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---kumar-sanu/QeBmhG7Y1uE_"},{id:"1080335349",title:"Hindi Hit Songs",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/HindiHitSongs_20230313043131.jpg",perma_url:"https://www.jiosaavn.com/featured/hindi-hit-songs/ZodsPn39CSjwxP8tCU-flw__"},{id:"1023629070",title:"Best Of Romance: Retro - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOfRomance-RetroHindi_20220311164609.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-romance%3A-retro---hindi/O58xFfZTpydwtkLw7-JlUw__"},{id:"101704478",title:"Jhakaas Remakes",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/JhakaasRemakes_20230404064405.jpg",perma_url:"https://www.jiosaavn.com/featured/jhakaas-remakes/7e2LtwVBX6JFo9wdEAzFBA__"},{id:"57881942",title:"Hindi Hip Hop",subtitle:"61.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/RapCypherHindi_20221031053159.jpg",perma_url:"https://www.jiosaavn.com/featured/hindi-hip-hop/aeQSR5fSByI_"},{id:"946682072",title:"Most Searched Songs - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/MostSearchedSongsHindi_20230227163843.jpg",perma_url:"https://www.jiosaavn.com/featured/most-searched-songs---hindi/csv-SfcHUmHc1EngHtQQ2g__"},{id:"107605145",title:"It's Indie - Hindi",subtitle:"4.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/It_sIndieHindi_20230127173944.jpg",perma_url:"https://www.jiosaavn.com/featured/its-indie---hindi/jnjK2XTv9-3uCJW60TJk1Q__"},{id:"83421839",title:"Ishqiyaan",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/Ishqiyaan_20230217051723.jpg",perma_url:"https://www.jiosaavn.com/featured/ishqiyaan/dyqSeSlJrvI_"},{id:"1065029776",title:"Romantic Hits 2022 - Hindi",subtitle:"32.6K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/RomanticHits2022Hindi_20221207061952.jpg",perma_url:"https://www.jiosaavn.com/featured/romantic-hits-2022---hindi/EzSEwcZfOoB5b0dfvYvasw__"},{id:"6689255",title:"Taaza Tunes",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/TaazaTunes_20230404130020.jpg",perma_url:"https://www.jiosaavn.com/featured/taaza-tunes/Me5RridRfDk_"},{id:"42443196",title:"When Actors Sing",subtitle:"7.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/WhenActorsSing_20230321174332.jpg",perma_url:"https://www.jiosaavn.com/featured/when-actors-sing/tCKs,IB,6Bw_"},{id:"5148894",title:"Nach Le",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/NachLe_20230215043950.jpg",perma_url:"https://www.jiosaavn.com/featured/nach-le/UQjTO6rFZfc_"},{id:"1065031646",title:"Dance Hits 2022 - Hindi",subtitle:"7.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/DanceHits2022Hindi_20221207062023.jpg",perma_url:"https://www.jiosaavn.com/featured/dance-hits-2022---hindi/OI2CgIRtf6wL6veGnGjYOA__"},{id:"156473621",title:"Pop Mein Top",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/PopMeinTop_20230313091926.jpg",perma_url:"https://www.jiosaavn.com/featured/pop-mein-top/pDQtHvJRh4IGSw2I1RxdhQ__"},{id:"156654587",title:"Let's Play - Jubin Nautiyal",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/JubinNautiyalSings_20220722150848.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---jubin-nautiyal/cyd1elB4lx5ieSJqt9HmOQ__"},{id:"72903410",title:"Sirf Unplugged",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/Unplugged_20220110155848.jpg",perma_url:"https://www.jiosaavn.com/featured/sirf-unplugged/QkY0PeqdTW4_"},{id:"158221835",title:"Best Of Sad Songs - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOfSadSongsHindi_20220922012526.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-sad-songs---hindi/WjjhR,A3iLLuCJW60TJk1Q__"},{id:"757656308",title:"2000s Duets - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/2000sDuets_20211203161917.jpg",perma_url:"https://www.jiosaavn.com/featured/2000s-duets---hindi/NaV3HkhAB5FFo9wdEAzFBA__"},{id:"1021029897",title:"Desi R&B",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/DesiR_B_20220110160141.jpg",perma_url:"https://www.jiosaavn.com/featured/desi-rb/1rsxc6d-ReGTb7czG7lKZg__"},{id:"1139074020",title:"Most Streamed Love Songs: Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/MostStreamedLoveSongs-Hindi_20230203050543.jpg",perma_url:"https://www.jiosaavn.com/featured/most-streamed-love-songs%3A-hindi/RQKZhDpGh8uAIonqf0gmcg__"},{id:"1065034699",title:"Indipop Hits 2022 - Hindi",subtitle:"10.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/IndipopHits2022Hindi_20221207062016.jpg",perma_url:"https://www.jiosaavn.com/featured/indipop-hits-2022---hindi/LDT3HRL64Ab5me0dITeP4w__"},{id:"802336660",title:"Arijit's Sad Songs",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/ArijitSadSongs_20211117063136.jpg",perma_url:"https://www.jiosaavn.com/featured/arijits-sad-songs/8RkefqkCO1huOxiEGmm6lQ__"},{id:"155321561",title:"Best Of 2000s - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/NothingBut2000s_20221102172203.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-2000s---hindi/w,zEBfumNkQGSw2I1RxdhQ__"},{id:"1065037411",title:"Chartbusters 2022 - Hindi",subtitle:"26.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/Chartbusters2022Hindi_20221207062041.jpg",perma_url:"https://www.jiosaavn.com/featured/chartbusters-2022---hindi/BoCMKTIADKirB59Sr2unUQ__"},{id:"3379491",title:"Best Of 90s - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOf90sHindi_20230325080752.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-90s---hindi/j44dgfQrkXY_"},{id:"4340227",title:"Let's Play: Ranbir Kapoor",subtitle:"11.2K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/Let_sPlay-RanbirKapoor_20230105165917.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play%3A-ranbir-kapoor/TmVxhTfZgT0_"},{id:"940775963",title:"Best Of Indipop - Hindi",subtitle:"10.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOfIndipopHindi_20220817093953.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-indipop---hindi/xHa-oM3ldXAwkg5tVhI3fw__"},{id:"158223987",title:"Chill Maaro",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/ChillMaaro_20221027154028.jpg",perma_url:"https://www.jiosaavn.com/featured/chill-maaro/CZTTBas4j8RieSJqt9HmOQ__"},{id:"937067404",title:"Sounds Of Music - Dhol: Hindi",subtitle:"4.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/SoundsOfMusicDhol-Hindi_20211207205002.jpg",perma_url:"https://www.jiosaavn.com/featured/sounds-of-music---dhol%3A-hindi/y,oHQ009nL-ufxkxMEIbIw__"},{id:"1022248677",title:"Sufiyana",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/Sufiyana_20220114191625.jpg",perma_url:"https://www.jiosaavn.com/featured/sufiyana/LR--ScMDc-dNXRw7JlcL4A__"},{id:"330056058",title:"Desi Rock",subtitle:"20.6K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/DesiRockSongs_20210120154545.jpg",perma_url:"https://www.jiosaavn.com/featured/desi-rock/DGl4UBWnRqlFo9wdEAzFBA__"},{id:"159470188",title:"90s Duets - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/90sDuetsHindiSongs_20210120154331.jpg",perma_url:"https://www.jiosaavn.com/featured/90s-duets---hindi/Icd5-BIRMLpFo9wdEAzFBA__"},{id:"87335138",title:"Let's Play - Pritam",subtitle:"59.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/PritamsMostPopularHits_20220720173033.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---pritam/MjVxP7sdcAo_"},{id:"40081",title:"Let's Play - Best Of Himesh Reshammiya.",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/HimeshKaSurroor_20220720172817.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---best-of-himesh-reshammiya./NJvrQ0uZYrE_"},{id:"902527675",title:"Romance With Salman Khan - Hindi ",subtitle:"1.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/RomanceWithSalmanKhanHindi_20210202051825.jpg",perma_url:"https://www.jiosaavn.com/featured/romance-with-salman-khan---hindi-/P,yZVkHd3s7uCJW60TJk1Q__"},{id:"973349683",title:"Sounds Of Music - Tabla: Hindi",subtitle:"1.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/SoundsOfMusicTabla-Hindi_20211027161946.jpg",perma_url:"https://www.jiosaavn.com/featured/sounds-of-music---tabla%3A-hindi/2,1w-03605Ewkg5tVhI3fw__"},{id:"630562005",title:"Let's Play: Kartik Aaryan",subtitle:"3.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BomDiggyDiggyKartikAaryan_20230118160411.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play%3A-kartik-aaryan/GL8Bokz,xzjuCJW60TJk1Q__"},{id:"932189657",title:"Best Of Dance - Hindi",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOfDanceHindi_20230329050200.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-dance---hindi/qVvfieICUY5ieSJqt9HmOQ__"},{id:"804316688",title:"Hindi EDM",subtitle:"15.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/HindiEDM_20220624153714.jpg",perma_url:"https://www.jiosaavn.com/featured/hindi-edm/OYy8Eam-WpZFo9wdEAzFBA__"},{id:"70710821",title:"Let's Play - KK",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/Let_sPlayKK_20220817171225.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---kk/cJ7budqetu0_"},{id:"158221880",title:"Old Is Gold",subtitle:"15.2K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/OldIsGold_20221027153829.jpg",perma_url:"https://www.jiosaavn.com/featured/old-is-gold/IFTYFbu2anRuOxiEGmm6lQ__"}],doe=[{id:"827702921",title:"Let's Play - Priyanka Singh",subtitle:"1.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/PriyankaSinghBhojpuri_20221205104724.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---priyanka-singh/xjEF,TIdJFsGSw2I1RxdhQ__",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"1071",last_updated:"1679385522",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"4637712",title:"Let's Play - Pawan Singh",subtitle:"48.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BestofPawanSingh_20221205104323.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---pawan-singh/nFjJ3YhbbBA_",more_info:{song_count:"44",firstname:"JioSaavn",follower_count:"48362",last_updated:"1679990365",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"825331567",title:"Let's Play - Pramod Premi Yadav",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/PramodPremiYadavBhojpuri_20221206161830.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---pramod-premi-yadav/-wjHBxD8g1FieSJqt9HmOQ__",more_info:{song_count:"42",firstname:"JioSaavn",follower_count:"15146",last_updated:"1680559862",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"947874207",title:"Cheer For India - Bhojpuri",subtitle:"205 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/CheerForIndiaBhojpuri_20221018054834.jpg",perma_url:"https://www.jiosaavn.com/featured/cheer-for-india---bhojpuri/IQ2qvbpo2z9ieSJqt9HmOQ__",more_info:{song_count:"20",firstname:"JioSaavn",follower_count:"205",last_updated:"1666038468",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"904464558",title:"Let's Play - Shilpi Raj",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/ShilpiRajBhojpuriHits_20221205104033.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---shilpi-raj/Rl,Zz6Dy5vZFo9wdEAzFBA__",more_info:{song_count:"48",firstname:"JioSaavn",follower_count:"12248",last_updated:"1680560305",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"1066139257",title:"Romantic Hits 2022 - Bhojpuri",subtitle:"7.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/RomanticHits2022Bhojpuri_20221207125156.jpg",perma_url:"https://www.jiosaavn.com/featured/romantic-hits-2022---bhojpuri/KKn-ra9OOZj9wIHXZ0JrGQ__",more_info:{song_count:"20",firstname:"JioSaavn",follower_count:"7303",last_updated:"1678866590",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"814809310",title:"Mauj Ba",subtitle:"115 Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/MaujBa_20200717173508.jpg",perma_url:"https://www.jiosaavn.com/featured/mauj-ba/qWyfk0EBxnluOxiEGmm6lQ__",more_info:{song_count:"27",firstname:"JioSaavn",follower_count:"115",last_updated:"1657956612",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"775084874",title:"Best of Retro - Bhojpuri",subtitle:"805 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BestofRetroBhojpuri_20221124180159.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-retro----bhojpuri/0ssacZ6aMA7ufxkxMEIbIw__",more_info:{song_count:"100",firstname:"JioSaavn",follower_count:"805",last_updated:"1676443448",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"671932016",title:"Decade Of 2010s - Pop - Bhojpuri",subtitle:"130 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/DecadeOfPop2010sBhojpuri_20230130100220.jpg",perma_url:"https://www.jiosaavn.com/featured/decade-of-2010s---pop---bhojpuri/oCT7p0NANWHfemJ68FuXsA__",more_info:{song_count:"28",firstname:"JioSaavn",follower_count:"130",last_updated:"1676532551",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"6076874",title:"Lallantap Style - Bhojpuri",subtitle:"16K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/LallantapStyleBhojpuri_20221209101914.jpg",perma_url:"https://www.jiosaavn.com/featured/lallantap-style---bhojpuri/QtjaRbI3wF4_",more_info:{song_count:"31",firstname:"JioSaavn",follower_count:"16043",last_updated:"1679537589",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"812967836",title:"Let's Play - Antra Singh Priyanka",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/AntraSinghPriyankaBhojpuri_20221205105334.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---antra-singh-priyanka/utpS8jDgVTbfemJ68FuXsA__",more_info:{song_count:"49",firstname:"JioSaavn",follower_count:"5503",last_updated:"1680559265",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"1028217184",title:"Chill Love Songs - Bhojpuri",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/MoodsOfLoveChillLoveSongsBhojpuri_20220204125322.jpg",perma_url:"https://www.jiosaavn.com/featured/chill-love-songs---bhojpuri/KnTutplbAUhhRz-S355tZQ__",more_info:{song_count:"23",firstname:"JioSaavn",follower_count:"808",last_updated:"1680575436",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"946339274",title:"Romantic Hits 2021 - Bhojpuri",subtitle:"10.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/RomanticHits2021Bhojpuri_20211206182052.jpg",perma_url:"https://www.jiosaavn.com/featured/romantic-hits-2021---bhojpuri/Z5t5d90YrPPufxkxMEIbIw__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"10289",last_updated:"1680054473",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"1011780586",title:"Indie Hits 2021 - Bhojpuri",subtitle:"2.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/INDIEpendentHits2021Bhojpuri_20221214055151.jpg",perma_url:"https://www.jiosaavn.com/featured/indie-hits-2021---bhojpuri/oISVNWNk0upBMalTlcv5jA__",more_info:{song_count:"24",firstname:"JioSaavn",follower_count:"2086",last_updated:"1676422923",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"947101728",title:"Indipop Hits 2021 - Bhojpuri",subtitle:"2.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/IndipopHits2021Bhojpuri_20211206181004.jpg",perma_url:"https://www.jiosaavn.com/featured/indipop-hits-2021---bhojpuri/vyybw4WpOnVFo9wdEAzFBA__",more_info:{song_count:"22",firstname:"JioSaavn",follower_count:"2105",last_updated:"1677223751",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"3481077",title:"Let's Play - Monalisa",subtitle:"2.6K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/MonalisaHits_20230224184349.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---monalisa/9cu4v0PtLWI_",more_info:{song_count:"22",firstname:"JioSaavn",follower_count:"2618",last_updated:"1677616009",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"947088388",title:"Dance Hits 2021 - Bhojpuri",subtitle:"4.5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/DanceHits2021Bhojpuri_20211206180606.jpg",perma_url:"https://www.jiosaavn.com/featured/dance-hits-2021---bhojpuri/piR0f9PkJuNFo9wdEAzFBA__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"4486",last_updated:"1676402501",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"4931051",title:"Club Party: Bhojpuri",subtitle:"1.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/ClubParty-Bhojpuri_20200619165425.jpg",perma_url:"https://www.jiosaavn.com/featured/club-party%3A-bhojpuri/wHSKB3IoF6Q_",more_info:{song_count:"29",firstname:"JioSaavn",follower_count:"1855",last_updated:"1679537940",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"834787488",title:"Bharat Sharma Vyas 90s Hits ",subtitle:"1.2K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/BharatSharmaVyas90sHits_20210827112712.jpg",perma_url:"https://www.jiosaavn.com/featured/bharat-sharma-vyas-90s-hits-/UJs8EpIeXwBFo9wdEAzFBA__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"1176",last_updated:"1678916317",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"826403055",title:"Pawan Singh Ke Dhamaal Ba",subtitle:"12.5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/PawanSinghKeDhamaalBa_20221111055055.jpg",perma_url:"https://www.jiosaavn.com/featured/pawan-singh-ke-dhamaal-ba/BMNXxGEIwe7uCJW60TJk1Q__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"12453",last_updated:"1679990464",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"159470210",title:"Let's Play - Kajal Raghwani ",subtitle:"2.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/KajalRaghwaniHitsBhojpuri_20230224181014.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---kajal-raghwani-/V6Umh8mK3UNuOxiEGmm6lQ__",more_info:{song_count:"33",firstname:"JioSaavn",follower_count:"2106",last_updated:"1677616510",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"825348231",title:"Let's Play Akshara Singh ",subtitle:"3.5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/AksharaSinghBhojpuri_20230129180504.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play-akshara-singh-/9L36aPUW7uQGSw2I1RxdhQ__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"3482",last_updated:"1679990624",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"819235099",title:"We Are India - Bhojpuri",subtitle:"2.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/WeAreIndiaBhojpuri_20200728112043.jpg",perma_url:"https://www.jiosaavn.com/featured/we-are-india---bhojpuri/WKwePgWkPlaO0eMLZZxqsA__",more_info:{song_count:"40",firstname:"JioSaavn",follower_count:"2085",last_updated:"1678057836",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"397222801",title:"Best of 2019 - Pop Bhojpuri ",subtitle:"379 Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/Bestof2019PopBhojpuri_20191212052625.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-2019----pop-bhojpuri-/aG0UydEOHLAGSw2I1RxdhQ__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"379",last_updated:"1676419861",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158224469",title:"Let's Play - Khesari Lal Yadav",subtitle:"27.5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/KhesariLalYadavHits_20221205103302.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---khesari-lal-yadav/my1zfKUyWvmO0eMLZZxqsA__",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"27528",last_updated:"1679383297",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"838535799",title:"Only Dance - Bhojpuri",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/OnlyDanceBhojpuri_20220901184639.jpg",perma_url:"https://www.jiosaavn.com/featured/only-dance---bhojpuri/O2S2vcw1ai2O0eMLZZxqsA__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"419",last_updated:"1680559661",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158226394",title:"Rani Chaterjee Bhojpuri Hits",subtitle:"1.1K Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/RaniChaterjeeBhojpuriHits_20200722180246.jpg",perma_url:"https://www.jiosaavn.com/featured/rani-chaterjee-bhojpuri-hits/PxoHToC8KT-ufxkxMEIbIw__",more_info:{song_count:"26",firstname:"JioSaavn",follower_count:"1083",last_updated:"1666213315",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"827138699",title:"Most Searched Hits 2020 - Bhojpuri",subtitle:"5.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/MostSearchedHits2020Bhojpuri_20201208101128.jpg",perma_url:"https://www.jiosaavn.com/featured/most-searched-hits-2020---bhojpuri/zK,4MwRkTq2O0eMLZZxqsA__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"5146",last_updated:"1678057837",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"836614673",title:"Dhananjay Mishra 2000s Hits ",subtitle:"JioSaavn",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/DhananjayMishra2000sHits_20210909121716.jpg",perma_url:"https://www.jiosaavn.com/featured/dhananjay-mishra-2000s-hits-/ybXtioCDMuQwkg5tVhI3fw__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"52",last_updated:"1676420022",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"3614682",title:"Let's Play - Arvind Akela",subtitle:"5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/ArvindAkelaHitsBhojpuri_20221205111851.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---arvind-akela/WKqx9oM9PKA_",more_info:{song_count:"33",firstname:"JioSaavn",follower_count:"5026",last_updated:"1679383101",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158224624",title:"Desi Style Love - Bhojpuri",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/DesiStyleLoveBhojpuri_20220816183315.jpg",perma_url:"https://www.jiosaavn.com/featured/desi-style-love---bhojpuri/-85qVNft68nufxkxMEIbIw__",more_info:{song_count:"31",firstname:"JioSaavn",follower_count:"5749",last_updated:"1680560125",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"807947916",title:"Satrangi Pyaar - Bhojpuri",subtitle:"2.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/MonsoonMomentsSatrangiPyaarBhojpuri_20220720181202.jpg",perma_url:"https://www.jiosaavn.com/featured/satrangi-pyaar---bhojpuri/MgReBl5DOSPfemJ68FuXsA__",more_info:{song_count:"22",firstname:"JioSaavn",follower_count:"2385",last_updated:"1670916065",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"738066254",title:"70s Romance Bhojpuri",subtitle:"375 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/70sRomanceBhojpuri_20210820105026.jpg",perma_url:"https://www.jiosaavn.com/featured/70s-romance--bhojpuri/Ed4Hmj7wxybufxkxMEIbIw__",more_info:{song_count:"21",firstname:"JioSaavn",follower_count:"375",last_updated:"1675293682",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"738093151",title:"2000s Romance : Bhojpuri",subtitle:"1.2K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/2000sRomance-Bhojpuri_20210909181244.jpg",perma_url:"https://www.jiosaavn.com/featured/2000s-romance-%3A-bhojpuri/FQUe,9CUaesGSw2I1RxdhQ__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"1199",last_updated:"1676415241",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"904463323",title:"Let's Play - Neelkamal Singh",subtitle:"3.5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/NeelkamalSinghBhojpuriHits_20221205111526.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---neelkamal-singh/wxcD6JdrxZAwkg5tVhI3fw__",more_info:{song_count:"51",firstname:"JioSaavn",follower_count:"3548",last_updated:"1679990287",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"2677953",title:"Retro Romance - Bhojpuri",subtitle:"2K Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/RetroRomanceBhojpuri_20200413185059.jpg",perma_url:"https://www.jiosaavn.com/featured/retro-romance---bhojpuri/qVAzHLNu8Ls_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"2032",last_updated:"1670917327",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"906612081",title:"Bhojpuria Pop",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/BhojpuriaPop_20230203063225.jpg",perma_url:"https://www.jiosaavn.com/featured/bhojpuria-pop/6djU25CKKQIGSw2I1RxdhQ__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"7688",last_updated:"1680559395",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158223824",title:"Bhojpuri Retro Hits",subtitle:"320 Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/BhojpuriRetroHits_20200414131729.jpg",perma_url:"https://www.jiosaavn.com/featured/bhojpuri-retro-hits/IyvGIHdI68TufxkxMEIbIw__",more_info:{song_count:"26",firstname:"JioSaavn",follower_count:"320",last_updated:"1676422099",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"838275867",title:"Let's Play - Samar Singh",subtitle:"2.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/Let_sPlaySamarSingh_20230110124020.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---samar-singh/pVwO6SuKvNdieSJqt9HmOQ__",more_info:{song_count:"42",firstname:"JioSaavn",follower_count:"2386",last_updated:"1678866506",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"6223856",title:"Flirty Babua - Bhojpuri",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/FlirtyBabuaBhojpuri_20220816183042.jpg",perma_url:"https://www.jiosaavn.com/featured/flirty-babua---bhojpuri/xuVzEMB,7IU_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"4570",last_updated:"1680559527",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158224326",title:"Malini Awasthi - Bhojpuri Geet",subtitle:"627 Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/MaliniAwasthiBhojpuriGeet_20200305061617.jpg",perma_url:"https://www.jiosaavn.com/featured/malini-awasthi---bhojpuri-geet/OUQnkT-F7ZXfemJ68FuXsA__",more_info:{song_count:"26",firstname:"JioSaavn",follower_count:"627",last_updated:"1670889435",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"5672456",title:"Best of Rakesh Mishra",subtitle:"2.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BestofRakeshMishra_20220619172504.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-rakesh-mishra/nsjYe8TEILM_",more_info:{song_count:"34",firstname:"JioSaavn",follower_count:"2375",last_updated:"1679384743",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"5865896",title:"Tatka Tunes - Bhojpuri",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/TatkaTunesBhojpuri_20230324123525.jpg",perma_url:"https://www.jiosaavn.com/featured/tatka-tunes---bhojpuri/zjTR4eVQMY4_",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"29363",last_updated:"1680575821",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158225635",title:"Udit Narayan Bhojpuri",subtitle:"250 Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/UditNarayanBhojpuri_20200128055712.jpg",perma_url:"https://www.jiosaavn.com/featured/udit-narayan--bhojpuri/2NYImauDt73uCJW60TJk1Q__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"250",last_updated:"1618993994",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"902923516",title:"Romance With Khesari Lal Yadav - Bhojpuri",subtitle:"9.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/RomanceWithKhesariLalYadavBhojpuri_20220621172152.jpg",perma_url:"https://www.jiosaavn.com/featured/romance-with-khesari-lal-yadav---bhojpuri/FUX608zIMJnfemJ68FuXsA__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"9308",last_updated:"1678866120",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"521778632",title:"Asha Bhosle - Bhojpuri ",subtitle:"1.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/AshaBhosleBhojpuri_20220904181529.jpg",perma_url:"https://www.jiosaavn.com/featured/asha-bhosle----bhojpuri-/aayTJpfO6Sjc1EngHtQQ2g__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"1395",last_updated:"1676422449",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"3722872",title:"Romance With Pawan Singh ",subtitle:"57.8K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/RomanceWithPawanSingh_20210204181354.jpg",perma_url:"https://www.jiosaavn.com/featured/romance-with-pawan-singh-/LVhECKQMyCQ_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"57762",last_updated:"1676403456",uid:"phulki_user"},explicit_content:"0",mini_obj:!0}],foe=[{id:"107320028",title:"Hello K-Pop",subtitle:"29.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/HelloKPop_20230324124555.jpg",perma_url:"https://www.jiosaavn.com/featured/hello-k-pop/qmcsGAI9mRFFo9wdEAzFBA__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"29080",last_updated:"1680483061",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"158224864",title:"Todays Top Hits",subtitle:"11K Followers",type:"playlist",image:"http://c.saavncdn.com/editorial/logo/TodaysTopHits_20190502065839.jpg",perma_url:"https://www.jiosaavn.com/featured/todays-top-hits/Tpi7AUqAq8nufxkxMEIbIw__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"11010",last_updated:"1674535665",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"48189087",title:"English Viral Hits",subtitle:"130.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/EnglishViralHits_20230228043826.jpg",perma_url:"https://www.jiosaavn.com/featured/english-viral-hits/pm49jiq,CNs_",more_info:{song_count:"20",firstname:"JioSaavn",follower_count:"130371",last_updated:"1680247817",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"59583701",title:"Let's Play - Bob Marley",subtitle:"2.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/BobMarleyATribute_20210128182858.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---bob-marley/uGrA,YVqqn4_",more_info:{song_count:"20",firstname:"JioSaavn",follower_count:"2254",last_updated:"1665092505",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"33085749",title:"90s Boy Bands",subtitle:"5.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/90sBoyBands_20210817063254.jpg",perma_url:"https://www.jiosaavn.com/featured/90s-boy-bands/GJYfME1bv,4_",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"5312",last_updated:"1680555806",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"110268793",title:"Let's Play - Drake",subtitle:"2.2K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/RapRoyaltyDrake_20201110053659.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---drake/MBMuHZ,FJygwkg5tVhI3fw__",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"2244",last_updated:"1680561696",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"84909952",title:"Retro Workout",subtitle:"3.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/ThrowbackThrust_20220427182658.jpg",perma_url:"https://www.jiosaavn.com/featured/retro-workout/xfuqSXKF,Ao_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"3090",last_updated:"1678064667",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"81555150",title:"And the Award Goes To",subtitle:"3.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/AndtheAwardGoesTo_20230206075215.jpg",perma_url:"https://www.jiosaavn.com/featured/and-the-award-goes-to/HfSVfKooRxo_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"3918",last_updated:"1675655064",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"86183802",title:"Rap Cypher - English",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/RapCypherEnglish_20230310101158.jpg",perma_url:"https://www.jiosaavn.com/featured/rap-cypher---english/nc,LQ5hFF2I_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"73654",last_updated:"1680663606",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"146434735",title:"Latest Latin",subtitle:"16.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/LatestLatin_20230324125036.jpg",perma_url:"https://www.jiosaavn.com/featured/latest-latin/iZf3wDHw2nTuCJW60TJk1Q__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"16686",last_updated:"1680238793",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"159451264",title:"TV Tunes",subtitle:"863 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/TVTunes_20221019054419.jpg",perma_url:"https://www.jiosaavn.com/featured/tv-tunes/Ycxx-Ge0j0jufxkxMEIbIw__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"863",last_updated:"1675806624",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"286074037",title:"Let's Play - Billie Eilish",subtitle:"2.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/DarkRoomPopBillieEilish_20210603183306.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---billie-eilish/9FW8zUEIHh9ieSJqt9HmOQ__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"2716",last_updated:"1680553785",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"84902960",title:"Treadmill Pop",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/TreadmillPop_20230405091021.jpg",perma_url:"https://www.jiosaavn.com/featured/treadmill-pop/SF9VDfc5vr4_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"10782",last_updated:"1680649874",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"103330400",title:"Rock Of New Ages",subtitle:"8.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/RockOfNewAges_20230313064220.jpg",perma_url:"https://www.jiosaavn.com/featured/rock-of-new-ages/LlG94Or10VVuOxiEGmm6lQ__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"8899",last_updated:"1680239015",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"741760391",title:"80s Romance - English",subtitle:"2.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/80sRomanceEnglish_20210204191709.jpg",perma_url:"https://www.jiosaavn.com/featured/80s-romance---english/G5BejXQjQ-gGSw2I1RxdhQ__",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"2724",last_updated:"1678829173",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"81399744",title:"Heartbeats",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/Heartbeats_20230315111556.jpg",perma_url:"https://www.jiosaavn.com/featured/heartbeats/8j,bJexTYcE_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"108469",last_updated:"1680663038",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"85714422",title:"Pop Hits Remixed",subtitle:"2.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/PopHitsRemixed_20211006114953.jpg",perma_url:"https://www.jiosaavn.com/featured/pop-hits-remixed/vmU7Qe,EtZg_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"2667",last_updated:"1680560831",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"89593838",title:"So Fresh Dance Hits",subtitle:"10.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/SoFreshDanceHits_20230331124435.jpg",perma_url:"https://www.jiosaavn.com/featured/so-fresh-dance-hits/rEDxb7swgvE_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"10127",last_updated:"1680232043",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"41706960",title:"Movie Award Winners 2022",subtitle:"1.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/MovieAwardNominees2022_20220328061005.jpg",perma_url:"https://www.jiosaavn.com/featured/movie-award-winners-2022/jxG2mkx1Wu4_",more_info:{song_count:"12",firstname:"JioSaavn",follower_count:"1099",last_updated:"1648412642",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"84639340",title:"Just Dance",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/JustDance_20230331141830.jpg",perma_url:"https://www.jiosaavn.com/featured/just-dance/ykq09QJIZlU_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"41678",last_updated:"1680663268",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"772653250",title:"Best Of 2010s - English",subtitle:"21.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BestOf2010sEnglish_20221107122026.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-2010s---english/NU7Htu23ulBuOxiEGmm6lQ__",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"21875",last_updated:"1680550983",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"173255392",title:"The Drop",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/TheDrop_20230331142031.jpg",perma_url:"https://www.jiosaavn.com/featured/the-drop/NkWn3dHw0Krc1EngHtQQ2g__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"72864",last_updated:"1680663454",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"81169234",title:"Now Playing Pop",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/NowPlayingPop_20230331140958.jpg",perma_url:"https://www.jiosaavn.com/featured/now-playing-pop/IQO11xk800E_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"178153",last_updated:"1680664187",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"71278304",title:"Dubstep District",subtitle:"1.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/DubstepDistrict_20210514032600.jpg",perma_url:"https://www.jiosaavn.com/featured/dubstep-district/AGUCsyIl7Ys_",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"1404",last_updated:"1623371491",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"318905009",title:"Global Hip Hop - Inspired By India",subtitle:"686 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/GlobalHipHopMadeByIndia_20210119080526.jpg",perma_url:"https://www.jiosaavn.com/featured/global-hip-hop---inspired-by-india/SMmnECM1DXuO0eMLZZxqsA__",more_info:{song_count:"26",firstname:"JioSaavn",follower_count:"686",last_updated:"1611003972",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"802132644",title:"Best Of 90s - English",subtitle:"2.1K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/AllDayShuffle90sEnglish_20221107115652.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-90s---english/dO89Ji-UF1vufxkxMEIbIw__",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"2128",last_updated:"1680551296",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"154872459",title:"Let's Play - Marshmello",subtitle:"5.8K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/FlywithMarshmello_20210128182903.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---marshmello/jzouuupZPvuO0eMLZZxqsA__",more_info:{song_count:"40",firstname:"JioSaavn",follower_count:"5800",last_updated:"1680561389",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"157562317",title:"Let's Play - Cardi B",subtitle:"1.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/InvasionofCardiB_20210205172855.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---cardi-b/-J9EgReCYDVieSJqt9HmOQ__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"1382",last_updated:"1680555236",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"85481065",title:"Fresh Tunes",subtitle:"Just Updated",type:"playlist",image:"https://c.saavncdn.com/editorial/FreshTunes_20230331124246.jpg",perma_url:"https://www.jiosaavn.com/featured/fresh-tunes/Ns2UZo9qDvI_",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"216636",last_updated:"1680750586",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"109726651",title:"Let's Play - Zayn Malik",subtitle:"4.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/UltimateZAYNPlaylist_20210110155236.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---zayn-malik/xNUHVoEiYDYGSw2I1RxdhQ__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"4319",last_updated:"1680553505",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"812596167",title:"RnB Hits 2020 - English",subtitle:"348 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/RnBHits2020English_20201205044650.jpg",perma_url:"https://www.jiosaavn.com/featured/rnb-hits-2020---english/5YEMPRyXvhFieSJqt9HmOQ__",more_info:{song_count:"20",firstname:"JioSaavn",follower_count:"348",last_updated:"1607643363",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"103330255",title:"Discover Covers",subtitle:"721 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/DiscoverCovers_20220315102040.jpg",perma_url:"https://www.jiosaavn.com/featured/discover-covers/H9kXTTo5JLDuCJW60TJk1Q__",more_info:{song_count:"31",firstname:"JioSaavn",follower_count:"721",last_updated:"1669332158",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"111073796",title:"Be Your Queen",subtitle:"2.5K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BeyourQueen_20230306100836.jpg",perma_url:"https://www.jiosaavn.com/featured/be-your-queen/6Adca9tTv3zfemJ68FuXsA__",more_info:{song_count:"46",firstname:"JioSaavn",follower_count:"2511",last_updated:"1679881400",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"109434663",title:"Kids Movie Hits",subtitle:"3.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/KidsMovieHits_20221101073055.jpg",perma_url:"https://www.jiosaavn.com/featured/kids-movie-hits/B9ntHBM3OGwwkg5tVhI3fw__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"3311",last_updated:"1668537439",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"85897886",title:"Let's Play - The Weeknd",subtitle:"3.3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/TheWeekndIsHere_20201110054009.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---the-weeknd/TDgTn0rFX18_",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"3253",last_updated:"1680553010",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"81852466",title:"Fresh RnB",subtitle:"13.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/FreshRnB_20230331132803.jpg",perma_url:"https://www.jiosaavn.com/featured/fresh-rnb/kwJkRwJz89k_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"13449",last_updated:"1680233408",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"66391811",title:"Let's Play - Selena Gomez",subtitle:"12.6K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/SelenaGomezAllHerHits_20210110182136.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---selena-gomez/XvrpnngQRBE_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"12582",last_updated:"1680554469",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"799932331",title:"Let's Play - Megan Thee Stallion",subtitle:"JioSaavn",type:"playlist",image:"https://c.saavncdn.com/editorial/LetsPlayMeganTheeStallion_20220812161111.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---megan-thee-stallion/IMPn6laNLLsGSw2I1RxdhQ__",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"88",last_updated:"1675735062",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"155226430",title:"Lets Play - Shawn Mendes",subtitle:"8.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/ShawnMendesAllHisHits_20201110054000.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---shawn-mendes/z3KHq,9yCQ9uOxiEGmm6lQ__",more_info:{song_count:"26",firstname:"JioSaavn",follower_count:"8372",last_updated:"1671497126",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"109952398",title:"Tales and Stories",subtitle:"706 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/TalesandStories_20220427182320.jpg",perma_url:"https://www.jiosaavn.com/featured/tales-and-stories/Seeo,Cc2CERFo9wdEAzFBA__",more_info:{song_count:"11",firstname:"JioSaavn",follower_count:"706",last_updated:"1651047961",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"102635026",title:"Rainy Day Rock",subtitle:"3K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/RainyDayRock_20220701140721.jpg",perma_url:"https://www.jiosaavn.com/featured/rainy-day-rock/dJHXbtH,ADnfemJ68FuXsA__",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"2985",last_updated:"1656648602",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"78211018",title:"Best of Dance - English",subtitle:"6.2K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BestofDanceEnglish_20230207045231.jpg",perma_url:"https://www.jiosaavn.com/featured/best-of-dance----english/l-B,YKTNVVc_",more_info:{song_count:"50",firstname:"JioSaavn",follower_count:"6172",last_updated:"1680550969",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"61632629",title:"EDM Night Out",subtitle:"14.9K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/EDMNightOut_20210611083537.jpg",perma_url:"https://www.jiosaavn.com/featured/edm-night-out/-OGAOpzET6c_",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"14860",last_updated:"1678761549",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"159876283",title:"Let's Play - Travis Scott",subtitle:"694 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/TheTravisScottEffect_20211105052332.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---travis-scott/j1ao1d,C8XAwkg5tVhI3fw__",more_info:{song_count:"35",firstname:"JioSaavn",follower_count:"694",last_updated:"1680557013",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"159653569",title:"Brisk Aerobics",subtitle:"5.4K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/BriskAerobics_20220427183418.jpg",perma_url:"https://www.jiosaavn.com/featured/brisk-aerobics/9-C8fpfYI,SO0eMLZZxqsA__",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"5359",last_updated:"1678838770",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"818945493",title:"Virtual Party",subtitle:"280 Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/VirtualParty_20211227174946.jpg",perma_url:"https://www.jiosaavn.com/featured/virtual-party/klDihi9HY7Mwkg5tVhI3fw__",more_info:{song_count:"25",firstname:"JioSaavn",follower_count:"280",last_updated:"1640901830",uid:"phulki_user"},explicit_content:"0",mini_obj:!0},{id:"79579889",title:"Let's Play - Sia",subtitle:"10.7K Followers",type:"playlist",image:"https://c.saavncdn.com/editorial/logo/SiaTheGreatest_20201215042804.jpg",perma_url:"https://www.jiosaavn.com/featured/lets-play---sia/ZFD-DFK14YY_",more_info:{song_count:"30",firstname:"JioSaavn",follower_count:"10739",last_updated:"1680553518",uid:"phulki_user"},explicit_content:"0",mini_obj:!0}],sE=()=>g("div",{className:"overflow-auto px-10 mt-5",children:L("ul",{className:"flex gap-4 ",children:[g("li",{className:"bg-lightBlue text-neutral-500 rounded-md px-3 py-1 ",children:g(Mr,{to:"/topplaylists/Hindi",className:"h-fit w-fit",children:"Hindi"})}),g("li",{className:"bg-lightBlue rounded-md text-neutral-500 px-3 py-1 ",children:g(Mr,{to:"/topplaylists/Bhojpuri",children:"Bhojpuri"})}),g("li",{className:"bg-lightBlue rounded-md text-neutral-500 px-3 py-1 ",children:g(Mr,{to:"/topplaylists/English",children:"English"})})]})}),hoe=()=>L(Oi,{children:[g(sE,{}),g("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(160px,1fr))] max-md:grid-cols-[repeat(auto-fit,minmax(122px,0fr))] max-md:px-2 max-md:justify-center my-8  gap-x-1 gap-y-4 overflow-auto px-10",children:Ny&&Ny.length>0&&Ny.map((t,e)=>E.createElement(iE,{...t,key:e}))})]}),poe=()=>L(Oi,{children:[g(sE,{}),g("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(163px,1fr))] max-md:grid-cols-[repeat(auto-fit,minmax(122px,0fr))] max-md:px-2 max-md:justify-center my-8  gap-x-1 gap-y-4 overflow-auto px-10",children:doe.map((t,e)=>E.createElement(iE,{...t,key:e}))})]}),moe=()=>L(Oi,{children:[g(sE,{}),g("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(163px,1fr))] max-md:grid-cols-[repeat(auto-fit,minmax(122px,0fr))] max-md:px-2 max-md:justify-center my-8  gap-x-1 gap-y-4 overflow-auto px-10",children:foe.map((t,e)=>E.createElement(iE,{...t,key:e}))})]}),goe=()=>g("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 fill-neutral-200",viewBox:"0 0 16 16",id:"spotify",children:g("path",{d:"M8 0C3.589 0 0 3.589 0 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zm3.67 11.548a.499.499 0 0 1-.696.122c-1.875-1.318-4.994-1.391-7.1-.9a.5.5 0 0 1-.226-.975c2.315-.536 5.775-.438 7.9 1.057a.5.5 0 0 1 .122.696zm.976-1.951a.5.5 0 0 1-.698.114C9.773 8.15 7.101 7.762 3.535 8.49a.5.5 0 1 1-.201-.98c3.857-.787 6.779-.347 9.197 1.388a.502.502 0 0 1 .115.699zm.986-2.62a.5.5 0 0 1-.695.133c-2.757-1.871-6.948-1.88-9.661-.92a.5.5 0 1 1-.333-.944C5.894 4.203 10.467 4.225 13.5 6.282a.502.502 0 0 1 .132.695z"})});var voe={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function yoe(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return voe[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Kk(t){var e=yoe(t);return"".concat(e.value).concat(e.unit)}var xoe=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},i0=globalThis&&globalThis.__assign||function(){return i0=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},i0.apply(this,arguments)},boe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},woe=xoe("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function oE(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,c=t.size,u=c===void 0?35:c,d=boe(t,["loading","color","speedMultiplier","cssOverride","size"]),f=i0({background:"transparent !important",width:Kk(u),height:Kk(u),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(woe," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?E.createElement("span",i0({style:f},d)):null}const Soe=({image:t,name:e,songs:n,id:r,token:i})=>{const s=mt({mutationFn:({token:a,id:l,name:c,image:u})=>De.getSpotifyPlaylistSongs({token:a,id:l,name:c,image:u}),onSuccess:a=>{var l,c,u;if(((l=a==null?void 0:a.response)==null?void 0:l.status)===400)return ke.error(((u=(c=a==null?void 0:a.response)==null?void 0:c.data)==null?void 0:u.message)||"Something Went Wrong");ke.success(a.message||"Playlist Imported Successfully",{position:"top-center"})},onError:a=>{ke.error(a.message||"Something Went Wrong")}}),o=()=>{s.mutate({token:i,id:r,name:e,image:t})};return L("div",{className:"flex overflow-hidden cursor-pointer hover:bg-lightBlue rounded-md items-center pr-3",children:[L("div",{className:"flex  w-full items-center gap-5 ",children:[t.length!==0?g("img",{className:"rounded-md w-14",src:lW(t),alt:"spotify"}):g("div",{className:"w-14 rounded-md bg-black text-neutral-300 text-center text-sm h-full",children:"No Cover"}),L("div",{className:"",children:[g("h3",{className:"text-neutral-200 tracking-wide text-base ",children:e}),L("p",{className:"text-neutral-400 text-xs mt-1",children:[n," songs"]})]})]}),g("button",{onClick:o,disabled:s.isPending,className:"bg-sky-700 text-white px-3 py-1 rounded-md hover:bg-sky-600 duration-300 transition-all ease-linear  w-fit h-fit float-right",children:s.isPending?g("div",{className:"w-12",children:g(oE,{size:17,color:"#fff",speedMultiplier:3})}):"Import"})]})};var aE={},Eoe=Qe;Object.defineProperty(aE,"__esModule",{value:!0});var P6=aE.default=void 0,Toe=Eoe(it()),_oe=st,Coe=(0,Toe.default)((0,_oe.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");P6=aE.default=Coe;const Roe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Rb(t){return`scale(${t}, ${t**2})`}const koe={entering:{opacity:1,transform:Rb(1)},entered:{opacity:1,transform:"none"}},Fy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),I6=E.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:h,timeout:m="auto",TransitionComponent:v=RS}=e,y=fe(e,Roe),x=E.useRef(),b=E.useRef(),S=$o(),w=E.useRef(null),_=Ht(w,s.ref,n),T=O=>$=>{if(O){const W=w.current;$===void 0?O(W):O(W,$)}},C=T(u),k=T((O,$)=>{v6(O);const{duration:W,delay:U,easing:j}=Mc({style:h,timeout:m,easing:o},{mode:"enter"});let B;m==="auto"?(B=S.transitions.getAutoHeightDuration(O.clientHeight),b.current=B):B=W,O.style.transition=[S.transitions.create("opacity",{duration:B,delay:U}),S.transitions.create("transform",{duration:Fy?B:B*.666,delay:U,easing:j})].join(","),l&&l(O,$)}),A=T(c),I=T(p),N=T(O=>{const{duration:$,delay:W,easing:U}=Mc({style:h,timeout:m,easing:o},{mode:"exit"});let j;m==="auto"?(j=S.transitions.getAutoHeightDuration(O.clientHeight),b.current=j):j=$,O.style.transition=[S.transitions.create("opacity",{duration:j,delay:W}),S.transitions.create("transform",{duration:Fy?j:j*.666,delay:Fy?W:W||j*.333,easing:U})].join(","),O.style.opacity=0,O.style.transform=Rb(.75),d&&d(O)}),M=T(f),D=O=>{m==="auto"&&(x.current=setTimeout(O,b.current||0)),r&&r(w.current,O)};return E.useEffect(()=>()=>{clearTimeout(x.current)},[]),g(v,P({appear:i,in:a,nodeRef:w,onEnter:k,onEntered:A,onEntering:C,onExit:N,onExited:M,onExiting:I,addEndListener:D,timeout:m==="auto"?null:m},y,{children:(O,$)=>E.cloneElement(s,P({style:P({opacity:0,transform:Rb(.75),visibility:O==="exited"&&!a?"hidden":void 0},koe[O],h,s.props.style),ref:_},$))}))});I6.muiSupportAuto=!0;const Aoe=I6;function Loe(t){return $e("MuiPopover",t)}Me("MuiPopover",["root","paper"]);const Poe=["onEntering"],Ioe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Hk(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Gk(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Wk(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function $y(t){return typeof t=="function"?t():t}const Doe=t=>{const{classes:e}=t;return je({root:["root"],paper:["paper"]},Loe,e)},Ooe=re(XS,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Moe=re(Bf,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Noe=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:f=8,marginThreshold:p=16,open:h,PaperProps:m={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:y=Aoe,transitionDuration:x="auto",TransitionProps:{onEntering:b}={}}=r,S=fe(r.TransitionProps,Poe),w=fe(r,Ioe),_=E.useRef(),T=Ht(_,m.ref),C=P({},r,{anchorOrigin:o,anchorReference:l,elevation:f,marginThreshold:p,PaperProps:m,transformOrigin:v,TransitionComponent:y,transitionDuration:x,TransitionProps:S}),k=Doe(C),A=E.useCallback(()=>{if(l==="anchorPosition")return a;const B=$y(s),q=(B&&B.nodeType===1?B:xn(_.current).body).getBoundingClientRect();return{top:q.top+Hk(q,o.vertical),left:q.left+Gk(q,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),I=E.useCallback(B=>({vertical:Hk(B,v.vertical),horizontal:Gk(B,v.horizontal)}),[v.horizontal,v.vertical]),N=E.useCallback(B=>{const H={width:B.offsetWidth,height:B.offsetHeight},q=I(H);if(l==="none")return{top:null,left:null,transformOrigin:Wk(q)};const ne=A();let te=ne.top-q.vertical,he=ne.left-q.horizontal;const Z=te+H.height,ve=he+H.width,Pe=To($y(s)),be=Pe.innerHeight-p,ze=Pe.innerWidth-p;if(te<p){const ge=te-p;te-=ge,q.vertical+=ge}else if(Z>be){const ge=Z-be;te-=ge,q.vertical+=ge}if(he<p){const ge=he-p;he-=ge,q.horizontal+=ge}else if(ve>ze){const ge=ve-ze;he-=ge,q.horizontal+=ge}return{top:`${Math.round(te)}px`,left:`${Math.round(he)}px`,transformOrigin:Wk(q)}},[s,l,A,I,p]),[M,D]=E.useState(h),O=E.useCallback(()=>{const B=_.current;if(!B)return;const H=N(B);H.top!==null&&(B.style.top=H.top),H.left!==null&&(B.style.left=H.left),B.style.transformOrigin=H.transformOrigin,D(!0)},[N]),$=(B,H)=>{b&&b(B,H),O()},W=()=>{D(!1)};E.useEffect(()=>{h&&O()}),E.useImperativeHandle(i,()=>h?{updatePosition:()=>{O()}}:null,[h,O]),E.useEffect(()=>{if(!h)return;const B=Nw(()=>{O()}),H=To(s);return H.addEventListener("resize",B),()=>{B.clear(),H.removeEventListener("resize",B)}},[s,h,O]);let U=x;x==="auto"&&!y.muiSupportAuto&&(U=void 0);const j=d||(s?xn($y(s)).body:void 0);return g(Ooe,P({BackdropProps:{invisible:!0},className:oe(k.root,u),container:j,open:h,ref:n,ownerState:C},w,{children:g(y,P({appear:!0,in:h,onEntering:$,onExited:W,timeout:U},S,{children:g(Moe,P({elevation:f},m,{ref:T,className:oe(k.paper,m.className)},M?void 0:{style:P({},m.style,{opacity:0})},{ownerState:C,children:c}))}))}))}),D6=Noe;var lE={},Foe=Qe;Object.defineProperty(lE,"__esModule",{value:!0});var O6=lE.default=void 0,$oe=Foe(it()),Boe=st,joe=(0,$oe.default)((0,Boe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");O6=lE.default=joe;var cE={},Uoe=Qe;Object.defineProperty(cE,"__esModule",{value:!0});var M6=cE.default=void 0,zoe=Uoe(it()),Voe=st,Koe=(0,zoe.default)((0,Voe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");M6=cE.default=Koe;const N6=({title:t,avatar:e,id:n})=>{const[r,i]=E.useState(null),[s,o]=E.useState(!1),[a,l]=E.useState(!1),c=m=>{i(m.currentTarget)},u=Boolean(r),d=u?"simple-popover":void 0,f=()=>{o(m=>!m)},p=()=>{l(m=>!m)},h=()=>{s&&o(!1),a&&l(!1),setTimeout(()=>{i(null)},210)};return L("div",{className:"relative w-full",children:[g(Qt,{to:`/playlists/${n}`,className:"hover:bg-lightBlue block  hover:bg-opacity-60 mr-3 transition-all duration-300 ease-linear py-[10px] rounded-md px-4",children:g("div",{className:"flex overflow-hidden cursor-pointer   rounded-md items-center",children:L("div",{className:"flex  w-full items-center gap-5 ",children:[g("img",{className:"rounded-md w-10 h-10 object-cover",src:e||`http://localhost:11000/images/${n}/playlist`||"",alt:"spotify"}),g("div",{className:"",children:g("h3",{className:"text-neutral-200 tracking-wide text-base",children:t})})]})})}),g("section",{className:"absolute right-2 top-0 bottom-0 grid place-items-center   z-10",onClick:c,children:g(Bo,{size:"large",children:g(P6,{className:"text-neutral-400"})})}),L(D6,{id:d,open:u,anchorEl:r,onClose:h,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"right"},PaperProps:{sx:{backgroundColor:"#282a2e",paddingY:1,borderRadius:3,overflow:"visible",width:"10rem"}},children:[g(Qr,{onClick:f,children:L("li",{className:"flex gap-3 items-center text-neutral-200 py-1 font-normal text-sm",children:[g(O6,{}),g("p",{className:"tracking-wider",children:"Rename"})]})}),g(Qr,{onClick:p,children:L("li",{className:"flex gap-3 text-neutral-200 py-1 font-normal text-sm",children:[g(M6,{}),g("p",{className:"tracking-wider",children:"Delete"})]})}),L(Fa,{children:[s&&g(qae,{handleClose:h,setShowRename:o,playlistId,name:t}),a&&g(Yae,{handleClose:h,setShowDelete:l,playlistId})]})]})]})},Hoe=Me("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),qk=Hoe,Goe=Me("MuiListItemIcon",["root","alignItemsFlexStart"]),Yk=Goe;function Woe(t){return $e("MuiMenuItem",t)}const qoe=Me("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),wu=qoe,Yoe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Qoe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Xoe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=je({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Woe,o);return P({},o,l)},Joe=re(Zc,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Qoe})(({theme:t,ownerState:e})=>P({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${wu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${wu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Dt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${wu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${wu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${qk.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${qk.inset}`]:{marginLeft:52},[`& .${n0.root}`]:{marginTop:0,marginBottom:0},[`& .${n0.inset}`]:{paddingLeft:36},[`& .${Yk.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&P({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Yk.root} svg`]:{fontSize:"1.25rem"}}))),Zoe=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:f}=r,p=fe(r,Yoe),h=E.useContext(Hi),m=E.useMemo(()=>({dense:o||h.dense||!1,disableGutters:l}),[h.dense,o,l]),v=E.useRef(null);hi(()=>{i&&v.current&&v.current.focus()},[i]);const y=P({},r,{dense:m.dense,divider:a,disableGutters:l}),x=Xoe(r),b=Ht(v,n);let S;return r.disabled||(S=d!==void 0?d:-1),g(Hi.Provider,{value:m,children:g(Joe,P({ref:b,role:u,tabIndex:S,component:s,focusVisibleClassName:oe(x.focusVisible,c),className:oe(x.root,f)},p,{ownerState:y,classes:x}))})}),$n=Zoe;function nl(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}const eae=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Nc(t,e,n){const r=tae(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&Qk(r,"path",s),n!==void 0&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Qk(r,"relativePath",s),r}function tae(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=eae.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function Qk(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const nae=[".DS_Store","Thumbs.db"];function rae(t){return nl(this,void 0,void 0,function*(){return s0(t)&&iae(t.dataTransfer)?lae(t.dataTransfer,t.type):sae(t)?oae(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?aae(t):[]})}function iae(t){return s0(t)}function sae(t){return s0(t)&&s0(t.target)}function s0(t){return typeof t=="object"&&t!==null}function oae(t){return kb(t.target.files).map(e=>Nc(e))}function aae(t){return nl(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Nc(n))})}function lae(t,e){return nl(this,void 0,void 0,function*(){if(t.items){const n=kb(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(cae));return Xk(F6(r))}return Xk(kb(t.files).map(n=>Nc(n)))})}function Xk(t){return t.filter(e=>nae.indexOf(e.name)===-1)}function kb(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function cae(t){if(typeof t.webkitGetAsEntry!="function")return Jk(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?$6(e):Jk(t,e)}function F6(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?F6(n):[n]],[])}function Jk(t,e){return nl(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Nc(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Nc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function uae(t){return nl(this,void 0,void 0,function*(){return t.isDirectory?$6(t):dae(t)})}function $6(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>nl(this,void 0,void 0,function*(){if(o.length){const a=Promise.all(o.map(uae));i.push(a),s()}else try{const a=yield Promise.all(i);n(a)}catch(a){r(a)}}),o=>{r(o)})}s()})}function dae(t){return nl(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Nc(r,t.fullPath);e(i)},r=>{n(r)})})})}var By=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function Zk(t){return pae(t)||hae(t)||j6(t)||fae()}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pae(t){if(Array.isArray(t))return Ab(t)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){B6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xd(t,e){return vae(t)||gae(t,e)||j6(t,e)||mae()}function mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j6(t,e){if(t){if(typeof t=="string")return Ab(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ab(t,e)}}function Ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function vae(t){if(Array.isArray(t))return t}var yae=typeof By=="function"?By:By.default,xae="file-invalid-type",bae="file-too-large",wae="file-too-small",Sae="too-many-files",Eae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:xae,message:"File type must be ".concat(r)}},nA=function(e){return{code:bae,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},rA=function(e){return{code:wae,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Tae={code:Sae,message:"Too many files"};function U6(t,e){var n=t.type==="application/x-moz-file"||yae(t,e);return[n,n?null:Eae(e)]}function z6(t,e,n){if(na(t.size))if(na(e)&&na(n)){if(t.size>n)return[!1,nA(n)];if(t.size<e)return[!1,rA(e)]}else{if(na(e)&&t.size<e)return[!1,rA(e)];if(na(n)&&t.size>n)return[!1,nA(n)]}return[!0,null]}function na(t){return t!=null}function _ae(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,a=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(l){var c=U6(l,n),u=Xd(c,1),d=u[0],f=z6(l,r,i),p=Xd(f,1),h=p[0],m=a?a(l):null;return d&&h&&!m})}function o0(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function zh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function iA(t){t.preventDefault()}function Cae(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Rae(t){return t.indexOf("Edge/")!==-1}function kae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Cae(t)||Rae(t)}function yi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!o0(r)&&a&&a.apply(void 0,[r].concat(s)),o0(r)})}}function Aae(){return"showOpenFilePicker"in window}function Lae(t){if(na(t)){var e=Object.entries(t).filter(function(n){var r=Xd(n,2),i=r[0],s=r[1],o=!0;return V6(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(K6))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Xd(r,2),s=i[0],o=i[1];return tA(tA({},n),{},B6({},s,o))},{});return[{description:"Files",accept:e}]}return t}function Pae(t){if(na(t))return Object.entries(t).reduce(function(e,n){var r=Xd(n,2),i=r[0],s=r[1];return[].concat(Zk(e),[i],Zk(s))},[]).filter(function(e){return V6(e)||K6(e)}).join(",")}function Iae(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Dae(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function V6(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function K6(t){return/^.*\.[\w]+$/.test(t)}var Oae=["children"],Mae=["open"],Nae=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fae=["refKey","onChange","onClick"];function $ae(t){return Uae(t)||jae(t)||H6(t)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uae(t){if(Array.isArray(t))return Lb(t)}function jy(t,e){return Kae(t)||Vae(t,e)||H6(t,e)||zae()}function zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H6(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Kae(t){if(Array.isArray(t))return t}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){Pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0(t,e){if(t==null)return{};var n=Hae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var uE=E.forwardRef(function(t,e){var n=t.children,r=a0(t,Oae),i=l0(r),s=i.open,o=a0(i,Mae);return E.useImperativeHandle(e,function(){return{open:s}},[s]),Te.createElement(E.Fragment,null,n(Lt(Lt({},o),{},{open:s})))});uE.displayName="Dropzone";var G6={disabled:!1,getFilesFromEvent:rae,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};uE.defaultProps=G6;uE.propTypes={children:lt.func,accept:lt.objectOf(lt.arrayOf(lt.string)),multiple:lt.bool,preventDropOnDocument:lt.bool,noClick:lt.bool,noKeyboard:lt.bool,noDrag:lt.bool,noDragEventsBubbling:lt.bool,minSize:lt.number,maxSize:lt.number,maxFiles:lt.number,disabled:lt.bool,getFilesFromEvent:lt.func,onFileDialogCancel:lt.func,onFileDialogOpen:lt.func,useFsAccessApi:lt.bool,autoFocus:lt.bool,onDragEnter:lt.func,onDragLeave:lt.func,onDragOver:lt.func,onDrop:lt.func,onDropAccepted:lt.func,onDropRejected:lt.func,onError:lt.func,validator:lt.func};var Ib={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function l0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Lt(Lt({},G6),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,h=e.onDropRejected,m=e.onFileDialogCancel,v=e.onFileDialogOpen,y=e.useFsAccessApi,x=e.autoFocus,b=e.preventDropOnDocument,S=e.noClick,w=e.noKeyboard,_=e.noDrag,T=e.noDragEventsBubbling,C=e.onError,k=e.validator,A=E.useMemo(function(){return Pae(n)},[n]),I=E.useMemo(function(){return Lae(n)},[n]),N=E.useMemo(function(){return typeof v=="function"?v:oA},[v]),M=E.useMemo(function(){return typeof m=="function"?m:oA},[m]),D=E.useRef(null),O=E.useRef(null),$=E.useReducer(Gae,Ib),W=jy($,2),U=W[0],j=W[1],B=U.isFocused,H=U.isFileDialogActive,q=E.useRef(typeof window<"u"&&window.isSecureContext&&y&&Aae()),ne=function(){!q.current&&H&&setTimeout(function(){if(O.current){var X=O.current.files;X.length||(j({type:"closeDialog"}),M())}},300)};E.useEffect(function(){return window.addEventListener("focus",ne,!1),function(){window.removeEventListener("focus",ne,!1)}},[O,H,M,q]);var te=E.useRef([]),he=function(X){D.current&&D.current.contains(X.target)||(X.preventDefault(),te.current=[])};E.useEffect(function(){return b&&(document.addEventListener("dragover",iA,!1),document.addEventListener("drop",he,!1)),function(){b&&(document.removeEventListener("dragover",iA),document.removeEventListener("drop",he))}},[D,b]),E.useEffect(function(){return!r&&x&&D.current&&D.current.focus(),function(){}},[D,x,r]);var Z=E.useCallback(function(K){C?C(K):console.error(K)},[C]),ve=E.useCallback(function(K){K.preventDefault(),K.persist(),Xe(K),te.current=[].concat($ae(te.current),[K.target]),zh(K)&&Promise.resolve(i(K)).then(function(X){if(!(o0(K)&&!T)){var ae=X.length,le=ae>0&&_ae({files:X,accept:A,minSize:o,maxSize:s,multiple:a,maxFiles:l,validator:k}),pe=ae>0&&!le;j({isDragAccept:le,isDragReject:pe,isDragActive:!0,type:"setDraggedFiles"}),c&&c(K)}}).catch(function(X){return Z(X)})},[i,c,Z,T,A,o,s,a,l,k]),Pe=E.useCallback(function(K){K.preventDefault(),K.persist(),Xe(K);var X=zh(K);if(X&&K.dataTransfer)try{K.dataTransfer.dropEffect="copy"}catch{}return X&&d&&d(K),!1},[d,T]),be=E.useCallback(function(K){K.preventDefault(),K.persist(),Xe(K);var X=te.current.filter(function(le){return D.current&&D.current.contains(le)}),ae=X.indexOf(K.target);ae!==-1&&X.splice(ae,1),te.current=X,!(X.length>0)&&(j({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),zh(K)&&u&&u(K))},[D,u,T]),ze=E.useCallback(function(K,X){var ae=[],le=[];K.forEach(function(pe){var Q=U6(pe,A),ye=jy(Q,2),Fe=ye[0],_e=ye[1],Ut=z6(pe,o,s),cr=jy(Ut,2),un=cr[0],Ln=cr[1],_s=k?k(pe):null;if(Fe&&un&&!_s)ae.push(pe);else{var Wn=[_e,Ln];_s&&(Wn=Wn.concat(_s)),le.push({file:pe,errors:Wn.filter(function(Cs){return Cs})})}}),(!a&&ae.length>1||a&&l>=1&&ae.length>l)&&(ae.forEach(function(pe){le.push({file:pe,errors:[Tae]})}),ae.splice(0)),j({acceptedFiles:ae,fileRejections:le,isDragReject:le.length>0,type:"setFiles"}),f&&f(ae,le,X),le.length>0&&h&&h(le,X),ae.length>0&&p&&p(ae,X)},[j,a,A,o,s,l,f,p,h,k]),ge=E.useCallback(function(K){K.preventDefault(),K.persist(),Xe(K),te.current=[],zh(K)&&Promise.resolve(i(K)).then(function(X){o0(K)&&!T||ze(X,K)}).catch(function(X){return Z(X)}),j({type:"reset"})},[i,ze,Z,T]),Ge=E.useCallback(function(){if(q.current){j({type:"openDialog"}),N();var K={multiple:a,types:I};window.showOpenFilePicker(K).then(function(X){return i(X)}).then(function(X){ze(X,null),j({type:"closeDialog"})}).catch(function(X){Iae(X)?(M(X),j({type:"closeDialog"})):Dae(X)?(q.current=!1,O.current?(O.current.value=null,O.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(X)});return}O.current&&(j({type:"openDialog"}),N(),O.current.value=null,O.current.click())},[j,N,M,y,ze,Z,I,a]),ot=E.useCallback(function(K){!D.current||!D.current.isEqualNode(K.target)||(K.key===" "||K.key==="Enter"||K.keyCode===32||K.keyCode===13)&&(K.preventDefault(),Ge())},[D,Ge]),Ve=E.useCallback(function(){j({type:"focus"})},[]),Ne=E.useCallback(function(){j({type:"blur"})},[]),Zt=E.useCallback(function(){S||(kae()?setTimeout(Ge,0):Ge())},[S,Ge]),wt=function(X){return r?null:X},Ye=function(X){return w?null:wt(X)},en=function(X){return _?null:wt(X)},Xe=function(X){T&&X.stopPropagation()},gt=E.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=K.refKey,ae=X===void 0?"ref":X,le=K.role,pe=K.onKeyDown,Q=K.onFocus,ye=K.onBlur,Fe=K.onClick,_e=K.onDragEnter,Ut=K.onDragOver,cr=K.onDragLeave,un=K.onDrop,Ln=a0(K,Nae);return Lt(Lt(Pb({onKeyDown:Ye(yi(pe,ot)),onFocus:Ye(yi(Q,Ve)),onBlur:Ye(yi(ye,Ne)),onClick:wt(yi(Fe,Zt)),onDragEnter:en(yi(_e,ve)),onDragOver:en(yi(Ut,Pe)),onDragLeave:en(yi(cr,be)),onDrop:en(yi(un,ge)),role:typeof le=="string"&&le!==""?le:"presentation"},ae,D),!r&&!w?{tabIndex:0}:{}),Ln)}},[D,ot,Ve,Ne,Zt,ve,Pe,be,ge,w,_,r]),ar=E.useCallback(function(K){K.stopPropagation()},[]),lr=E.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=K.refKey,ae=X===void 0?"ref":X,le=K.onChange,pe=K.onClick,Q=a0(K,Fae),ye=Pb({accept:A,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:wt(yi(le,ge)),onClick:wt(yi(pe,ar)),tabIndex:-1},ae,O);return Lt(Lt({},ye),Q)}},[O,n,a,ge,r]);return Lt(Lt({},U),{},{isFocused:B&&!r,getRootProps:gt,getInputProps:lr,rootRef:D,inputRef:O,open:wt(Ge)})}function Gae(t,e){switch(e.type){case"focus":return Lt(Lt({},t),{},{isFocused:!0});case"blur":return Lt(Lt({},t),{},{isFocused:!1});case"openDialog":return Lt(Lt({},Ib),{},{isFileDialogActive:!0});case"closeDialog":return Lt(Lt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Lt(Lt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Lt(Lt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Lt({},Ib);default:return t}}function oA(){}const Wae=({hidePlaylist:t})=>{const e=No(),n=E.useRef(null),r=E.useRef(null),[i,s]=E.useState(null),[o,a]=E.useState(null),l=E.useCallback(p=>{const h=p[0];s(h),a(URL.createObjectURL(h))},[]),{getRootProps:c,getInputProps:u}=l0({onDrop:l,accept:{"image/jpeg":[],"image/png":[]}}),d=mt({mutationFn:p=>Bt.addNewPlaylist(p),onSuccess:p=>{var h,m,v;if(((h=p==null?void 0:p.response)==null?void 0:h.status)===400)return ke.error(((v=(m=p==null?void 0:p.response)==null?void 0:m.data)==null?void 0:v.message)||"Something Went Wrong");ke.success(p.message||"Playlist Created Successfully",{position:"top-center"}),e.invalidateQueries("getAllPlaylist"),t(!1)},onError:p=>{ke.error(p.message||"Something Went Wrong")}}),f=()=>{const p=n.current.value.trim(),h=r.current.value.trim();if(!p){ke.error("Playlist name cannot be empty");return}const m=new FormData;m.append("title",p),m.append("description",h),i&&m.append("cover",i),d.mutate(m)};return g("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black bg-opacity-30",children:L(Lr.section,{initial:{scale:.3},animate:{scale:1},exit:{scale:.3,opacity:0},className:"bg-lightBlue max-w-xs w-full flex flex-col px-5 py-4 gap-3 rounded-md",children:[g("p",{className:"text-neutral-200 text-base font-thin tracking-wider",children:"Create New Playlist"}),g("input",{type:"text",ref:n,placeholder:"Enter playlist name",className:"outline-none border-b font-thin tracking-wider text-sm border-neutral-400 py-1 text-neutral-200 bg-transparent"}),g("textarea",{ref:r,placeholder:"Enter playlist description (optional)",className:"outline-none border-b font-thin tracking-wider text-sm border-neutral-400 py-1 text-neutral-200 bg-transparent resize-none h-16"}),L("div",{...c(),className:"border-2 border-dashed border-neutral-400 p-4 text-center rounded-md cursor-pointer text-neutral-200 overflow-hidden flex items-center justify-center",style:{minHeight:"120px"},children:[g("input",{...u()}),o?g("img",{src:o,alt:"Cover Preview",className:"max-w-full max-h-24 object-contain rounded-md"}):g("p",{children:"Drag & drop a cover image here, or click to select"})]}),L("div",{className:"flex justify-end gap-2 w-full mt-5",children:[g(Qr,{sx:{width:"fit-content",flexGrow:0},onClick:()=>t(!1),children:g("button",{className:"text-neutral-200 font-extralight tracking-wider text-sm",children:"Cancel"})}),g(jt,{width:30,radius:6,color:"#060b1c",speed:500,children:g("button",{disabled:d.isPending,className:"text-neutral-200 font-extralight select-none text-sm tracking-wider rounded-md bg-darkBlue px-4 py-2",onClick:f,children:d.isPending?g(oE,{size:17,color:"#fff",speedMultiplier:3}):"Create"})})]})]})})},qae=({playlistId:t,handleClose:e,setShowRename:n,name:r})=>{const[i,s]=E.useState(r),o=No(),a=mt({mutationFn:c=>Bt.RenamePlaylist(c),onSuccess:()=>{e(),o.invalidateQueries("getAllPlaylist"),n(!1)}}),l=()=>{if(i==="")ke.error("Name can't be empty");else{let c={name:i.trim(),playlistId:t};a.mutate(c)}};return g("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black bg-opacity-30",children:L(Lr.section,{initial:{scale:.3},animate:{scale:1},exit:{scale:.3,opacity:0},className:"bg-lightBlue max-w-xs w-full  flex flex-col px-5  py-4 gap-3 rounded-md",children:[g("p",{className:"text-neutral-200 text-base font-thin tracking-wider",children:"Rename Playlist"}),g("input",{type:"text",value:i,onChange:c=>s(c.target.value),autoFocus:!0,className:"outline-none border-b font-thin tracking-wider text-sm border-neutral-400 py-1 text-neutral-200 bg-transparent"}),g("p",{className:"text-red-500 hidden alert",children:"Name can't be empty"}),L("div",{className:"flex justify-end gap-2 w-full mt-5",children:[g(Qr,{sx:[{width:"fit-content",flexGrow:0}],onClick:()=>n(!1),children:g("button",{className:"text-neutral-200 font-extralight tracking-wider text-sm",children:"cancel"})}),g(jt,{width:30,radius:6,color:"#060b1c",speed:500,children:g("button",{disabled:a.isPending,className:"text-neutral-200 font-extralight text-sm  tracking-wider rounded-md bg-darkBlue px-4 py-2",onClick:l,children:a.isPending?g(Rr,{color:"#ff9a9a",loading:!0,size:20}):"Rename"})})]})]})})},Yae=({handleClose:t,setShowDelete:e,playlistId:n})=>{const r=No(),i=mt({mutationFn:s=>Bt.DeletePlaylist(s),onSuccess:()=>{t(),r.invalidateQueries("getAllPlaylist"),e(!1)}});return g("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black bg-opacity-30",children:L(Lr.section,{initial:{scale:.3},animate:{scale:1},exit:{scale:.3,opacity:0},className:"bg-lightBlue max-w-xs w-full  flex flex-col px-5  py-4 gap-3 rounded-md",children:[g("p",{className:"text-neutral-200 text-base font-thin tracking-wider",children:"Delete Playlist"}),L("div",{className:"flex flex-col justify-center gap-2",children:[g("h3",{className:"text-center text-neutral-100 text-2xl",children:"Are you sure ?"}),g("p",{className:"text-center text-neutral-400 text-xs",children:"You will not be able to recover this playlist!"})]}),L("div",{className:"flex justify-end gap-2 w-full mt-5",children:[g(Qr,{sx:[{width:"fit-content",flexGrow:0}],onClick:()=>e(!1),children:g("button",{className:"text-neutral-200 font-extralight tracking-wider text-sm",children:"cancel"})}),g(jt,{width:30,radius:6,color:"#060b1c",speed:500,children:g("button",{disabled:i.isPending,className:"text-[#ff9a9a] font-extralight text-sm  tracking-wider rounded-md bg-[#f74b4b38] px-4 py-2",onClick:()=>{i.mutate(n)},children:i.isPending?g(Rr,{color:"#ff9a9a",loading:!0,size:20}):"Delete"})})]})]})})},Qae=()=>{const t=He(rE),e=Vc(),{data:n,isLoading:r,isError:i}=bt({queryKey:["homepage"],queryFn:()=>Bt.getHomepage(),refetchOnMount:!1,refetchOnWindowFocus:!1,retry:2});return console.log(n),E.useEffect(()=>{navigator.onLine||e("/Downloads")},[]),r?g("div",{className:"fixed inset-0 flex items-center justify-center bg-darkBlue",children:g(Jr,{size:80})}):i?L("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-darkBlue",children:[g("p",{className:"text-2xl font-bold",children:"Something went wrong"}),g("button",{onClick:()=>window.location.reload(),className:"bg-primary-400 text-white px-4 py-2 rounded-md mt-4",children:"Try Again"})]}):!n&&!t?L("div",{initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeInOut"}},exit:{x:"-100vw",transition:{ease:"easeInOut"}},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 mt-60 bg-darkBlue text-white text-center px-6",children:[g("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to BEATSTREET"}),g("p",{className:"text-lg max-w-lg",children:"Discover new music, follow your favorite artists, and create amazing playlists. Join us now!"}),g("button",{onClick:()=>e("/login"),className:"mt-6 bg-primary-400 px-6 py-3 rounded-md text-lg",children:"Get Started"})]}):!n&&t?L("div",{initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeInOut"}},exit:{x:"-100vw",transition:{ease:"easeInOut"}},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 mt-60 bg-darkBlue text-white text-center px-6",children:[g("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to BEATSTREET"}),g("p",{className:"text-lg max-w-lg",children:"Subscribe to someone to see news about other users' posts, reposts, and likes."})]}):g(Lr.div,{initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeInOut"}},exit:{x:"-100vw",transition:{ease:"easeInOut"}},className:"bg-darkBlue pl-10 pr-4 max-md:pl-4 overflow-hidden",children:L("section",{className:"w-full my-6",children:[g("h1",{className:"font-medium text-xl text-darkTitle my-4",children:"Your Feed"}),L("div",{className:"space-y-4",children:[console.log(n),n==null?void 0:n.map(s=>L("div",{className:"bg-gray-800 p-4 rounded-lg text-white",children:[g("p",{className:"text-sm text-gray-400",children:new Date(s.created_at).toLocaleString()}),g("p",{className:"text-lg font-semibold",children:` ${s.user_name} ${s.type==="repost"?`  "${s.target_name}"`:s.type==="upload"?`  "${s.target_name}"`:`  "${s.target_name}"`}`})]},s.id))]})]})})};var dE={},Xae=Qe;Object.defineProperty(dE,"__esModule",{value:!0});var jf=dE.default=void 0,Jae=Xae(it()),Zae=st,ele=(0,Jae.default)((0,Zae.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");jf=dE.default=ele;const aA=()=>{let{id:t}=Qa();const{data:e,isLoading:n,isError:r}=bt({queryKey:["favoriteSongs"],queryFn:()=>De.SingleAlbum(t)});if(n)return g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})});if(r)return g("div",{children:"error"});const i=()=>{document.querySelectorAll(".btnss").forEach(o=>{o.click()})};return L("div",{className:"bg-darkBlue  overflow-hidden ",children:[g("div",{className:"gradient flex flex-col gap-8 relative w-full pt-3 px-16 max-md:px-5 pb-7  Artistbackground",children:L("div",{className:"grid grid-cols-[max-content,auto] mt-7 max-md:grid-cols-1 max-md:place-items-center gap-5 ",children:[g(QS,{src:_p(e),className:"w-56 h-56 rounded-md",alt:e==null?void 0:e.name}),L("div",{className:"flex place-content-end max-md:place-items-center flex-col",children:[g("h2",{className:"font-bold text-4xl max-md:text-center max-md:text-2xl text-white tracking-wider",dangerouslySetInnerHTML:{__html:`${e==null?void 0:e.name}`}}),L("div",{className:"flex max-md:flex-col items-center gap-3 max-md:my-0 max-md:gap-2 my-2 max-md:mt-4",children:[g("p",{className:"text-slate-200 text-sm max-md:text-xs max-md:text-center",dangerouslySetInnerHTML:{__html:`${e==null?void 0:e.description}`}}),g("div",{className:"bg-darkTextColor rounded-full w-1 h-1 max-md:hidden"}),g("p",{className:"text-slate-200 text-sm max-md:text-xs",children:e.year}),g("div",{className:"bg-darkTextColor rounded-full max-md:text-xs w-1 h-1 max-md:hidden"}),L("p",{className:"text-slate-200 text-sm min-w-fit",children:[e.songCount," songs"]})]}),g("div",{className:"w-[38px] max-md:mt-4",onClick:i,children:g(jt,{height:36,radius:50,color:"#5454548c",children:g(jf,{sx:{fontSize:35},className:"text-neutral-300 cursor-pointer"})})})]})]})}),g("section",{className:"mx-12 mb-10 mt-6 max-md:mx-2",children:e.songs&&g(mi,{songs:e.songs})})]})},tle=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Uy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function lA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function W6(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Su(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!W6(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const nle=E.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=fe(e,tle),p=E.useRef(null),h=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});hi(()=>{i&&p.current.focus()},[i]),E.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,S)=>{const w=!p.current.style.width;if(b.clientHeight<p.current.clientHeight&&w){const _=`${E8(xn(b))}px`;p.current.style[S.direction==="rtl"?"paddingLeft":"paddingRight"]=_,p.current.style.width=`calc(100% + ${_})`}return p.current}}),[]);const m=b=>{const S=p.current,w=b.key,_=xn(S).activeElement;if(w==="ArrowDown")b.preventDefault(),Su(S,_,c,l,Uy);else if(w==="ArrowUp")b.preventDefault(),Su(S,_,c,l,lA);else if(w==="Home")b.preventDefault(),Su(S,null,c,l,Uy);else if(w==="End")b.preventDefault(),Su(S,null,c,l,lA);else if(w.length===1){const T=h.current,C=w.toLowerCase(),k=performance.now();T.keys.length>0&&(k-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&C!==T.keys[0]&&(T.repeating=!1)),T.lastTime=k,T.keys.push(C);const A=_&&!T.repeating&&W6(_,T);T.previousKeyMatched&&(A||Su(S,_,!1,l,Uy,T))?b.preventDefault():T.previousKeyMatched=!1}u&&u(b)},v=Ht(p,n);let y=-1;E.Children.forEach(o,(b,S)=>{E.isValidElement(b)&&(b.props.disabled||(d==="selectedMenu"&&b.props.selected||y===-1)&&(y=S))});const x=E.Children.map(o,(b,S)=>{if(S===y){const w={};return s&&(w.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),E.cloneElement(b,w)}return b});return g(Mp,P({role:"menu",ref:v,className:a,onKeyDown:m,tabIndex:i?0:-1},f,{children:x}))}),rle=nle;function ile(t){return $e("MuiMenu",t)}Me("MuiMenu",["root","paper","list"]);const sle=["onEntering"],ole=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],ale={vertical:"top",horizontal:"right"},lle={vertical:"top",horizontal:"left"},cle=t=>{const{classes:e}=t;return je({root:["root"],paper:["paper"],list:["list"]},ile,e)},ule=re(D6,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),dle=re(Bf,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),fle=re(rle,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),hle=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:c,PaperProps:u={},PopoverClasses:d,transitionDuration:f="auto",TransitionProps:{onEntering:p}={},variant:h="selectedMenu"}=r,m=fe(r.TransitionProps,sle),v=fe(r,ole),y=$o(),x=y.direction==="rtl",b=P({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:p,PaperProps:u,transitionDuration:f,TransitionProps:m,variant:h}),S=cle(b),w=i&&!o&&c,_=E.useRef(null),T=(A,I)=>{_.current&&_.current.adjustStyleForScrollbar(A,y),p&&p(A,I)},C=A=>{A.key==="Tab"&&(A.preventDefault(),l&&l(A,"tabKeyDown"))};let k=-1;return E.Children.map(s,(A,I)=>{E.isValidElement(A)&&(A.props.disabled||(h==="selectedMenu"&&A.props.selected||k===-1)&&(k=I))}),g(ule,P({onClose:l,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?ale:lle,PaperProps:P({component:dle},u,{classes:P({},u.classes,{root:S.paper})}),className:S.root,open:c,ref:n,transitionDuration:f,TransitionProps:P({onEntering:T},m),ownerState:b},v,{classes:d,children:g(fle,P({onKeyDown:C,actions:_,autoFocus:i&&(k===-1||o),autoFocusItem:w,variant:h},a,{className:oe(S.list,a.className),children:s}))}))}),ple=hle;function mle(t){return $e("MuiNativeSelect",t)}const gle=Me("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),fE=gle,vle=["className","disabled","IconComponent","inputRef","variant"],yle=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${Ee(n)}`,s&&"iconOpen",r&&"disabled"]};return je(o,mle,e)},q6=({ownerState:t,theme:e})=>P({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":P({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${fE.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),xle=re("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],{[`&.${fE.multiple}`]:e.multiple}]}})(q6),Y6=({ownerState:t,theme:e})=>P({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${fE.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),ble=re("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ee(n.variant)}`],n.open&&e.iconOpen]}})(Y6),wle=E.forwardRef(function(e,n){const{className:r,disabled:i,IconComponent:s,inputRef:o,variant:a="standard"}=e,l=fe(e,vle),c=P({},e,{disabled:i,variant:a}),u=yle(c);return L(E.Fragment,{children:[g(xle,P({ownerState:c,className:oe(u.select,r),disabled:i,ref:o||n},l)),e.multiple?null:g(ble,{as:s,ownerState:c,className:u.icon})]})}),Sle=wle;function cA(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function hE(t,e=!1){return t&&(cA(t.value)&&t.value!==""||e&&cA(t.defaultValue)&&t.defaultValue!=="")}function Ele(t){return t.startAdornment}function Tle(t){return $e("MuiSelect",t)}const _le=Me("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Vh=_le;var uA;const Cle=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Rle=re("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Vh.select}`]:e.select},{[`&.${Vh.select}`]:e[n.variant]},{[`&.${Vh.multiple}`]:e.multiple}]}})(q6,{[`&.${Vh.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),kle=re("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ee(n.variant)}`],n.open&&e.iconOpen]}})(Y6),Ale=re("input",{shouldForwardProp:t=>tS(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function dA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Lle(t){return t==null||typeof t=="string"&&!t.trim()}const Ple=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${Ee(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return je(o,Tle,e)},Ile=E.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:f,IconComponent:p,inputRef:h,labelId:m,MenuProps:v={},multiple:y,name:x,onBlur:b,onChange:S,onClose:w,onFocus:_,onOpen:T,open:C,readOnly:k,renderValue:A,SelectDisplayProps:I={},tabIndex:N,value:M,variant:D="standard"}=e,O=fe(e,Cle),[$,W]=$d({controlled:M,default:u,name:"Select"}),[U,j]=$d({controlled:C,default:c,name:"Select"}),B=E.useRef(null),H=E.useRef(null),[q,ne]=E.useState(null),{current:te}=E.useRef(C!=null),[he,Z]=E.useState(),ve=Ht(n,h),Pe=E.useCallback(Q=>{H.current=Q,Q&&ne(Q)},[]),be=q==null?void 0:q.parentNode;E.useImperativeHandle(ve,()=>({focus:()=>{H.current.focus()},node:B.current,value:$}),[$]),E.useEffect(()=>{c&&U&&q&&!te&&(Z(o?null:be.clientWidth),H.current.focus())},[q,o]),E.useEffect(()=>{s&&H.current.focus()},[s]),E.useEffect(()=>{if(!m)return;const Q=xn(H.current).getElementById(m);if(Q){const ye=()=>{getSelection().isCollapsed&&H.current.focus()};return Q.addEventListener("click",ye),()=>{Q.removeEventListener("click",ye)}}},[m]);const ze=(Q,ye)=>{Q?T&&T(ye):w&&w(ye),te||(Z(o?null:be.clientWidth),j(Q))},ge=Q=>{Q.button===0&&(Q.preventDefault(),H.current.focus(),ze(!0,Q))},Ge=Q=>{ze(!1,Q)},ot=E.Children.toArray(a),Ve=Q=>{const ye=ot.map(_e=>_e.props.value).indexOf(Q.target.value);if(ye===-1)return;const Fe=ot[ye];W(Fe.props.value),S&&S(Q,Fe)},Ne=Q=>ye=>{let Fe;if(ye.currentTarget.hasAttribute("tabindex")){if(y){Fe=Array.isArray($)?$.slice():[];const _e=$.indexOf(Q.props.value);_e===-1?Fe.push(Q.props.value):Fe.splice(_e,1)}else Fe=Q.props.value;if(Q.props.onClick&&Q.props.onClick(ye),$!==Fe&&(W(Fe),S)){const _e=ye.nativeEvent||ye,Ut=new _e.constructor(_e.type,_e);Object.defineProperty(Ut,"target",{writable:!0,value:{value:Fe,name:x}}),S(Ut,Q)}y||ze(!1,ye)}},Zt=Q=>{k||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Q.key)!==-1&&(Q.preventDefault(),ze(!0,Q))},wt=q!==null&&U,Ye=Q=>{!wt&&b&&(Object.defineProperty(Q,"target",{writable:!0,value:{value:$,name:x}}),b(Q))};delete O["aria-invalid"];let en,Xe;const gt=[];let ar=!1;(hE({value:$})||f)&&(A?en=A($):ar=!0);const lr=ot.map((Q,ye,Fe)=>{var _e,Ut,cr,un;if(!E.isValidElement(Q))return null;let Ln;if(y){if(!Array.isArray($))throw new Error(Eo(2));Ln=$.some(Wn=>dA(Wn,Q.props.value)),Ln&&ar&&gt.push(Q.props.children)}else Ln=dA($,Q.props.value),Ln&&ar&&(Xe=Q.props.children);if(Q.props.value===void 0)return E.cloneElement(Q,{"aria-readonly":!0,role:"option"});const _s=()=>{if($)return Ln;const Wn=Fe.find(Cs=>{var eu;return(Cs==null||(eu=Cs.props)==null?void 0:eu.value)!==void 0&&Cs.props.disabled!==!0});return Q===Wn?!0:Ln};return E.cloneElement(Q,{"aria-selected":Ln?"true":"false",onClick:Ne(Q),onKeyUp:Wn=>{Wn.key===" "&&Wn.preventDefault(),Q.props.onKeyUp&&Q.props.onKeyUp(Wn)},role:"option",selected:((_e=Fe[0])==null||(Ut=_e.props)==null?void 0:Ut.value)===void 0||((cr=Fe[0])==null||(un=cr.props)==null?void 0:un.disabled)===!0?_s():Ln,value:void 0,"data-value":Q.props.value})});ar&&(y?gt.length===0?en=null:en=gt.reduce((Q,ye,Fe)=>(Q.push(ye),Fe<gt.length-1&&Q.push(", "),Q),[]):en=Xe);let K=he;!o&&te&&q&&(K=be.clientWidth);let X;typeof N<"u"?X=N:X=d?null:0;const ae=I.id||(x?`mui-component-select-${x}`:void 0),le=P({},e,{variant:D,value:$,open:wt}),pe=Ple(le);return L(E.Fragment,{children:[g(Rle,P({ref:Pe,tabIndex:X,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":wt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Zt,onMouseDown:d||k?null:ge,onBlur:Ye,onFocus:_},I,{ownerState:le,className:oe(I.className,pe.select,l),id:ae,children:Lle(en)?uA||(uA=g("span",{className:"notranslate",children:""})):en})),g(Ale,P({value:Array.isArray($)?$.join(","):$,name:x,ref:B,"aria-hidden":!0,onChange:Ve,tabIndex:-1,disabled:d,className:pe.nativeInput,autoFocus:s,ownerState:le},O)),g(kle,{as:p,className:pe.icon,ownerState:le}),g(ple,P({id:`menu-${x||""}`,anchorEl:be,open:wt,onClose:Ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:P({"aria-labelledby":m,role:"listbox",disableListWrap:!0},v.MenuListProps),PaperProps:P({},v.PaperProps,{style:P({minWidth:K},v.PaperProps!=null?v.PaperProps.style:null)}),children:lr}))]})}),Dle=Ile;function Uf({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Ole=E.createContext(void 0),pE=Ole;function zf(){return E.useContext(pE)}const Mle=Df(g("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Nle(t){return g(wY,P({},t,{defaultTheme:Cg}))}function Fle(t){return $e("MuiInputBase",t)}const $le=Me("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Fc=$le,Ble=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Bg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ee(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},jg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},jle=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:f,startAdornment:p,type:h}=t,m={root:["root",`color${Ee(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f==="small"&&"sizeSmall",u&&"multiline",p&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",h==="search"&&"inputTypeSearch",u&&"inputMultiline",f==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return je(m,Fle,e)},Ug=re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Bg})(({theme:t,ownerState:e})=>P({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Fc.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&P({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),zg=re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=P({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return P({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Fc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Fc.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Ule=g(Nle,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),zle=E.forwardRef(function(e,n){var r;const i=Ue({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:h,fullWidth:m=!1,id:v,inputComponent:y="input",inputProps:x={},inputRef:b,maxRows:S,minRows:w,multiline:_=!1,name:T,onBlur:C,onChange:k,onClick:A,onFocus:I,onKeyDown:N,onKeyUp:M,placeholder:D,readOnly:O,renderSuffix:$,rows:W,slotProps:U={},slots:j={},startAdornment:B,type:H="text",value:q}=i,ne=fe(i,Ble),te=x.value!=null?x.value:q,{current:he}=E.useRef(te!=null),Z=E.useRef(),ve=E.useCallback(pe=>{},[]),Pe=Ht(Z,b,x.ref,ve),[be,ze]=E.useState(!1),ge=zf(),Ge=Uf({props:i,muiFormControl:ge,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ge.focused=ge?ge.focused:be,E.useEffect(()=>{!ge&&f&&be&&(ze(!1),C&&C())},[ge,f,be,C]);const ot=ge&&ge.onFilled,Ve=ge&&ge.onEmpty,Ne=E.useCallback(pe=>{hE(pe)?ot&&ot():Ve&&Ve()},[ot,Ve]);hi(()=>{he&&Ne({value:te})},[te,Ne,he]);const Zt=pe=>{if(Ge.disabled){pe.stopPropagation();return}I&&I(pe),x.onFocus&&x.onFocus(pe),ge&&ge.onFocus?ge.onFocus(pe):ze(!0)},wt=pe=>{C&&C(pe),x.onBlur&&x.onBlur(pe),ge&&ge.onBlur?ge.onBlur(pe):ze(!1)},Ye=(pe,...Q)=>{if(!he){const ye=pe.target||Z.current;if(ye==null)throw new Error(Eo(1));Ne({value:ye.value})}x.onChange&&x.onChange(pe,...Q),k&&k(pe,...Q)};E.useEffect(()=>{Ne(Z.current)},[]);const en=pe=>{Z.current&&pe.currentTarget===pe.target&&Z.current.focus(),A&&A(pe)};let Xe=y,gt=x;_&&Xe==="input"&&(W?gt=P({type:void 0,minRows:W,maxRows:W},gt):gt=P({type:void 0,maxRows:S,minRows:w},gt),Xe=xq);const ar=pe=>{Ne(pe.animationName==="mui-auto-fill-cancel"?Z.current:{value:"x"})};E.useEffect(()=>{ge&&ge.setAdornedStart(Boolean(B))},[ge,B]);const lr=P({},i,{color:Ge.color||"primary",disabled:Ge.disabled,endAdornment:h,error:Ge.error,focused:Ge.focused,formControl:ge,fullWidth:m,hiddenLabel:Ge.hiddenLabel,multiline:_,size:Ge.size,startAdornment:B,type:H}),K=jle(lr),X=j.root||c.Root||Ug,ae=U.root||u.root||{},le=j.input||c.Input||zg;return gt=P({},gt,(r=U.input)!=null?r:u.input),L(E.Fragment,{children:[!p&&Ule,L(X,P({},ae,!Vi(X)&&{ownerState:P({},lr,ae.ownerState)},{ref:n,onClick:en},ne,{className:oe(K.root,ae.className,l),children:[B,g(pE.Provider,{value:null,children:g(le,P({ownerState:lr,"aria-invalid":Ge.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Ge.disabled,id:v,onAnimationStart:ar,name:T,placeholder:D,readOnly:O,required:Ge.required,rows:W,value:te,onKeyDown:N,onKeyUp:M,type:H},gt,!Vi(le)&&{as:Xe,ownerState:P({},lr,gt.ownerState)},{ref:Pe,className:oe(K.input,gt.className),onBlur:wt,onChange:Ye,onFocus:Zt}))}),h,$?$(P({},Ge,{startAdornment:B})):null]}))]})}),mE=zle;function Vle(t){return $e("MuiInput",t)}const Kle=P({},Fc,Me("MuiInput",["root","underline","input"])),Eu=Kle,Hle=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Gle=t=>{const{classes:e,disableUnderline:n}=t,i=je({root:["root",!n&&"underline"],input:["input"]},Vle,e);return P({},e,i)},Wle=re(Ug,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Bg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),P({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Eu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Eu.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Eu.disabled}, .${Eu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Eu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),qle=re(zg,{name:"MuiInput",slot:"Input",overridesResolver:jg})({}),Q6=E.forwardRef(function(e,n){var r,i,s,o;const a=Ue({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:d=!1,inputComponent:f="input",multiline:p=!1,slotProps:h,slots:m={},type:v="text"}=a,y=fe(a,Hle),x=Gle(a),S={root:{ownerState:{disableUnderline:l}}},w=h??u?Hr(h??u,S):S,_=(r=(i=m.root)!=null?i:c.Root)!=null?r:Wle,T=(s=(o=m.input)!=null?o:c.Input)!=null?s:qle;return g(mE,P({slots:{root:_,input:T},slotProps:w,fullWidth:d,inputComponent:f,multiline:p,ref:n,type:v},y,{classes:x}))});Q6.muiName="Input";const Yle=Q6;function Qle(t){return $e("MuiFilledInput",t)}const Xle=P({},Fc,Me("MuiFilledInput",["root","underline","input"])),zo=Xle,Jle=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Zle=t=>{const{classes:e,disableUnderline:n}=t,i=je({root:["root",!n&&"underline"],input:["input"]},Qle,e);return P({},e,i)},ece=re(Ug,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Bg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return P({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${zo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${zo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zo.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zo.disabled}, .${zo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${zo.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&P({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),tce=re(zg,{name:"MuiFilledInput",slot:"Input",overridesResolver:jg})(({theme:t,ownerState:e})=>P({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),X6=E.forwardRef(function(e,n){var r,i,s,o;const a=Ue({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:f=!1,slotProps:p,slots:h={},type:m="text"}=a,v=fe(a,Jle),y=P({},a,{fullWidth:u,inputComponent:d,multiline:f,type:m}),x=Zle(a),b={root:{ownerState:y},input:{ownerState:y}},S=p??c?Hr(p??c,b):b,w=(r=(i=h.root)!=null?i:l.Root)!=null?r:ece,_=(s=(o=h.input)!=null?o:l.Input)!=null?s:tce;return g(mE,P({slots:{root:w,input:_},componentsProps:S,fullWidth:u,inputComponent:d,multiline:f,ref:n,type:m},v,{classes:x}))});X6.muiName="Input";const nce=X6;var fA;const rce=["children","classes","className","label","notched"],ice=re("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),sce=re("legend")(({ownerState:t,theme:e})=>P({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&P({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function oce(t){const{className:e,label:n,notched:r}=t,i=fe(t,rce),s=n!=null&&n!=="",o=P({},t,{notched:r,withLabel:s});return g(ice,P({"aria-hidden":!0,className:e,ownerState:o},i,{children:g(sce,{ownerState:o,children:s?g("span",{children:n}):fA||(fA=g("span",{className:"notranslate",children:""}))})}))}function ace(t){return $e("MuiOutlinedInput",t)}const lce=P({},Fc,Me("MuiOutlinedInput",["root","notchedOutline","input"])),Os=lce,cce=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],uce=t=>{const{classes:e}=t,r=je({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ace,e);return P({},e,r)},dce=re(Ug,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Bg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return P({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Os.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Os.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Os.focused} .${Os.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Os.error} .${Os.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Os.disabled} .${Os.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&P({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),fce=re(oce,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),hce=re(zg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jg})(({theme:t,ownerState:e})=>P({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),J6=E.forwardRef(function(e,n){var r,i,s,o,a;const l=Ue({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:f,multiline:p=!1,notched:h,slots:m={},type:v="text"}=l,y=fe(l,cce),x=uce(l),b=zf(),S=Uf({props:l,muiFormControl:b,states:["required"]}),w=P({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:b,fullWidth:u,hiddenLabel:S.hiddenLabel,multiline:p,size:S.size,type:v}),_=(r=(i=m.root)!=null?i:c.Root)!=null?r:dce,T=(s=(o=m.input)!=null?o:c.Input)!=null?s:hce;return g(mE,P({slots:{root:_,input:T},renderSuffix:C=>g(fce,{ownerState:w,className:x.notchedOutline,label:f!=null&&f!==""&&S.required?a||(a=L(E.Fragment,{children:[f,"","*"]})):f,notched:typeof h<"u"?h:Boolean(C.startAdornment||C.filled||C.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:v},y,{classes:P({},x,{notchedOutline:null})}))});J6.muiName="Input";const pce=J6;var hA,pA;const mce=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],gce=t=>{const{classes:e}=t;return e},gE={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>pi(t)&&t!=="variant",slot:"Root"},vce=re(Yle,gE)(""),yce=re(pce,gE)(""),xce=re(nce,gE)(""),Z6=E.forwardRef(function(e,n){const r=Ue({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=Mle,id:d,input:f,inputProps:p,label:h,labelId:m,MenuProps:v,multiple:y=!1,native:x=!1,onClose:b,onOpen:S,open:w,renderValue:_,SelectDisplayProps:T,variant:C="outlined"}=r,k=fe(r,mce),A=x?Sle:Dle,I=zf(),M=Uf({props:r,muiFormControl:I,states:["variant"]}).variant||C,D=f||{standard:hA||(hA=g(vce,{})),outlined:g(yce,{label:h}),filled:pA||(pA=g(xce,{}))}[M],O=P({},r,{variant:M,classes:o}),$=gce(O),W=Ht(n,D.ref);return g(E.Fragment,{children:E.cloneElement(D,P({inputComponent:A,inputProps:P({children:s,IconComponent:u,variant:M,type:void 0,multiple:y},x?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:v,onClose:b,onOpen:S,open:w,renderValue:_,SelectDisplayProps:P({id:d},T)},p,{classes:p?Hr($,p.classes):$},f?f.props.inputProps:{})},y&&x&&M==="outlined"?{notched:!0}:{},{ref:W,className:oe(D.props.className,a)},!f&&{variant:M},k))})});Z6.muiName="Select";const Db=Z6;function bce(t){return $e("MuiFormControl",t)}Me("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const wce=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Sce=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ee(n)}`,r&&"fullWidth"]};return je(i,bce,e)},Ece=re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>P({},e.root,e[`margin${Ee(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>P({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Tce=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:h=!1,size:m="medium",variant:v="outlined"}=r,y=fe(r,wce),x=P({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:h,size:m,variant:v}),b=Sce(x),[S,w]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,D=>{if(!Ju(D,["Input","Select"]))return;const O=Ju(D,["Select"])?D.props.input:D;O&&Ele(O.props)&&(M=!0)}),M}),[_,T]=E.useState(()=>{let M=!1;return i&&E.Children.forEach(i,D=>{Ju(D,["Input","Select"])&&hE(D.props,!0)&&(M=!0)}),M}),[C,k]=E.useState(!1);l&&C&&k(!1);const A=u!==void 0&&!l?u:C;let I;const N=E.useMemo(()=>({adornedStart:S,setAdornedStart:w,color:o,disabled:l,error:c,filled:_,focused:A,fullWidth:d,hiddenLabel:f,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{k(!0)},registerEffect:I,required:h,variant:v}),[S,o,l,c,_,A,d,f,I,h,m,v]);return g(pE.Provider,{value:N,children:g(Ece,P({as:a,ownerState:x,className:oe(b.root,s),ref:n},y,{children:i}))})}),mA=Tce;function _ce(t){return $e("MuiFormLabel",t)}const Cce=Me("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sd=Cce,Rce=["children","className","color","component","disabled","error","filled","focused","required"],kce=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${Ee(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return je(l,_ce,e)},Ace=re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>P({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>P({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${sd.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${sd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${sd.error}`]:{color:(t.vars||t).palette.error.main}})),Lce=re("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${sd.error}`]:{color:(t.vars||t).palette.error.main}})),Pce=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=fe(r,Rce),l=zf(),c=Uf({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=P({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=kce(u);return L(Ace,P({as:o,ownerState:u,className:oe(d.root,s),ref:n},a,{children:[i,c.required&&L(Lce,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),Ice=Pce;function Dce(t){return $e("MuiInputLabel",t)}Me("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Oce=["disableAnimation","margin","shrink","variant","className"],Mce=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,c=je({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},Dce,e);return P({},e,c)},Nce=re(Ice,{shouldForwardProp:t=>pi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${sd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>P({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&P({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&P({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&P({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),Fce=E.forwardRef(function(e,n){const r=Ue({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=fe(r,Oce),l=zf();let c=s;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=Uf({props:r,muiFormControl:l,states:["size","variant","required"]}),d=P({},r,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required}),f=Mce(d);return g(Nce,P({"data-shrink":c,ownerState:d,ref:n,className:oe(f.root,o)},a,{classes:f}))}),gA=Fce,$ce=()=>{var m,v,y;const{SearchTerm:t}=He(x=>x.player),[e,n]=E.useState(""),[r,i]=E.useState(null),[s,o]=E.useState(["track","playlist","user"]),[a,l]=E.useState("title"),[c,u]=E.useState("asc"),[d,f]=E.useState(""),p=mt({mutationFn:x=>De.GlobalSearch(x,s,d,a,c),onSuccess:x=>{console.log(x),i(x)},onError:x=>{ke.error(x.message||"Something Went Wrong")}});E.useEffect(()=>{const x=setTimeout(()=>{n(t)},1e3);return()=>clearTimeout(x)},[t]),E.useEffect(()=>{e&&p.mutate(e)},[e,s,d,a,c]);const h=x=>{o(b=>b.includes(x)?b.filter(S=>S!==x):[...b,x])};return L(Lr.div,{initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeInOut"}},exit:{opacity:0,transition:{ease:"easeInOut"}},className:"bg-darkBlue min-h-screen px-6 md:px-10 overflow-hidden",children:[p.isPending&&g("div",{className:"fixed inset-0 flex items-center justify-center bg-darkBlue",children:g(Jr,{size:80})}),!r&&g("p",{className:"mt-20 text-center text-gray-400 text-lg",children:"Type to start searching..."}),r&&L("div",{className:"mt-12",children:[g("div",{className:"flex gap-4 mb-6",children:["track","playlist","user"].map(x=>g("button",{onClick:()=>h(x),className:`px-4 py-2 rounded-md transition-all duration-200 
                  ${s.includes(x)?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),L("div",{className:"flex flex-wrap gap-4 mb-6",children:[L(mA,{variant:"outlined",className:"w-[150px]",children:[g(gA,{id:"sort-label",className:"text-gray-300",children:"Sort By"}),L(Db,{labelId:"sort-label",value:`${a}:${c}`,onChange:x=>{const[b,S]=x.target.value.split(":");l(b),u(S)},className:"text-gray-300",sx:{color:"white","& .MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"gray"}},children:[g($n,{value:"title:asc",children:"Title (A-Z)"}),g($n,{value:"title:desc",children:"Title (Z-A)"}),g($n,{value:"created_at:asc",children:"Date (Oldest First)"}),g($n,{value:"created_at:desc",children:"Date (Newest First)"})]})]}),L(mA,{variant:"outlined",className:"w-[150px]",children:[g(gA,{id:"genre-label",className:"text-white",children:"Genre"}),L(Db,{labelId:"genre-label",value:d,onChange:x=>f(x.target.value),className:"bg-[#2C3E50] text-white w-full",sx:{color:"white",backgroundColor:"#2C3E50","& .MuiOutlinedInput-notchedOutline":{borderColor:"#546E7A"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#78909C"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#90A4AE"}},children:[g($n,{value:"",children:"All Genres"}),g($n,{value:"Rock",children:"Rock"}),g($n,{value:"Pop",children:"Pop"}),g($n,{value:"Jazz",children:"Jazz"}),g($n,{value:"Classical",children:"Classical"}),g($n,{value:"Hiphop",children:"Hip-Hop"}),g($n,{value:"Electronic",children:"Electronic"}),g($n,{value:"Reggae",children:"Reggae"}),g($n,{value:"Country",children:"Country"})]})]})]}),s.includes("track")&&L("section",{className:"mt-12",children:[g("h3",{className:"text-white text-lg font-semibold mb-4",children:"Tracks"}),((m=r==null?void 0:r.tracks)==null?void 0:m.length)>0&&g(mi,{songs:r.tracks})]}),s.includes("playlist")&&L("section",{className:"mt-12",children:[g("h3",{className:"text-white text-lg font-semibold mb-4",children:"Playlists"}),g("div",{className:"flex gap-6 overflow-x-auto scrollbar-hidden",children:(v=r==null?void 0:r.playlists)==null?void 0:v.map((x,b)=>g(Fse,{...x},b))})]}),s.includes("user")&&L("section",{className:"mt-12 mb-12",children:[g("h3",{className:"text-white text-lg font-semibold mb-4",children:"Users"}),g("div",{className:"flex gap-6 overflow-x-auto scrollbar-hidden",children:(y=r==null?void 0:r.users)==null?void 0:y.map((x,b)=>g(_6,{...x},b))})]})]})]})},vA=()=>{var i,s,o;Pr(),He(a=>a.player);const{id:t}=Qa(),{data:e,isLoading:n,isError:r}=bt({queryKey:["SinglePlaylist",t],queryFn:()=>De.SinglePlaylist({id:t})});return console.log(location.pathname),n?g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})}):r?g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch the playlist at this time.",g("br",{}),g("br",{}),"Please try again later."]})}):L("div",{className:"bg-darkBlue overflow-hidden",children:[g("div",{className:"gradient flex flex-col gap-8 w-full pt-3 px-16 max-md:px-5 pb-7 Artistbackground",children:L("div",{className:"grid grid-cols-[max-content,auto] mt-7 max-md:grid-cols-1 max-md:place-items-center gap-5",children:[g(QS,{alt:e==null?void 0:e.title,src:`http://localhost:11000/images/${t}/playlist`||e.avatar||"",variant:"rounded",className:"size-52"}),L("div",{className:"flex place-content-end max-md:place-items-center flex-col",children:[g("h2",{className:"font-bold text-4xl max-md:text-2xl max-md:text-center text-white tracking-wider",children:e==null?void 0:e.title}),L("div",{className:"flex max-md:flex-col items-center gap-3 my-2 max-md:mt-4",children:[g("p",{className:"text-slate-200 text-sm max-md:text-xs",children:e==null?void 0:e.description}),g("div",{className:"bg-darkTextColor rounded-full max-md:text-xs w-1 h-1 max-md:hidden"}),L("p",{className:"text-slate-200 text-sm",children:[((i=e==null?void 0:e.tracks)==null?void 0:i.length)||0," songs"]}),g("div",{className:"bg-darkTextColor rounded-full max-md:text-xs w-1 h-1 max-md:hidden"}),g("p",{className:"text-slate-200 text-sm",children:(s=e==null?void 0:e.author)==null?void 0:s.username})]})]})]})}),g("section",{className:"mx-12 mt-6 max-md:mx-2 mb-14",children:(e==null?void 0:e.tracks)&&((o=e==null?void 0:e.tracks)==null?void 0:o.length)>0&&g(mi,{songs:e==null?void 0:e.tracks,current:"Playlist"})})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ob=function(t,e){return Ob=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ob(t,e)};function Bce(t,e){Ob(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var od=function(){return od=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},od.apply(this,arguments)};function jce(t,e,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){a(),s=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function c(){var u=this,d=Date.now()-o,f=arguments;if(s)return;function p(){o=Date.now(),n.apply(u,f)}function h(){i=void 0}r&&!i&&p(),a(),r===void 0&&d>t?p():e!==!0&&(i=setTimeout(r?h:p,r===void 0?t-d:t))}return c.cancel=l,c}var ec={Pixel:"Pixel",Percent:"Percent"},yA={unit:ec.Percent,value:.8};function xA(t){return typeof t=="number"?{unit:ec.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:ec.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:ec.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),yA):(console.warn("scrollThreshold should be string or number"),yA)}var eD=function(t){Bce(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var s=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var o=r.props.inverse?r.isElementAtTop(s,r.props.scrollThreshold):r.isElementAtBottom(s,r.props.scrollThreshold);o&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=s.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=jce(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?od(od({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=xA(r);return s.unit===ec.Pixel?n.scrollTop<=s.value+i-n.scrollHeight+1:n.scrollTop<=s.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,s=xA(r);return s.unit===ec.Pixel?n.scrollTop+i>=n.scrollHeight-s.value:n.scrollTop+i>=s.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=od({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Te.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},Te.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:r},this.props.pullDownToRefresh&&Te.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},Te.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(E.Component);const Uce=()=>{Qa();const t=()=>{document.querySelectorAll(".btnss").forEach(n=>{n.click()})};return L("div",{children:[L("section",{className:" flex justify-center items-center py-20  rounded-b-2xl mb-16 relative h-80",children:[g("div",{className:" absolute inset-0 flex justify-end viewall rounded-b-2xl",children:g(tl,{})}),g("div",{className:"ml-3 max-lg:ml-11 ",children:g(el,{})})]}),L(eD,{hasMore:has_more,loader:g("h4",{className:"text-white text-center mb-3 ",children:g(Rr,{size:30,color:"#2764eb",speedMultiplier:3})}),endMessage:g("p",{className:"text-white text-center",children:"End"}),className:" px-14 max-md:px-2",children:[g("div",{className:"text-neutral-200 mb-2 text-center flex justify-center ",children:login_success&&g("div",{className:"bg-neutral-500 rounded-md pt-2 hover:bg-opacity-20 duration-300 transition-all ease-linear cursor-pointer bg-opacity-60 w-fit px-3",onClick:t,title:"Download all",children:L(jt,{radius:10,color:"#5454548c",children:["Download All",g(jf,{sx:{fontSize:28,paddingLeft:1,paddingBottom:1},className:"text-neutral-300 cursor-pointer"})]})})}),search_songs&&g(mi,{songs:search_songs,current:"ViewAllSong"})]})]})},zce=()=>{let{keyword:t}=Qa();return E.useEffect(()=>{SearchAlbums(t)},[t]),L("div",{children:[L("section",{className:" flex justify-center items-center py-20  rounded-b-2xl mb-16 relative h-80",children:[g("div",{className:" absolute inset-0 flex justify-end viewall rounded-b-2xl",children:g(tl,{})}),g("div",{className:"ml-3 max-lg:ml-11",children:g(el,{})})]}),g(eD,{dataLength:search_albums.length,next:()=>HandleNextPageBtn_Albums(t),hasMore:has_more_albums,loader:g("h4",{className:"text-white text-center mb-3",children:g(Rr,{size:30,color:"#2764eb",speedMultiplier:3})}),endMessage:g("p",{className:"text-white text-center",children:"End"}),className:"flex flex-col gap-2 px-20 max-md:px-2",children:search_albums.map((e,n)=>g(Qr,{sx:[{display:"block",borderRadius:2,overflow:"hidden"},r=>({"&:hover":{backgroundColor:"#1d242ca3"}})],children:L(Qt,{to:`/album/${e.id}`,className:"flex gap-5 items-center",children:[g("img",{src:e.image[1].link,className:"w-14 rounded-lg object-cover",alt:e.name}),L("div",{className:"overflow-hidden",children:[g("h3",{className:"text-slate-200 text-sm whitespace-nowrap text-ellipsis overflow-hidden w-[90%]",dangerouslySetInnerHTML:{__html:`${e.name}`}}),g("div",{className:"flex w-48 max-md:max-w-[70%] gap-2 overflow-hidden ",children:e.primaryArtists&&e.primaryArtists.map((r,i)=>g("p",{className:"text-xs opacity-90 mt-[2px] text-ellipsis whitespace-nowrap text-darkTextColor tracking-wide",children:r.name},i))})]})]})},n))})]})},Np=t=>typeof t=="number"&&!isNaN(t),c0=t=>typeof t=="string",yr=t=>typeof t=="function",Fp=t=>c0(t)||yr(t)?t:null,zy=t=>E.isValidElement(t)||c0(t)||yr(t)||Np(t);function Vce(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Vg(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f}=o;const p=r?`${e}--${l}`:e,h=r?`${n}--${l}`:n,m=E.useRef(0);return E.useLayoutEffect(()=>{const v=d.current,y=p.split(" "),x=b=>{b.target===d.current&&(v.dispatchEvent(new Event("d")),v.removeEventListener("animationend",x),v.removeEventListener("animationcancel",x),m.current===0&&b.type!=="animationcancel"&&v.classList.remove(...y))};v.classList.add(...y),v.addEventListener("animationend",x),v.addEventListener("animationcancel",x)},[]),E.useEffect(()=>{const v=d.current,y=()=>{v.removeEventListener("animationend",y),i?Vce(v,u,s):u()};f||(c?y():(m.current=1,v.className+=` ${h}`,v.addEventListener("animationend",y)))},[f]),Te.createElement(Te.Fragment,null,a)}}function bA(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const fa={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Kh=t=>{let{theme:e,type:n,...r}=t;return Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Vy={info:function(t){return Te.createElement(Kh,{...t},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Te.createElement(Kh,{...t},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Te.createElement(Kh,{...t},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Te.createElement(Kh,{...t},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Te.createElement("div",{className:"Toastify__spinner"})}};function Kce(t){const[,e]=E.useReducer(p=>p+1,0),[n,r]=E.useState([]),i=E.useRef(null),s=E.useRef(new Map).current,o=p=>n.indexOf(p)!==-1,a=E.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:p=>s.get(p)}).current;function l(p){let{containerId:h}=p;const{limit:m}=a.props;!m||h&&a.containerId!==h||(a.count-=a.queue.length,a.queue=[])}function c(p){r(h=>p==null?[]:h.filter(m=>m!==p))}function u(){const{toastContent:p,toastProps:h,staleId:m}=a.queue.shift();f(p,h,m)}function d(p,h){let{delay:m,staleId:v,...y}=h;if(!zy(p)||function(N){return!i.current||a.props.enableMultiContainer&&N.containerId!==a.props.containerId||s.has(N.toastId)&&N.updateId==null}(y))return;const{toastId:x,updateId:b,data:S}=y,{props:w}=a,_=()=>c(x),T=b==null;T&&a.count++;const C={...w,style:w.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(y).filter(N=>{let[M,D]=N;return D!=null})),toastId:x,updateId:b,data:S,closeToast:_,isIn:!1,className:Fp(y.className||w.toastClassName),bodyClassName:Fp(y.bodyClassName||w.bodyClassName),progressClassName:Fp(y.progressClassName||w.progressClassName),autoClose:!y.isLoading&&(k=y.autoClose,A=w.autoClose,k===!1||Np(k)&&k>0?k:A),deleteToast(){const N=bA(s.get(x),"removed");s.delete(x),fa.emit(4,N);const M=a.queue.length;if(a.count=x==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),M>0){const D=x==null?a.props.limit:1;if(M===1||D===1)a.displayedToast++,u();else{const O=D>M?M:D;a.displayedToast=O;for(let $=0;$<O;$++)u()}}else e()}};var k,A;C.iconOut=function(N){let{theme:M,type:D,isLoading:O,icon:$}=N,W=null;const U={theme:M,type:D};return $===!1||(yr($)?W=$(U):E.isValidElement($)?W=E.cloneElement($,U):c0($)||Np($)?W=$:O?W=Vy.spinner():(j=>j in Vy)(D)&&(W=Vy[D](U))),W}(C),yr(y.onOpen)&&(C.onOpen=y.onOpen),yr(y.onClose)&&(C.onClose=y.onClose),C.closeButton=w.closeButton,y.closeButton===!1||zy(y.closeButton)?C.closeButton=y.closeButton:y.closeButton===!0&&(C.closeButton=!zy(w.closeButton)||w.closeButton);let I=p;E.isValidElement(p)&&!c0(p.type)?I=E.cloneElement(p,{closeToast:_,toastProps:C,data:S}):yr(p)&&(I=p({closeToast:_,toastProps:C,data:S})),w.limit&&w.limit>0&&a.count>w.limit&&T?a.queue.push({toastContent:I,toastProps:C,staleId:v}):Np(m)?setTimeout(()=>{f(I,C,v)},m):f(I,C,v)}function f(p,h,m){const{toastId:v}=h;m&&s.delete(m);const y={content:p,props:h};s.set(v,y),r(x=>[...x,v].filter(b=>b!==m)),fa.emit(4,bA(y,y.props.updateId==null?"added":"updated"))}return E.useEffect(()=>(a.containerId=t.containerId,fa.cancelEmit(3).on(0,d).on(1,p=>i.current&&c(p)).on(5,l).emit(2,a),()=>{s.clear(),fa.emit(3,a)}),[]),E.useEffect(()=>{a.props=t,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(p){const h=new Map,m=Array.from(s.values());return t.newestOnTop&&m.reverse(),m.forEach(v=>{const{position:y}=v.props;h.has(y)||h.set(y,[]),h.get(y).push(v)}),Array.from(h,v=>p(v[0],v[1]))},containerRef:i,isToastActive:o}}function wA(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function SA(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function Hce(t){const[e,n]=E.useState(!1),[r,i]=E.useState(!1),s=E.useRef(null),o=E.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=E.useRef(t),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;function p(S){if(t.draggable){S.nativeEvent.type==="touchstart"&&S.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",x),document.addEventListener("touchmove",y),document.addEventListener("touchend",x);const w=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=w.getBoundingClientRect(),w.style.transition="",o.x=wA(S.nativeEvent),o.y=SA(S.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function h(S){if(o.boundingRect){const{top:w,bottom:_,left:T,right:C}=o.boundingRect;S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=T&&o.x<=C&&o.y>=w&&o.y<=_?v():m()}}function m(){n(!0)}function v(){n(!1)}function y(S){const w=s.current;o.canDrag&&w&&(o.didMove=!0,e&&v(),o.x=wA(S),o.y=SA(S),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),w.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",x);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();S.style.transition="transform 0.2s, opacity 0.2s",S.style.transform=`translate${t.draggableDirection}(0)`,S.style.opacity="1"}}E.useEffect(()=>{a.current=t}),E.useEffect(()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),yr(t.onOpen)&&t.onOpen(E.isValidElement(t.children)&&t.children.props),()=>{const S=a.current;yr(S.onClose)&&S.onClose(E.isValidElement(S.children)&&S.children.props)}),[]),E.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",m),window.addEventListener("blur",v)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",v))}),[t.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:h,onTouchEnd:h};return l&&c&&(b.onMouseEnter=v,b.onMouseLeave=m),f&&(b.onClick=S=>{d&&d(S),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:b}}function tD(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Gce(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=t;const p=s||l&&c===0,h={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:p?0:1};l&&(h.transform=`scaleX(${c})`);const m=oe("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),v=yr(o)?o({rtl:u,type:i,defaultClassName:m}):oe(m,o);return Te.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:h,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}})}const Wce=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=Hce(t),{closeButton:s,children:o,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:d,transition:f,position:p,className:h,style:m,bodyClassName:v,bodyStyle:y,progressClassName:x,progressStyle:b,updateId:S,role:w,progress:_,rtl:T,toastId:C,deleteToast:k,isIn:A,isLoading:I,iconOut:N,closeOnClick:M,theme:D}=t,O=oe("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":M}),$=yr(h)?h({rtl:T,position:p,type:c,defaultClassName:O}):oe(O,h),W=!!_||!a,U={closeToast:d,type:c,theme:D};let j=null;return s===!1||(j=yr(s)?s(U):E.isValidElement(s)?E.cloneElement(s,U):tD(U)),Te.createElement(f,{isIn:A,done:k,position:p,preventExitTransition:n,nodeRef:r},Te.createElement("div",{id:C,onClick:l,className:$,...i,style:m,ref:r},Te.createElement("div",{...A&&{role:w},className:yr(v)?v({type:c}):oe("Toastify__toast-body",v),style:y},N!=null&&Te.createElement("div",{className:oe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},N),Te.createElement("div",null,o)),j,Te.createElement(Gce,{...S&&!W?{key:`pb-${S}`}:{},rtl:T,theme:D,delay:a,isRunning:e,isIn:A,closeToast:d,hide:u,type:c,style:b,className:x,controlledProgress:W,progress:_||0})))},Kg=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},qce=Vg(Kg("bounce",!0));Vg(Kg("slide",!0));Vg(Kg("zoom"));Vg(Kg("flip"));const Mb=E.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=Kce(t),{className:s,style:o,rtl:a,containerId:l}=t;function c(u){const d=oe("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return yr(s)?s({position:u,rtl:a,defaultClassName:d}):oe(d,Fp(s))}return E.useEffect(()=>{e&&(e.current=r.current)},[]),Te.createElement("div",{ref:r,className:"Toastify",id:l},n((u,d)=>{const f=d.length?{...o}:{...o,pointerEvents:"none"};return Te.createElement("div",{className:c(u),style:f,key:`container-${u}`},d.map((p,h)=>{let{content:m,props:v}=p;return Te.createElement(Wce,{...v,isIn:i(v.toastId),style:{...v.style,"--nth":h+1,"--len":d.length},key:`toast-${v.key}`},m)}))}))});Mb.displayName="ToastContainer",Mb.defaultProps={position:"top-right",transition:qce,autoClose:5e3,closeButton:tD,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let EA,Ky=new Map,TA=[];fa.on(2,t=>{EA=t.containerId||t,Ky.set(EA,t),TA.forEach(e=>{fa.emit(0,e.content,e.options)}),TA=[]}).on(3,t=>{Ky.delete(t.containerId||t),Ky.size===0&&fa.off(0).off(1).off(5)});const Yce=()=>g("div",{className:"w-[38px] max-md:mt-4",title:"Download all",onClick:()=>{document.querySelectorAll(".btnss").forEach(n=>{n.click()})},children:g(jt,{height:36,radius:50,color:"#5454548c",children:g(jf,{sx:{fontSize:35},className:"text-neutral-300 cursor-pointer"})})}),Qce=({id:t})=>{const{data:e,isLoading:n,isError:r,fetchNextPage:i,isFetchingNextPage:s,hasNextPage:o}=M4({queryKey:["ArtistSongs",t],initialPageParam:1,queryFn:async({pageParam:a})=>({songs:await De.ArtistSongs({id:t,pageParam:a})}),getNextPageParam:a=>{if(!(!a||!a.songs||a.songs.length===0))return a.nextPage??void 0}});return console.log(e),n?g(Rr,{size:30,color:"#2764eb",speedMultiplier:3}):r?L("div",{children:[g("h3",{className:"text-white text-lg ml-5 mb-3 max-md:font-semibold max-md:text-xl  ",children:"Songs"}),g("p",{className:"text-white text-lg ml-5 mb-3 max-md:font-semibold max-md:text-xl  ",children:"No Songs Found"})]}):L("div",{children:[L("div",{className:"flex justify-between pr-5 items-center",children:[g("h3",{className:"text-white text-lg ml-5 mb-3 max-md:font-semibold max-md:text-xl  ",children:"Songs"}),g(Yce,{})]}),g("div",{children:e.pages&&e.pages.length>0&&g(mi,{songs:e.pages.flatMap(a=>a.songs),current:"Artist"})}),g("section",{children:s?g("div",{className:"px-6 py-3",children:g(Rr,{size:30,color:"#2764eb",speedMultiplier:3})}):g("button",{onClick:()=>i(),className:"text-neutral-400 my-4 cursor-pointer hover:text-neutral-200 transition-colors duration-150 ease-linear px-3 py-1",children:"Show more"})})]})},Xce=({id:t})=>{var a;const{data:e,isLoading:n,isError:r,fetchNextPage:i,isFetchingNextPage:s,hasNextPage:o}=M4({queryKey:["ArtistAlbums",t],initialPageParam:1,queryFn:({pageParam:l})=>De.ArtistAlbum({id:t,pageParam:l}),getNextPageParam:(l,c)=>c.length+1});return n?g("div",{children:"Loading..."}):r?L("div",{children:[g("h3",{className:"text-white text-lg ml-2 mb-4 max-md:font-semibold max-md:text-xl  ",children:"Albums"}),g("p",{className:"text-white text-lg ml-2 mb-4 max-md:font-semibold max-md:text-xl  ",children:"No Albums Found"})]}):L("div",{className:"w-[95%] overflow-hidden pb-5 pl-10",children:[g("h3",{className:"text-white text-lg ml-2 mb-4 max-md:font-semibold max-md:text-xl  ",children:"Albums"}),L("div",{className:"flex gap-6 overflow-scroll h-full",children:[(e==null?void 0:e.pages)&&e.pages.length>0&&((a=e==null?void 0:e.pages)==null?void 0:a.flat().map((l,c)=>g(sre,{...l},c))),g("section",{className:"border mb-8 grid place-content-center rounded-md active:scale-75 duration-300 bg-neutral-800 border-neutral-500",children:s?g("div",{className:"px-6 py-3",children:g(Rr,{size:30,color:"#2764eb",speedMultiplier:3})}):g("button",{onClick:()=>i(),className:"text-neutral-400 text-sm cursor-pointer hover:text-neutral-200 transition-colors duration-150 ease-linear  px-6  py-1",children:"Click to Load More"})})]})]})},Jce=()=>{const t=He(x=>x.user),{id:e}=Qa();console.log("audsss",e),No();const{data:n=!1,refetch:r}=bt({queryKey:["isCommentBlocked",e],queryFn:()=>De.isCommentAbilityBlocked(e),enabled:!!e}),i=mt({mutationFn:()=>De.blockCommentAbility(e),onSuccess:()=>r(),onError:x=>{console.log(x)}}),s=mt({mutationFn:()=>De.unblockCommentAbility(e),onSuccess:()=>r(),onError:x=>{console.log(x)}}),o=()=>{n?s.mutate():i.mutate()};console.log(n);const{data:a,isLoading:l,isError:c}=bt({queryKey:[e,"singleArtist"],queryFn:()=>De.SingleArtist(e)}),{data:u=!1,refetch:d}=bt({queryKey:["isSubscribed",e,t.islogged],queryFn:async()=>t.islogged?await De.isUserSubscribed(e):!1,enabled:!!e});console.log(u);const{data:f,refetch:p}=bt({queryKey:["followersCount",e],queryFn:async()=>Bt.getFollowers(e),enabled:!!e}),{data:h,refetch:m}=bt({queryKey:["followingCount",e],queryFn:async()=>Bt.getFollowing(e),enabled:!!e}),v=mt({mutationFn:()=>u?Bt.unfollowUser(e):Bt.followUser(e),onSuccess:()=>{d(),p(),m()},onError:x=>{console.error("Subscription toggle error:",x)}}),y=()=>{t.islogged&&v.mutate()};return l?g("div",{className:"fixed inset-0 flex items-center justify-center bg-darkBlue",children:g(Jr,{size:80})}):c||!a?g("div",{className:"text-center text-white mt-10",children:"   "}):g("div",{className:"overflow-hidden",children:L("section",{children:[g("div",{className:"w-full flex gap-6 px-16 pt-7 max-md:flex-col relative overflow-hidden",children:L("div",{className:"self-end flex flex-col gap-2 mb-9 max-md:items-center",children:[g("h2",{className:"text-white font-medium text-3xl my-2",children:a.username}),L("p",{className:"text-slate-300 text-xs",children:["Popularity: ",a.popularity]}),L("p",{className:"text-slate-300 text-xs",children:["Followers: ",Array.isArray(f)?f.length:0," | Following: ",Array.isArray(h)?h.length:0]}),(t==null?void 0:t.role)!=="user"&&t._id!=e&&g("button",{onClick:o,className:`px-4 py-2 mt-2 text-white font-semibold rounded-md transition 
                  ${n?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"}`,children:n?"Allow comments":"Ban comments"}),(t==null?void 0:t.id)!==Number(e)&&t._id!=e&&g("button",{onClick:y,className:`px-4 py-2 mt-2 text-white font-semibold rounded-md transition 
                  ${u?"bg-red-500 hover:bg-red-600":"bg-blue-500 hover:bg-blue-600"}`,children:u?"Unsubscribe":"Subscribe"})]})}),g("section",{className:"mt-12 mx-12 max-md:mx-2",children:g(Qce,{id:e})}),g("section",{children:g(Xce,{id:e})})]})})},Zce=()=>{const t=Vc(),[e,n]=E.useState({fullName:"",email:"",password:"",passwordConfirm:""}),[r,i]=E.useState(!1),[s,o]=E.useState(!1),a=mt({mutationFn:d=>Bt.Register(d),onSuccess:d=>{d!=null&&(ke.success(d.message),setTimeout(()=>{t("/login")},1e3))},onError:d=>{ke.error(d.message)}}),l=()=>{i(p=>!p);const d=document.getElementById("pwd1"),f=document.getElementById("pwd2");r?(d.type="password",f.type="password"):(d.type="text",f.type="text")},c=()=>{if(e.fullName.trim()!==""&&e.email.trim()!==""&&e.password.trim()!==""&&e.passwordConfirm.trim()!==""){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.email))return ke.error("Please type correct email");if(e.password.trim()!==e.passwordConfirm.trim())return ke.error("password didn't match");if(e.password.length<4)return ke.error("password length cannot be less than 4.");let f={username:e.fullName.trim(),email:e.email.trim(),password:e.password.trim(),passwordConfirm:e.passwordConfirm.trim()};a.mutate(f)}else ke.error("Please fill all the fields")},u=d=>{n(f=>({...f,[d.target.name]:d.target.value})),console.log(e)};return L(Lr.div,{initial:{y:"100vh"},animate:{y:"0vh",transition:{ease:"easeInOut"}},exit:{y:"-100vh",transition:{ease:"easeInOut"}},className:" max-w-md w-full mx-auto mt-10 max-md:px-4 flex flex-col items-center justify-center",children:[g(Fa,{children:s&&g(uoe,{setShowVerfiyModal:o})}),g("div",{className:"rounded-full bg-slate-300 w-fit p-2",children:g($g,{fontSize:"large",color:"primary"})}),g("h3",{className:"text-white text-xl",children:"Sign up"}),L("form",{className:"w-full flex flex-col gap-5 mt-4  ",children:[L("div",{className:"border border-neutral-600 focus-within:border-opacity-100 focus-within:border-neutral-400 rounded-md focus-within:opacity-100 focus-within:border-2 duration-150 transition-all ease-linear h-9 relative w-full",children:[g("input",{type:"text",id:"FullName",name:"fullName",placeholder:" ",value:e.fullName,onChange:u,className:"w-full outline-none tracking-wide text-white px-4 font-thin border-none h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"FullName",className:"absolute peer-placeholder-shown:opacity-60 text-sm peer-focus-within:opacity-100 text-white opacity-100 left-3 bg-darkBlue font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:top-[6px] peer-placeholder-shown:text-base  peer-focus-within:-top-3  peer-focus-within:text-sm  ",children:"Full Name"})]}),L("div",{className:" focus-within:border-opacity-100 border border-neutral-600 focus-within:border-neutral-400 rounded-md focus-within:opacity-100 focus-within:border-2 duration-150 transition-all ease-linear h-9 relative w-full ",children:[g("input",{type:"email",id:"email",name:"email",placeholder:" ",value:e.email,onChange:u,className:"w-full outline-none tracking-wide  text-white px-4 font-thin border-none h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"email",className:"absolute peer-placeholder-shown:opacity-60 text-sm peer-focus-within:opacity-100 text-white opacity-100 left-3 bg-darkBlue font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:top-[6px] peer-placeholder-shown:text-base  peer-focus-within:-top-3  peer-focus-within:text-sm",children:"E-mail Address"})]}),L("div",{className:"border border-neutral-600 focus-within:border-opacity-100 focus-within:border-neutral-400 rounded-md focus-within:opacity-100 focus-within:border-2 duration-150 transition-all ease-linear h-9 relative w-full",children:[g("input",{type:"password",id:"pwd1",placeholder:"",name:"password",required:!0,value:e.password,onChange:u,className:"w-full outline-none tracking-wide  text-white px-4 font-thin border-none h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"pwd",className:"absolute peer-placeholder-shown:opacity-60 text-sm peer-focus-within:opacity-100 text-white opacity-100 left-3 bg-darkBlue font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:top-[6px] peer-placeholder-shown:text-base  peer-focus-within:-top-3  peer-focus-within:text-sm",children:"Password"}),g("div",{className:"absolute pt-1 pr-1 cursor-pointer scale-75 rounded-full  -top-2 right-0 z-10 h-fit",onClick:l,children:g(jt,{color:"#0d417c9e",speed:700,width:90,radius:999,children:r?g(Ha,{}):g(Ga,{})})})]}),L("div",{className:"border border-neutral-600 mb-1 focus-within:border-opacity-100 focus-within:border-neutral-400 rounded-md focus-within:opacity-100 focus-within:border-2 duration-150 transition-all ease-linear h-9 relative w-full ",children:[g("input",{type:"password",id:"pwd2",placeholder:" ",required:!0,name:"passwordConfirm",value:e.passwordConfirm,onChange:u,className:"w-full rounded-md tracking-wider outline-none border-none text-white px-4 font-extralight h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"pwd2",className:"absolute peer-placeholder-shown:opacity-60 text-sm peer-focus-within:opacity-100 text-white opacity-100 left-3 bg-darkBlue font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:top-[6px] peer-placeholder-shown:text-base  peer-focus-within:-top-3  peer-focus-within:text-sm",children:"Password Confirm"}),g("div",{className:"absolute pt-1 pr-1 cursor-pointer -top-2 scale-75 rounded-full right-0 z-10 h-fit",onClick:l,children:g(jt,{color:"#0d417c9e",speed:700,radius:999,children:r?g(Ha,{}):g(Ga,{})})})]}),g("div",{className:"border- flex justify-center",children:g(jt,{speed:600,color:"#bbb7b7bf",radius:7,width:40,children:g("button",{type:"button",disabled:a.isPending,className:"bg-white rounded-md border-2 h-12 text-lg w-full "+(a.isPending?"pointer-events-none":"pointer-events-auto"),onClick:c,children:a.isPending?g("div",{className:"mt-2",children:g(Rr,{size:30,color:"#2764eb",speedMultiplier:3})}):"Sign up"})})})]}),g("div",{className:"flex justify-end flex-col items-end mt-8 gap-3 text-sm text-stone-200 font-extralight w-full",children:g(Qt,{to:"/login",className:"hover:text-skyBlue duration-150 transition-all ease-linear",children:"Already have an account? Login in"})})]})},eue=()=>{const t=Vc(),[e,n]=E.useState(!1),[r,i]=E.useState(!1),s=E.useRef(null),o=E.useRef(null),a=He(f=>f.user),l=Pr(),c=mt({mutationFn:f=>Bt.Login(f),onSuccess:f=>{ke.success(" !"),localStorage.setItem("token",f.token),console.log(f.token),l(rE(f.user))},onError:f=>{ke.error((f==null?void 0:f.message)||"An error occured")}});E.useLayoutEffect(()=>{a.islogged&&t("/")},[a.islogged]);const u=()=>{i(p=>!p);const f=document.getElementById("pwd");r?f.type="password":f.type="text"},d=()=>{if(s.current.value!==""&&o.current.value.trim()!==""){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(s.current.value))return ke.error("Please provide valid email address"),n(!0);n(!1);let p={email:s.current.value,password:o.current.value};c.mutate(p)}else ke.error("Please fill in the form")};return L(Lr.div,{initial:{x:"100vw"},animate:{x:"0vw",transition:{ease:"easeInOut"}},exit:{x:"-100vw",transition:{ease:"easeInOut"}},className:" max-w-lg w-full mx-auto mt-24 max-md:px-4 flex flex-col items-center justify-center",children:[alert,g("div",{className:"rounded-full bg-slate-300 w-fit p-2",children:g($g,{fontSize:"large",color:"primary"})}),g("h3",{className:"text-white text-xl",children:"Log in"}),L("form",{className:"w-full flex flex-col gap-10 mt-4 transition-all duration-200 ease-linear "+(e?"gap-10":"gap-7"),children:[L("div",{className:" rounded-md   focus-within:border-opacity-90 focus-within:border-2 duration-150 transition-all ease-linear h-12 relative w-full "+(e?"border-red-600 border-2":"border-slate-300 border border-opacity-30"),children:[g("input",{type:"email",id:"email",placeholder:" ",ref:s,className:"w-full outline-none tracking-wide  text-white px-4 font-thin border-none h-full bg-transparent relative z-10 peer"}),e&&g("p",{className:"text-red-500 font-light text-sm mt-1 px-1",children:"Please provide valid email address"}),g("p",{htmlFor:"email",className:"absolute text-sm text-white opacity-100  left-3 bg-darkBlue font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:opacity-50 peer-placeholder-shown:top-2 peer-placeholder-shown:text-lg peer-focus-within:opacity-100  peer-focus-within:-top-3  peer-focus-within:text-sm  ",children:"E-mail Address"})]}),L("div",{className:"border rounded-md border-slate-300 border-opacity-30 focus-within:border-opacity-90 focus-within:border-2 duration-150 transition-all ease-linear h-12 relative w-full",children:[g("input",{type:"password",id:"pwd",placeholder:" ",required:!0,ref:o,className:"w-full rounded-md tracking-wider outline-none border-none text-white px-4 font-extralight h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"pwd",className:"absolute text-sm text-white opacity-100  left-3 bg-darkBlue font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:opacity-50 peer-placeholder-shown:top-2 peer-placeholder-shown:text-lg peer-focus-within:opacity-100  peer-focus-within:-top-3  peer-focus-within:text-sm",children:"Password"}),g("div",{className:"absolute pt-1 pr-1 cursor-pointer top-0 right-0 z-10 h-fit",onClick:u,children:g(jt,{color:"#0d417c9e",speed:700,radius:999,children:r?g(Ha,{}):g(Ga,{})})})]}),g("div",{className:"flex justify-center "+(c.isPending?"pointer-events-none":"pointer-events-auto"),children:g(jt,{speed:400,color:"#bbb7b7bf",radius:7,width:40,children:g("button",{type:"button",className:"bg-white rounded-md border-2 h-12 text-lg w-full",onClick:d,children:c.isPending?g("div",{className:"mt-2",children:g(Rr,{size:30,color:"#2764eb",speedMultiplier:3})}):"Log in"})})})]}),L("div",{className:"flex justify-end flex-col items-end mt-8 gap-3 text-sm text-stone-200 font-extralight w-full",children:[g(Qt,{to:"/forgotPassword",className:"hover:text-skyBlue duration-150 transition-all ease-linear",children:"Forgot password?"}),g(Qt,{to:"/signup",className:"hover:text-skyBlue duration-150 transition-all ease-linear",children:"Don't have an account? Sign up"})]})]})},tue=()=>{const[t,e]=E.useState(!1),n=E.useRef(null),r=()=>{if(n.current.value.trim()!==""){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n.current.value))return e(!0);e(!1),n.current.value,n.current.value=null}};return L(Lr.div,{initial:{y:"-100vw"},animate:{y:"0vw",transition:{ease:"easeInOut"}},exit:{y:"100vw",transition:{ease:"easeInOut"}},className:"max-w-2xl max-lg:pl-14 max-md:pl-0   max-lg:max-w-lg mx-auto  mt-5 w-full",children:[alert,L("section",{className:"bg-[#1e1f22] shadow-md px-10 py-6 rounded-md",children:[L("div",{className:"flex flex-col gap-3",children:[g("h2",{className:"text-3xl text-slate-50",children:"Forgot your password?"}),g("p",{className:"font-thin text-slate-100 text-sm font-sans",children:"Change your password in three easy steps. This will help you to secure your password!"})]}),L("div",{className:"text-slate-300 font-Rubik font-thin tracking-wide  mt-5",children:[L("ol",{children:[g("li",{children:"1. Enter your email address below"}),g("li",{children:"2. Our system will send you a temporary link"}),g("li",{children:"3. Use the link to reset your password"})]}),L("p",{className:"text-sm font-Rubik mt-3 font-thin",children:[g("span",{className:"text-red-500 font-medium",children:"Note: "})," If you can't find the password reset email in your inbox, please check your spam folder as it may have been filtered there."]})]})]}),L("section",{className:"bg-[#1e1f22] shadow-md px-10 py-6 rounded-md mt-8",children:[L("div",{className:" rounded-md   focus-within:border-opacity-90 focus-within:border-2 duration-150 transition-all ease-linear h-12 relative w-full "+(t?"border-red-600 border-2":"border-slate-300 border border-opacity-30"),children:[g("input",{type:"email",id:"email",placeholder:" ",ref:n,className:"w-full outline-none text-sm tracking-wide  text-white px-4 font-thin border-none h-full bg-transparent relative z-10 peer"}),t&&g("p",{className:"text-red-500 font-light text-sm mt-1 px-1",children:"Please provide valid email address"}),g("p",{htmlFor:"email",className:"absolute text-sm  text-white opacity-100  left-3 bg-[#1e1f22] font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:opacity-50 peer-placeholder-shown:top-2 peer-placeholder-shown:text-lg peer-focus-within:opacity-100  peer-focus-within:-top-3  peer-focus-within:text-sm  ",children:"E-mail Address"}),g("p",{className:"font-thin text-slate-100 text-sm max-md:text-xs font-sans opacity-70 mt-3",children:"Enter the email address you used during the registration. Then we'll email a link to this address."})]}),L("div",{className:"flex justify-between items-center max-lg:mt-16  max-md:flex-col max-md:gap-5 transition-all duration-200 ease-linear "+(t?"mt-24 max-md:mt-36":"mt-10 max-md:mt-20"),children:[g("div",{className:"w-40",onClick:r,children:g(jt,{color:"#519aff2e",speed:500,children:g("button",{className:"text-skyBlue bg-[#519aff2e] w-full px-3 py-2 rounded-md",children:"Send Reset Link"})})}),g("div",{className:"w-32",children:g(jt,{color:"#c7757547",children:g(Qt,{to:"/login",className:"text-red-300 max-md:scale-75 bg-[#c7757547] pl-5 text-sm w-full px-3 py-2 block rounded-md",children:"Back to Login"})})})]})]})]})},nue=()=>{Qa();const t=E.useRef(null),e=E.useRef(null),[n,r]=E.useState(!1),[i,s]=E.useState(!1),[o,a]=E.useState("Error"),l=()=>{r(f=>!f);const u=document.getElementById("pwd11"),d=document.getElementById("pwd22");n?(u.type="password",d.type="password"):(u.type="text",d.type="text")},c=()=>{if(t.current.value.trim()!==""&&e.current.value.trim()!==""){if(t.current.value.trim()!==e.current.value.trim())return a("Password didn't match"),s(!0);if(t.current.value.length<8)return a("Password length can't be less than 8"),s(!0);s(!1),t.current.value.trim(),e.current.value.trim()}};return L("div",{className:"max-w-sm w-full mx-auto bg-[#1e1f22] py-5 px-6 mt-28 rounded-md",children:[alert,g("h3",{className:"text-slate-300 text-center text-xl",children:"Change password"}),L("div",{className:"border border-neutral-600 focus-within:border-opacity-100 mt-4 focus-within:border-neutral-400 rounded-md focus-within:opacity-100 focus-within:border-2 duration-150 transition-all ease-linear h-9 relative w-full",children:[g("input",{type:"password",id:"pwd11",placeholder:" ",required:!0,ref:t,className:"w-full outline-none tracking-wide  text-white px-4 font-thin border-none h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"pwd",className:"absolute peer-placeholder-shown:opacity-60 text-sm peer-focus-within:opacity-100 text-white opacity-100 left-3 bg-[#1e1f22] font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:top-[6px] peer-placeholder-shown:text-base  peer-focus-within:-top-3  peer-focus-within:text-sm",children:"Password"}),g("div",{className:"absolute pt-1 pr-1 cursor-pointer scale-75 rounded-full  -top-2 right-0 z-10 h-fit",onClick:l,children:g(jt,{color:"#0d417c9e",speed:700,width:90,radius:999,children:n?g(Ha,{}):g(Ga,{})})})]}),L("div",{className:"border border-neutral-600 focus-within:border-opacity-100 mt-6 focus-within:border-neutral-400 rounded-md focus-within:opacity-100 focus-within:border-2 duration-150 transition-all ease-linear h-9 relative w-full "+(i?"mb-4":"mb-1"),children:[g("input",{type:"password",id:"pwd22",placeholder:" ",required:!0,ref:e,className:"w-full rounded-md tracking-wider outline-none border-none text-white px-4 font-extralight h-full bg-transparent relative z-10 peer"}),g("p",{htmlFor:"pwd2",className:"absolute peer-placeholder-shown:opacity-60 text-sm peer-focus-within:opacity-100 text-white opacity-100 left-3 bg-[#1e1f22] font-light duration-100 transition-all -top-3 ease-linear px-2 peer-placeholder-shown:top-[6px] peer-placeholder-shown:text-base  peer-focus-within:-top-3  peer-focus-within:text-sm",children:"Password Confirm"}),i&&g("p",{className:"text-red-500 font-light text-sm mt-1 px-1",children:o}),g("div",{className:"absolute pt-1 pr-1 cursor-pointer -top-2 scale-75 rounded-full right-0 z-10 h-fit",onClick:l,children:g(jt,{color:"#0d417c9e",speed:700,radius:999,children:n?g(Ha,{}):g(Ga,{})})})]}),g("div",{className:"w-44 mt-10",onClick:c,children:g(jt,{color:"#519aff2e",speed:500,children:g("button",{className:"text-skyBlue select-none bg-[#519aff2e] w-full px-3 py-2 rounded-md "+(password_reset_begin?"pointer-events-none":"pointer-events-auto"),children:"Change password"})})}),password_reset_begin&&g("h4",{className:"text-white text-center mb-3 absolute bg-black inset-0 bg-opacity-30 flex items-center justify-center",children:g(Rr,{size:60,color:"#2764eb",speedMultiplier:2})})]})},rue=()=>g("div",{className:"w-40 h-40 ",children:g("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6BGTFtShXSNkOjx9ZhcZ5ZC3qqoM2ZkyNV2kXvLhcUg&s",alt:"Profile Picture",className:"w-full h-full rounded-full object-cover"})}),iue=()=>{const t=He(i=>i.user),{data:e,isLoading:n,isError:r}=bt({queryKey:["favoriteSongs"],queryFn:()=>Bt.getFavoritesSongs()});return n?g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})}):g("div",{children:L("section",{className:"  max-md:px-2 overflow-auto mt-10 pr-5",children:[g("h3",{className:"text-neutral-50  text-2xl max-md:text-xl  mb-5",children:"Favorites songs"}),t.islogged&&e&&e.length>0&&g(mi,{songs:e,current:"FavoritesSongs"}),t.islogged&&e&&e.length===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["You have no favorite songs yet.",g("br",{}),g("br",{}),"Start adding songs to your favorites by clicking the heart icon next to the song."]})})]})})},sue=()=>{const t=He(i=>i.user),{data:e,isLoading:n,isError:r}=bt({queryKey:["recentSongs"],queryFn:()=>Bt.getRecentSongs()});return n?g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})}):r?g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your recent songs at this time.",g("br",{}),g("br",{}),"Access to recent songs is only available to logged-in users. Please log in to view your recent songs or try again later."]})}):g("div",{children:L("section",{className:"  mt-5 max-md:px-2 overflow-auto pr-5 pb-10",children:[g("h3",{className:"text-neutral-50  text-2xl max-md:text-xl  mb-5",children:"Recent songs"}),t.islogged&&e&&e.length>0&&g(mi,{songs:e,current:"RecentSongs"}),t.islogged&&e&&e.length===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:g("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:"You haven't played any songs yet."})})]})})},Hy=()=>{const{data:t,isLoading:e,isError:n}=bt({queryKey:["getAllPlaylist"],queryFn:()=>De.getUserPlaylists()});return g("div",{className:"overflow-auto  max-md:pl-2 mt-8 pr-5 ",children:L("section",{className:"mt-4  flex flex-col mb-12",children:[g("h3",{className:"text-xl text-neutral-200 mb-2 mt-4",children:"Your Playlists"}),e&&g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:30})}),n&&g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your playlist at this time.",g("br",{}),g("br",{}),"Please try again later."]})}),t&&t.length===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:g("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:"You haven't created any playlist yet."})}),g(Oi,{children:t&&t.length>0&&t.map((r,i)=>g(N6,{...r},i))})]})})},oue=()=>{const t=He(e=>e.user);return L("div",{children:[g("br",{}),L("div",{children:[L("div",{className:"flex flex-col",children:[g("label",{htmlFor:"firstName",children:"First Name"}),g("input",{defaultValue:t==null?void 0:t.fullName,type:"text",className:"w-1/2 px-2 mt-2 text-neutral-400 focus-within:text-neutral-100 bg-neutral-700 rounded-md h-10"})]}),g("br",{}),L("div",{className:"flex flex-col",children:[g("label",{htmlFor:"firstName",children:"Email"}),g("input",{defaultValue:t==null?void 0:t.email,placeholder:"@example.com",type:"email",className:"w-1/2 px-2 mt-2 text-neutral-400 focus-within:text-neutral-100 bg-neutral-700 rounded-md h-10"})]}),g("br",{}),L("div",{className:"flex flex-col",children:[g("label",{htmlFor:"firstName",children:"Password"}),g("input",{placeholder:"*********",defaultValue:t==null?void 0:t.email,type:"password",className:"w-1/2 px-2 mt-2 text-neutral-400 focus-within:text-neutral-100 bg-neutral-700 rounded-md h-10"})]}),g("div",{children:g("button",{className:"bg-green-500 text-white px-3 py-1 rounded-md mt-5",children:"Save"})})]})]})},aue=E.createContext(),_A=aue;function lue(t){return $e("MuiGrid",t)}const cue=[0,1,2,3,4,5,6,7,8,9,10],uue=["column-reverse","column","row-reverse","row"],due=["nowrap","wrap-reverse","wrap"],Tu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],fue=Me("MuiGrid",["root","container","item","zeroMinWidth",...cue.map(t=>`spacing-xs-${t}`),...uue.map(t=>`direction-xs-${t}`),...due.map(t=>`wrap-xs-${t}`),...Tu.map(t=>`grid-xs-${t}`),...Tu.map(t=>`grid-sm-${t}`),...Tu.map(t=>`grid-md-${t}`),...Tu.map(t=>`grid-lg-${t}`),...Tu.map(t=>`grid-xl-${t}`)]),Jd=fue,hue=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function tc(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function pue({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=gg({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${tc(u)})`;c={flexBasis:d,maxWidth:d}}}s=P({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function mue({theme:t,ownerState:e}){const n=gg({values:e.direction,breakpoints:t.breakpoints.values});return Yr({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Jd.item}`]={maxWidth:"none"}),i})}function nD({breakpoints:t,values:e}){let n="";Object.keys(e).forEach(i=>{n===""&&e[i]!==0&&(n=i)});const r=Object.keys(t).sort((i,s)=>t[i]-t[s]);return r.slice(0,r.indexOf(n))}function gue({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=gg({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=nD({breakpoints:t.breakpoints.values,values:s})),i=Yr({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{marginTop:`-${tc(u)}`,[`& > .${Jd.item}`]:{paddingTop:tc(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${Jd.item}`]:{paddingTop:0}}})}return i}function vue({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=gg({values:r,breakpoints:t.breakpoints.values});let o;typeof s=="object"&&(o=nD({breakpoints:t.breakpoints.values,values:s})),i=Yr({theme:t},s,(a,l)=>{var c;const u=t.spacing(a);return u!=="0px"?{width:`calc(100% + ${tc(u)})`,marginLeft:`-${tc(u)}`,[`& > .${Jd.item}`]:{paddingLeft:tc(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Jd.item}`]:{paddingLeft:0}}})}return i}function yue(t,e,n={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]];const r=[];return e.forEach(i=>{const s=t[i];Number(s)>0&&r.push(n[`spacing-${i}-${String(s)}`])}),r}const xue=re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{container:r,direction:i,item:s,spacing:o,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=yue(o,c,e));const d=[];return c.forEach(f=>{const p=n[f];p&&d.push(e[`grid-${f}-${String(p)}`])}),[e.root,r&&e.container,s&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],a!=="wrap"&&e[`wrap-xs-${String(a)}`],...d]}})(({ownerState:t})=>P({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),mue,gue,vue,pue);function bue(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const n=[];return e.forEach(r=>{const i=t[r];if(Number(i)>0){const s=`spacing-${r}-${String(i)}`;n.push(s)}}),n}const wue=t=>{const{classes:e,container:n,direction:r,item:i,spacing:s,wrap:o,zeroMinWidth:a,breakpoints:l}=t;let c=[];n&&(c=bue(s,l));const u=[];l.forEach(f=>{const p=t[f];p&&u.push(`grid-${f}-${String(p)}`)});const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,r!=="row"&&`direction-xs-${String(r)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return je(d,lue,e)},Sue=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiGrid"}),{breakpoints:i}=$o(),s=Xw(r),{className:o,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:f=!1,rowSpacing:p,spacing:h=0,wrap:m="wrap",zeroMinWidth:v=!1}=s,y=fe(s,hue),x=p||h,b=l||h,S=E.useContext(_A),w=u?a||12:S,_={},T=P({},y);i.keys.forEach(A=>{y[A]!=null&&(_[A]=y[A],delete T[A])});const C=P({},s,{columns:w,container:u,direction:d,item:f,rowSpacing:x,columnSpacing:b,wrap:m,zeroMinWidth:v,spacing:h},_,{breakpoints:i.keys}),k=wue(C);return g(_A.Provider,{value:w,children:g(xue,P({ownerState:C,className:oe(k.root,o),as:c,ref:n},T))})}),es=Sue,Eue=({open:t,onClose:e})=>{const[n,r]=E.useState(1),{data:i,isLoading:s,isError:o}=bt({queryKey:["globalStatistics",n],queryFn:async()=>await De.getGlobalStatistics(n),enabled:t}),a=l=>{r(l)};return s?L(Xl,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[g(Jl,{children:"Global Statistics"}),g(Zl,{children:g(ct,{variant:"h6",gutterBottom:!0,children:"Loading..."})})]}):o?L(Xl,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[g(Jl,{children:"Global Statistics"}),g(Zl,{children:g(ct,{variant:"h6",gutterBottom:!0,children:"Failed to load statistics."})})]}):L(Xl,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[g(Jl,{children:"Global Statistics"}),L(Zl,{children:[L(es,{container:!0,spacing:2,justifyContent:"center",mb:2,children:[g(es,{item:!0,children:g(da,{variant:"contained",onClick:()=>a(1),children:"1 Day"})}),g(es,{item:!0,children:g(da,{variant:"contained",onClick:()=>a(2),children:"2 Days"})}),g(es,{item:!0,children:g(da,{variant:"contained",onClick:()=>a(3),children:"3 Days"})})]}),console.log(i),L(ct,{variant:"h6",gutterBottom:!0,children:["Global Statistics for Last ",n," Day(s)"]}),L(es,{container:!0,spacing:2,justifyContent:"center",children:[L(es,{item:!0,xs:6,sm:3,children:[g(ct,{variant:"body1",children:"Total Listens"}),g(ct,{variant:"h6",children:(i==null?void 0:i.listens)||0})]}),L(es,{item:!0,xs:6,sm:3,children:[g(ct,{variant:"body1",children:"Total Likes"}),g(ct,{variant:"h6",children:(i==null?void 0:i.likes)||0})]}),L(es,{item:!0,xs:6,sm:3,children:[g(ct,{variant:"body1",children:"Total Listeners"}),g(ct,{variant:"h6",children:(i==null?void 0:i.listeners)||0})]}),L(es,{item:!0,xs:6,sm:3,children:[g(ct,{variant:"body1",children:"Engagement Rate"}),g(ct,{variant:"h6",children:`${(i==null?void 0:i.engagement)||0}%`})]})]})]}),g(w6,{children:g(da,{onClick:e,color:"primary",children:"Close"})})]})},Tue=()=>{const t=He(l=>l.user),[e,n]=E.useState("edit"),[r,i]=E.useState(!1),s=l=>{n(l)},o=()=>{i(!0)},a=()=>{i(!1)};return t.islogged?L("div",{className:"text-neutral-50",children:[L("div",{className:"flex flex-col pl-10 gap-4",children:[g(rue,{}),g("div",{children:L("h3",{className:"text-xl font-bold",children:[t==null?void 0:t.fullName," ",(t==null?void 0:t.isVerified)&&g("span",{className:"bg-green-500 px-1 rounded-2xl text-white",children:"verified"})]})}),L("div",{className:"flex gap-4",children:[g(Vo,{tab:"edit",activeTab:e,onClick:s,children:"Edit Profile"}),g(Vo,{tab:"favorite",activeTab:e,onClick:s,children:"Favorite"}),g(Vo,{tab:"recent",activeTab:e,onClick:s,children:"Recent"}),g(Vo,{tab:"playlist",activeTab:e,onClick:s,children:"Playlist"}),g(Vo,{tab:"followers",activeTab:e,onClick:s,children:"Followers"}),g(Vo,{tab:"followed",activeTab:e,onClick:s,children:"Followed"}),t.role=="admin"&&g(Vo,{tab:"stats",activeTab:e,onClick:o,children:"Global Stats"})]}),L("section",{className:"pl-0",children:[e==="edit"&&g(oue,{}),e==="favorite"&&g(iue,{}),e==="recent"&&g(sue,{}),e==="playlist"&&g(Hy,{}),e==="followers"&&g(Hy,{}),e==="followed"&&g(Hy,{})]})]}),g(Eue,{open:r,onClose:a})]}):g("div",{className:"text-neutral-50  h-[80vh] grid place-content-center overflow-hidden",children:L("h1",{className:"text-lg text-center text-neutral-300",children:["You need to login to see this page.",g("br",{})," Please login first. Thank you!"]})})},Vo=({tab:t,activeTab:e,onClick:n,children:r})=>g("button",{className:`${t===e?"bg-blue-500 text-white":"bg-gray-600 text-gray-200"} px-4 py-2 rounded-md`,onClick:()=>n(t),children:r}),_ue=()=>{const t=He(i=>i.user),{data:e,isLoading:n,isError:r}=bt({queryKey:["recentSongs"],queryFn:()=>Bt.getRecentSongs()});return n?g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})}):r?g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your recent songs at this time.",g("br",{}),g("br",{}),"Access to recent songs is only available to logged-in users. Please log in to view your recent songs or try again later."]})}):L("div",{children:[L("section",{className:" flex justify-center items-center py-20  rounded-b-2xl mb-16 relative h-48",children:[g("div",{className:" absolute inset-0 flex justify-end viewall rounded-b-2xl",children:g(tl,{})}),g("div",{className:"ml-3 max-lg:ml-11 ",children:g(el,{})})]}),L("section",{className:" px-14 max-md:px-2 overflow-auto",children:[g("h3",{className:"text-neutral-50  text-2xl max-md:text-xl px-4 mb-5",children:"Recent songs"}),t.islogged&&e&&e.length>0&&g(mi,{songs:e,current:"RecentSongs"}),t.islogged&&e&&e.length===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:g("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:"You haven't played any songs yet."})}),!t.islogged&&g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your recent songs at this time.",g("br",{}),g("br",{}),"Access to recent songs is only available to logged-in users. Please log in to view your recent songs or try again later."]})})]})]})},Cue=()=>{const t=He(i=>i.user),{data:e,isLoading:n,isError:r}=bt({queryKey:["favoriteSongs"],queryFn:()=>Bt.getFavoritesSongs()});return console.log(e),n&&!e?g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})}):L("div",{children:[L("section",{className:" flex justify-center items-center py-20  rounded-b-2xl mb-16 relative h-48",children:[g("div",{className:" absolute inset-0 flex justify-end viewall rounded-b-2xl",children:g(tl,{})}),g("div",{className:"ml-3 max-lg:ml-11 ",children:g(el,{})})]}),L("section",{className:" px-14 max-md:px-2 overflow-auto",children:[g("h3",{className:"text-neutral-50  text-2xl max-md:text-xl px-4 mb-5",children:"Favorites songs"}),t.islogged&&e&&e.length>0&&g(mi,{songs:e,current:"FavoritesSongs"}),!t.islogged&&g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your recent songs at this time.",g("br",{}),g("br",{}),"Access to recent songs is only available to logged-in users. Please log in to view your recent songs or try again later."]})}),t.islogged&&e&&e.length===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["You have no favorite songs yet.",g("br",{}),g("br",{}),"Start adding songs to your favorites by clicking the heart icon next to the song."]})})]})]})},Rue=()=>{const{data:t=[],isLoading:e,isError:n}=bt({queryKey:["topArtists"],queryFn:async()=>await De.getTopArtists()});return e?g("p",{className:"text-neutral-300 px-9",children:"Loading..."}):n?g("p",{className:"text-red-500 px-9",children:"Failed to load artists"}):L("div",{className:"overflow-auto py-6 px-9 max-md:px-1",children:[g("h3",{className:"font-medium text-neutral-300 text-xl ml-9 max-md:ml-5 mb-5",children:"Top Artists"}),g("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(9rem,1fr))] max-md:grid-cols-[repeat(auto-fit,minmax(7rem,0fr))] max-md:gap-x-2 max-md:justify-center max-md:px-3 gap-y-6 px-7",children:t.map(r=>E.createElement(_6,{...r,key:r.id}))})]})};var vE={},kue=Qe;Object.defineProperty(vE,"__esModule",{value:!0});var Nb=vE.default=void 0,Aue=kue(it()),Lue=st,Pue=(0,Aue.default)((0,Lue.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");Nb=vE.default=Pue;const Iue=["Pop","Rock","Hip-Hop","Jazz","Classical","Electronic","Reggae","Country"],Due=({hideModal:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(null),[s,o]=E.useState(null),[a,l]=E.useState(""),c=E.useRef(null),u=E.useRef(null),d=E.useCallback(b=>{n(b[0])},[]),f=E.useCallback(b=>{const S=b[0];i(S),o(URL.createObjectURL(S))},[]),{getRootProps:p,getInputProps:h}=l0({onDrop:d,accept:{"audio/*":[]}}),{getRootProps:m,getInputProps:v}=l0({onDrop:f,accept:{"image/jpeg":[],"image/png":[]}}),y=mt({mutationFn:b=>Bt.UploadSong(b),onSuccess:()=>{ke.success("Song uploaded successfully!",{position:"top-center"}),t(!1)},onError:b=>{ke.error(b.message||"Upload failed")}}),x=()=>{const b=c.current.value.trim(),S=u.current.value.trim();if(!b){ke.error("Song name cannot be empty");return}if(!e){ke.error("Please select a song file");return}if(!a){ke.error("Please select a genre");return}const w=new FormData;w.append("title",b),w.append("description",S),w.append("genre",a),w.append("song",e),r&&w.append("cover",r),y.mutate(w)};return g("div",{className:"fixed inset-0 z-[60] grid place-items-center bg-black bg-opacity-30",children:L(Lr.section,{initial:{scale:.3},animate:{scale:1},exit:{scale:.3,opacity:0},className:"bg-lightBlue max-w-xs w-full flex flex-col px-5 py-4 gap-3 rounded-md",children:[g("p",{className:"text-neutral-200 text-base font-thin tracking-wider",children:"Upload New Song"}),g("input",{type:"text",ref:c,placeholder:"Enter song name",className:"outline-none border-b font-thin tracking-wider text-sm border-neutral-400 py-1 text-neutral-200 bg-transparent"}),g("textarea",{ref:u,placeholder:"Enter song description (optional)",className:"outline-none border-b font-thin tracking-wider text-sm border-neutral-400 py-1 text-neutral-200 bg-transparent resize-none h-16"}),L(Db,{value:a,onChange:b=>l(b.target.value),displayEmpty:!0,className:"border-b border-neutral-400 text-sm text-neutral-200 bg-transparent",sx:{color:"#E5E7EB","& .MuiSelect-icon":{color:"#E5E7EB"},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"&:hover .MuiOutlinedInput-notchedOutline":{border:"none"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiSelect-select":{padding:"8px 12px",backgroundColor:"transparent"},"& .MuiMenuItem-root":{color:"#E5E7EB",backgroundColor:"#1E293B","&:hover":{backgroundColor:"#334155"}}},children:[g($n,{value:"",disabled:!0,children:"Select genre"}),Iue.map(b=>g($n,{value:b,children:b},b))]}),L("div",{...p(),className:"border-2 border-dashed border-neutral-400 p-4 text-center rounded-md cursor-pointer text-neutral-200 overflow-hidden",children:[g("input",{...h()}),e?g("p",{className:"truncate w-full max-w-xs",children:e.name}):g("p",{children:"Drag & drop a song file here, or click to select"})]}),L("div",{...m(),className:"border-2 border-dashed border-neutral-400 p-4 text-center rounded-md cursor-pointer text-neutral-200 overflow-hidden flex items-center justify-center",style:{minHeight:"120px"},children:[g("input",{...v()}),s?g("img",{src:s,alt:"Cover Preview",className:"max-w-full max-h-24 object-contain rounded-md"}):g("p",{children:"Drag & drop a cover image here, or click to select"})]}),L("div",{className:"flex justify-end gap-2 w-full mt-5",children:[g(Qr,{sx:{width:"fit-content",flexGrow:0},onClick:()=>t(!1),children:g("button",{className:"text-neutral-200 font-extralight tracking-wider text-sm",children:"Cancel"})}),g(jt,{width:30,radius:6,color:"#060b1c",speed:500,children:g("button",{disabled:y.isPending,className:"text-neutral-200 font-extralight select-none text-sm tracking-wider rounded-md bg-darkBlue px-4 py-2",onClick:x,children:y.isPending?g(oE,{size:17,color:"#fff",speedMultiplier:3}):"Upload"})})]})]})})},Oue=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!1),i=He(l=>l.user),{data:s,isLoading:o,isError:a}=bt({queryKey:["getAllPlaylist"],queryFn:()=>Bt.getAllPlaylist()});return i.islogged?L("div",{className:"overflow-auto pl-7 mr-8 max-md:pl-2 mt-8 ",children:[L("div",{children:[L(Qr,{className:"flex gap-3 items-center",sx:[{borderRadius:2}],onClick:()=>r(!0),children:[g("div",{className:"grid place-items-center bg-[#34343275] rounded-md p-2 scale-90",children:g(Nb,{className:"text-neutral-200"})}),g("p",{className:"text-neutral-300",children:" Add new song"})]}),L(Qr,{className:"flex gap-3 items-center",sx:[{borderRadius:2}],onClick:()=>e(!0),children:[g("div",{className:"grid place-items-center bg-[#34343275] rounded-md p-2 scale-90",children:g(Nb,{className:"text-neutral-200"})}),g("p",{className:"text-neutral-300",children:" Create new playlist"})]})]}),L("section",{className:"mt-4 flex flex-col mb-12",children:[g("h3",{className:"text-xl text-neutral-200 mb-2 pl-4 mt-4",children:"Your Playlists"}),o&&g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:30})}),a&&g("div",{className:"w-full flex justify-center items-center mt-10",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your playlist at this time.",g("br",{}),g("br",{}),"Please try again later."]})}),s&&s.length===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:g("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:"You haven't created any playlist yet."})}),g(Oi,{children:s&&s.length>0&&s.map((l,c)=>g(N6,{...l,songsLength:4},c))})]}),g(Fa,{children:n&&g(Due,{hideModal:r})}),g(Fa,{children:t&&g(Wae,{hidePlaylist:e})})]}):g("div",{className:"flex justify-center h-fit overflow-auto items-center mt-24",children:L("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:["Sorry, we couldn't fetch your playlist at this time.",g("br",{}),g("br",{}),"Plalylist is only available to logged-in users. Please log in to view your Playlists."]})})},Mue=()=>{const t="http://localhost:5173/spotifyplaylist",e="https://accounts.spotify.com/authorize",n=["playlist-read-private","playlist-read-collaborative","playlist-modify-private","playlist-modify-public"];return L("div",{className:`overflow-auto flex flex-col gap-10 pt-16 items-center bg-[#1db954] h-screen
    `,children:[g("div",{className:" w-3/4",children:g("img",{src:"https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_Black.png",alt:"spotify"})}),g("div",{children:g("button",{onClick:()=>{window.location.href=`${e}?client_id=&redirect_uri=${t}&scope=${n.join(" ")}&response_type=token&show_daialog=true`},className:" text-[#1db954] bg-neutral-900 hover:bg-black duration-300 transition-all ease-linear px-6 py-3 text-xl rounded-full",children:"Connect Spotify"})})]})},Nue=()=>g("div",{className:"mt-6 px-6 overflow-auto",children:L(Qt,{to:"/spotifylogin",className:"flex items-center gap-5 py-4 hover:bg-lightBlue rounded-md px-4 text-neutral-300",children:[g(goe,{width:4})," Import from Spotify"]})}),Fue=()=>{const e=window.location.hash.substring(1).split("&")[0].split("=")[1]||null,{data:n,isLoading:r,isError:i}=bt({queryKey:[e,"getSpotifyPlaylists"],queryFn:()=>De.getSpotifyPlaylists(e)});return L("div",{className:"flex flex-col px-10 mt-5 gap-5 mb-10",children:[g("h3",{className:"text-neutral-200 font-medium tracking-wide text-lg",children:"Your Spotify Playlist"}),r&&g("div",{children:g(Rr,{size:60,color:"#2764eb",speedMultiplier:2})}),n&&n.length>0&&n.map((s,o)=>{if(s.tracks.total>0)return g(Soe,{image:s.images,name:s.name,songs:s.tracks.total,id:s.id,token:e},o)}),n&&n.length===0&&g("p",{className:"text-neutral-300 text-center",children:"You don't have any playlist"})]})},$ue=()=>{var s;let{id:t}=Qa();const{data:e,isLoading:n,isError:r}=bt({queryKey:["userSinglePlaylist",t],queryFn:()=>Bt.getSinglePlaylist(t)});if(n)return g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g(Jr,{size:80})});if(r)return g("div",{className:"text-2xl font-bold fixed inset-0 w-full h-full flex place-items-center justify-center bg-darkBlue -z-20 max-md:pr-0 pr-32 ",children:g("p",{className:"text-neutral-300",children:"Sorry, we couldn't fetch your playlist"})});const i=()=>{document.querySelectorAll(".btnss").forEach(a=>{a.click()})};return L("div",{children:[L("section",{className:" flex justify-center items-center py-20  rounded-b-2xl mb-8 relative h-40",children:[g("div",{className:" absolute inset-0 flex justify-end viewall rounded-b-2xl",children:g(tl,{})}),g("div",{className:"ml-3 max-lg:ml-11 ",children:g(el,{})})]}),L("section",{className:" px-14 max-md:px-2 overflow-auto pb-8",children:[L("section",{className:"flex justify-between items-center pr-6",children:[L("h3",{className:"text-neutral-50  text-2xl flex items-center max-md:text-xl px-4 mb-5",children:[e==null?void 0:e.name," -"," ",L("span",{className:"text-sm text-neutral-300",children:[(s=e==null?void 0:e.songs)==null?void 0:s.length," songs"]})]}),g("div",{className:"w-[38px] max-md:mt-4",title:"Download all",onClick:i,children:g(jt,{height:36,radius:50,color:"#5454548c",children:g(jf,{sx:{fontSize:35},className:"text-neutral-300 cursor-pointer"})})})]}),e&&(e==null?void 0:e.songs.length)>0&&g(mi,{songs:e==null?void 0:e.songs,current:"Userplaylist",playlistId:t}),e&&(e==null?void 0:e.songs)&&(e==null?void 0:e.songs.length)===0&&g("div",{className:"w-full flex justify-center items-center mt-10",children:g("p",{className:"text-neutral-400 w-1/2 text-center max-md:w-full max-md:px-4",children:"You haven't added any song to this playlist yet."})})]})]})};var yE={},Bue=Qe;Object.defineProperty(yE,"__esModule",{value:!0});var rD=yE.default=void 0,jue=Bue(it()),Uue=st,zue=(0,jue.default)((0,Uue.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIosSharp");rD=yE.default=zue;function Vue(t){return $e("MuiCollapse",t)}Me("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Kue=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Hue=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return je(r,Vue,n)},Gue=re("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>P({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&P({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),Wue=re("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>P({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),que=re("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>P({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),iD=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:h,onExited:m,onExiting:v,orientation:y="vertical",style:x,timeout:b=Q8.standard,TransitionComponent:S=RS}=r,w=fe(r,Kue),_=P({},r,{orientation:y,collapsedSize:a}),T=Hue(_),C=$o(),k=E.useRef(),A=E.useRef(null),I=E.useRef(),N=typeof a=="number"?`${a}px`:a,M=y==="horizontal",D=M?"width":"height";E.useEffect(()=>()=>{clearTimeout(k.current)},[]);const O=E.useRef(null),$=Ht(n,O),W=Z=>ve=>{if(Z){const Pe=O.current;ve===void 0?Z(Pe):Z(Pe,ve)}},U=()=>A.current?A.current[M?"clientWidth":"clientHeight"]:0,j=W((Z,ve)=>{A.current&&M&&(A.current.style.position="absolute"),Z.style[D]=N,d&&d(Z,ve)}),B=W((Z,ve)=>{const Pe=U();A.current&&M&&(A.current.style.position="");const{duration:be,easing:ze}=Mc({style:x,timeout:b,easing:c},{mode:"enter"});if(b==="auto"){const ge=C.transitions.getAutoHeightDuration(Pe);Z.style.transitionDuration=`${ge}ms`,I.current=ge}else Z.style.transitionDuration=typeof be=="string"?be:`${be}ms`;Z.style[D]=`${Pe}px`,Z.style.transitionTimingFunction=ze,p&&p(Z,ve)}),H=W((Z,ve)=>{Z.style[D]="auto",f&&f(Z,ve)}),q=W(Z=>{Z.style[D]=`${U()}px`,h&&h(Z)}),ne=W(m),te=W(Z=>{const ve=U(),{duration:Pe,easing:be}=Mc({style:x,timeout:b,easing:c},{mode:"exit"});if(b==="auto"){const ze=C.transitions.getAutoHeightDuration(ve);Z.style.transitionDuration=`${ze}ms`,I.current=ze}else Z.style.transitionDuration=typeof Pe=="string"?Pe:`${Pe}ms`;Z.style[D]=N,Z.style.transitionTimingFunction=be,v&&v(Z)});return g(S,P({in:u,onEnter:j,onEntered:H,onEntering:B,onExit:q,onExited:ne,onExiting:te,addEndListener:Z=>{b==="auto"&&(k.current=setTimeout(Z,I.current||0)),i&&i(O.current,Z)},nodeRef:O,timeout:b==="auto"?null:b},w,{children:(Z,ve)=>g(Gue,P({as:l,className:oe(T.root,o,{entered:T.entered,exited:!u&&N==="0px"&&T.hidden}[Z]),style:P({[M?"minWidth":"minHeight"]:N},x),ownerState:P({},_,{state:Z}),ref:$},ve,{children:g(Wue,{ownerState:P({},_,{state:Z}),className:T.wrapper,ref:A,children:g(que,{ownerState:P({},_,{state:Z}),className:T.wrapperInner,children:s})})}))}))});iD.muiSupportAuto=!0;const Yue=iD,Que=E.createContext({}),sD=Que;function Xue(t){return $e("MuiAccordion",t)}const Jue=Me("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Hh=Jue,Zue=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],ede=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:s}=t;return je({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!s&&"gutters"],region:["region"]},Xue,e)},tde=re(Bf,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hh.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${Hh.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${Hh.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>P({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${Hh.expanded}`]:{margin:"16px 0"}})),nde=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiAccordion"}),{children:i,className:s,defaultExpanded:o=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:f=Yue,TransitionProps:p}=r,h=fe(r,Zue),[m,v]=$d({controlled:c,default:o,name:"Accordion",state:"expanded"}),y=E.useCallback(T=>{v(!m),u&&u(T,!m)},[m,u,v]),[x,...b]=E.Children.toArray(i),S=E.useMemo(()=>({expanded:m,disabled:a,disableGutters:l,toggle:y}),[m,a,l,y]),w=P({},r,{square:d,disabled:a,disableGutters:l,expanded:m}),_=ede(w);return L(tde,P({className:oe(_.root,s),ref:n,ownerState:w,square:d},h,{children:[g(sD.Provider,{value:S,children:x}),g(f,P({in:m,timeout:"auto"},p,{children:g("div",{"aria-labelledby":x.props.id,id:x.props["aria-controls"],role:"region",className:_.region,children:b})}))]}))}),rde=nde;function ide(t){return $e("MuiAccordionSummary",t)}const sde=Me("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),jl=sde,ode=["children","className","expandIcon","focusVisibleClassName","onClick"],ade=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return je({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},ide,e)},lde=re(Zc,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const n={duration:t.transitions.duration.shortest};return P({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${jl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${jl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${jl.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${jl.expanded}`]:{minHeight:64}})}),cde=re("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>P({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${jl.expanded}`]:{margin:"20px 0"}})),ude=re("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${jl.expanded}`]:{transform:"rotate(180deg)"}})),dde=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiAccordionSummary"}),{children:i,className:s,expandIcon:o,focusVisibleClassName:a,onClick:l}=r,c=fe(r,ode),{disabled:u=!1,disableGutters:d,expanded:f,toggle:p}=E.useContext(sD),h=y=>{p&&p(y),l&&l(y)},m=P({},r,{expanded:f,disabled:u,disableGutters:d}),v=ade(m);return L(lde,P({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:oe(v.root,s),focusVisibleClassName:oe(v.focusVisible,a),onClick:h,ref:n,ownerState:m},c,{children:[g(cde,{className:v.content,ownerState:m,children:i}),o&&g(ude,{className:v.expandIconWrapper,ownerState:m,children:o})]}))}),fde=dde;function hde(t){return $e("MuiAccordionDetails",t)}Me("MuiAccordionDetails",["root"]);const pde=["className"],mde=t=>{const{classes:e}=t;return je({root:["root"]},hde,e)},gde=re("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),vde=E.forwardRef(function(e,n){const r=Ue({props:e,name:"MuiAccordionDetails"}),{className:i}=r,s=fe(r,pde),o=r,a=mde(o);return g(gde,P({className:oe(a.root,i),ref:n,ownerState:o},s))}),yde=vde,Gh=re(t=>g(rde,{disableGutters:!0,elevation:0,square:!0,...t}))(({theme:t})=>({border:"1px solid #1d242c","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),Wh=re(t=>g(fde,{expandIcon:g(rD,{sx:{fontSize:"0.9rem",color:"#d9d9d9"}}),...t}))(({theme:t})=>({backgroundColor:"#16191e",color:"#d9d9d9",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)",color:"#d9d9d9"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}})),qh=re(yde)(({theme:t})=>({backgroundColor:"#16191e",color:"#d9d9d9",padding:t.spacing(2)}));function xde(){const[t,e]=E.useState("panel1"),n=r=>(i,s)=>{e(s?r:!1)};return L("div",{className:"max-w-2xl w-full mx-auto mt-14 rounded-2xl",children:[L(Gh,{expanded:t==="panel1",onChange:n("panel1"),children:[g(Wh,{"aria-controls":"panel1d-content",id:"panel1d-header",children:g(ct,{children:"What is Beatstreet?"})}),g(qh,{children:g(ct,{children:"Beatstreet is a free music streaming website that allows you to listen to your favorite music anytime, anywhere."})})]}),L(Gh,{expanded:t==="panel2",onChange:n("panel2"),children:[g(Wh,{"aria-controls":"panel2d-content",id:"panel2d-header",children:g(ct,{children:"How do I use Beatstreet?"})}),g(qh,{children:g(ct,{children:"To use Beatstreet, simply visit the website and sign up to create playlists, download songs, and save your favorite songs. Once you've signed up, start searching for your favorite artists, albums, and songs. You can create and manage playlists, download songs, save your favorite songs, share songs and playlists with friends, and view other users' playlists. Happy listening!"})})]}),L(Gh,{expanded:t==="panel3",onChange:n("panel3"),children:[g(Wh,{"aria-controls":"panel3d-content",id:"panel3d-header",children:g(ct,{children:"Can I download songs from Beatstreet?"})}),g(qh,{children:g(ct,{children:"Yes, you can download songs, albums, and playlists from Beatstreet with just one click. However, it is important to note that downloading copyrighted material without permission is illegal and can result in legal consequences."})})]}),L(Gh,{expanded:t==="panel4",onChange:n("panel4"),children:[g(Wh,{"aria-controls":"panel3d-content",id:"panel3d-header",children:g(ct,{children:"What should I do if I encounter any issues or have feature requests?"})}),g(qh,{children:L(ct,{children:["If you encounter any issues or have feature requests, please submit them on the GitHub repository. We're always looking to improve the user experience and welcome any feedback you may have. Additionally, if you need any further assistance, you can contact me on my Twitter handle","    "]})})]})]})}const bde=()=>L("div",{className:"flex max-md:flex-col items-center px-14 mt-8",children:[L("section",{className:" grid place-items-center",children:[g("h1",{className:"text-8xl text-center font-bold text-blue-700",children:"404"}),g("h1",{className:"text-8xl text-center font-bold text-blue-700",children:"Error"}),L("div",{className:"flex items-center flex-col",children:[L("p",{className:"text-2xl mt-8 text-center text-blue-600",children:["The page you are looking for ",g("br",{})," was moved, removed, renamed or might never existed."]}),g(Qt,{to:"/",className:"bg-blue-800 max-md:mb-10 t block mt-14 w-fit px-3 rounded-md  py-2 text-white",children:"Go To Homepage"})]})]}),g("section",{children:g("img",{src:"https://images01.nicepage.com/c461c07a441a5d220e8feb1a/f5b7e1f63c1c5f34860d9bd8/2634442.png",alt:"Error 404"})})]}),wde=()=>g("div",{children:"Setting"});var xE={},Sde=Qe;Object.defineProperty(xE,"__esModule",{value:!0});var oD=xE.default=void 0,Ede=Sde(it()),Tde=st,_de=(0,Ede.default)((0,Tde.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");oD=xE.default=_de;const Cde=()=>{const t=WI(()=>Zd.songs.toArray(),[]);return L("div",{children:[L("section",{className:" flex justify-center items-center py-20 max-md:py-16  rounded-b-2xl mb-5 relative max-md:h-20 h-48",children:[g("div",{className:" absolute inset-0 flex justify-end viewall rounded-b-2xl",children:g(tl,{})}),g("div",{className:"ml-3 max-lg:ml-11 ",children:g(el,{})})]}),L("section",{className:"px-14 max-md:px-2 overflow-auto",children:[g("div",{className:"mb-5 ml-3",children:L("div",{className:"flex items-center gap-1 ",children:[g(oD,{fontSize:"small",className:"text-neutral-500"}),g("p",{className:" text-xs  font-light text-neutral-400",children:"Downloaded songs are stored locally on your device and can be played offline. Install the app on the Phone or PC to access offline songs."})]})}),L("div",{className:"flex justify-between",children:[L("h3",{className:"text-neutral-50  text-lg max-md:text-base px-4 mb-5",children:["Your Downloads"," ",t&&t.length>0&&L("span",{className:"text-base",children:["(",t&&t.length,")"]})]}),t&&t.length>0&&g("button",{onClick:async()=>{await Zd.songs.clear(),ke.success("All songs deleted successfully")},className:"text-red-300 max-md:text-sm hover:bg-neutral-600 rounded-md py-1 h-fit px-2",children:"Delete All"})]}),t&&t.length>0&&g(mi,{songs:t,offline:!0}),(!t||t&&(t==null?void 0:t.length)==0)&&g("section",{className:"mt-8 w-full text-center text-neutral-500",children:g("div",{children:"No downloads"})})]})]})},Rde=()=>{const{playingSongId:t}=He(m=>m.player),e=He(m=>m.user),[n,r]=E.useState(""),[i,s]=E.useState(""),o=No(),{data:a=[],refetch:l}=bt({queryKey:["comments",t],queryFn:async()=>await De.getComments(t),enabled:!!t}),c=mt({mutationFn:async m=>{if(!e.islogged)throw new Error("Please login to comment");return await De.addComment(t,m)},onSuccess:()=>{r(""),s(""),l(),ke.success("Comment added!")},onError:m=>{ke.error(m.message||"Failed to add comment")}}),u=mt({mutationFn:m=>De.hideComment(m),onSuccess:()=>{o.invalidateQueries(["comments",t])},onError:()=>{ke.error("Failed to hide comment")}}),d=mt({mutationFn:m=>De.unhideComment(m),onSuccess:()=>{o.invalidateQueries(["comments",t])},onError:()=>{ke.error("Failed to unhide comment")}}),f=m=>{m.is_hidden?d.mutate(m.id):u.mutate(m.id)},p=m=>{const v=m.split(":").map(Number);return v.length===2&&v.every(y=>!isNaN(y)&&y>=0)?v[0]*60+v[1]:null},h=m=>{if(m.preventDefault(),!e.islogged){ke.error("You must be logged in to comment");return}if(n.trim().length<3){ke.error("Comment must be at least 3 characters long");return}let v=null;if(i.trim()&&(v=p(i),v===null)){ke.error("Enter time in MM:SS format");return}c.mutate({text:n,moment:v})};return t?L("div",{className:"max-w-lg mx-auto p-6 bg-neutral-900 text-white rounded-lg shadow-lg",children:[g("h2",{className:"text-xl font-semibold mb-4",children:"Comments"}),g("div",{className:"space-y-3 max-h-80 overflow-y-auto bg-neutral-800 p-3 rounded-lg",children:(a==null?void 0:a.length)>0?a.map(m=>L("div",{className:"border-b border-neutral-700 pb-2 flex justify-between items-center",children:[L("div",{children:[L("p",{className:"text-sm",children:[L("span",{className:"font-semibold text-blue-400",children:[m.usercomment.username,":"]})," ",m.text]}),g("p",{className:"text-xs text-neutral-400",children:new Date(m.created_at).toLocaleString()})]}),L("div",{className:"flex items-center space-x-2",children:[m.moment!==0&&!isNaN(m.moment)&&L("p",{className:"text-xs text-green-400",children:[" ",Math.floor(m.moment/60),":",String(m.moment%60).padStart(2,"0")]}),e.role==="admin"&&g("button",{onClick:()=>f(m),className:"text-gray-400 hover:text-white transition",children:m.is_hidden?g(Ha,{size:18}):g(Ga,{size:18})})]})]},m.id)):g("p",{className:"text-neutral-400",children:"No comments yet. Be the first!"})}),e.islogged&&e.can_comment&&L("form",{onSubmit:h,className:"mt-4 flex items-center space-x-2",children:[g("input",{type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"Write a comment...",className:"flex-1 border border-neutral-600 bg-neutral-800 rounded px-3 py-2 text-sm text-white outline-none focus:ring-2 focus:ring-blue-500"}),g("input",{type:"text",value:i,onChange:m=>s(m.target.value),placeholder:"MM:SS",className:"w-20 border border-neutral-600 bg-neutral-800 rounded px-2 py-2 text-sm text-white outline-none focus:ring-2 focus:ring-green-500 text-center"}),g("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition",children:"Post"})]}),!e.can_comment&&e.islogged&&g("p",{className:"text-center text-neutral-400 mt-3",children:"You have been banned from writing comments"}),!e.islogged&&g("p",{className:"text-center text-neutral-400 mt-3",children:"Login to leave a comment"})]}):g("p",{className:"text-center text-neutral-400",children:"No song selected"})},kde=()=>{const t=zc();return g(Fa,{children:L($N,{location:t,children:[g(Je,{path:"/",element:g(Qae,{})}),g(Je,{path:"/album/:id",element:g(aA,{})}),g(Je,{path:"/artist/:id",element:g(Jce,{})}),g(Je,{path:"/search/album/:id",element:g(aA,{})}),g(Je,{path:"/search",element:g($ce,{})}),g(Je,{path:"/signup",element:g(Zce,{})}),g(Je,{path:"/resetpassword/:token",element:g(nue,{})}),g(Je,{path:"/login",element:g(eue,{})}),g(Je,{path:"/forgotPassword",element:g(tue,{})}),g(Je,{path:"/playlists/:id",element:g(vA,{})}),g(Je,{path:"search/playlists/:id",element:g(vA,{})}),g(Je,{path:"search/songs/:keyword",element:g(Uce,{})}),g(Je,{path:"search/albums/:keyword",element:g(zce,{})}),g(Je,{path:"/account",element:g(Tue,{})}),g(Je,{path:"/recentsongs",element:g(_ue,{})}),g(Je,{path:"/favoritessongs",element:g(Cue,{})}),g(Je,{path:"/topplaylists/Hindi",element:g(hoe,{})}),g(Je,{path:"/topplaylists/Bhojpuri",element:g(poe,{})}),g(Je,{path:"/topplaylists/English",element:g(moe,{})}),g(Je,{path:"/topartist",element:g(Rue,{})}),g(Je,{path:"/userplaylists",element:g(Oue,{})}),g(Je,{path:"/importplaylists",element:g(Nue,{})}),g(Je,{path:"/spotifylogin",element:g(Mue,{})}),g(Je,{path:"/spotifyplaylist",element:g(Fue,{})}),g(Je,{path:"/userplaylist/:id",element:g($ue,{})}),g(Je,{path:"/about",element:g(xde,{})}),g(Je,{path:"/setting",element:g(wde,{})}),g(Je,{path:"/downloads",element:g(Cde,{})}),g(Je,{path:"/comments",element:g(Rde,{})}),g(Je,{path:"*",element:g(bde,{})})]},t.pathname)})},Ade=()=>{const{playingSongId:t}=He(r=>r.player),e=Pr(),n=eI({onSwiped:r=>console.log("User Swiped!",r),onSwipedUp:r=>{e(aS())}});return L("div",{...n,className:"h-20 right-0  max-sm:mr-0 bg-lightBlue  left-0  fixed bottom-0 max-md:ml-0  ml-52 mr-5 max-md:px-2 px-3",children:[g("div",{id:"bottom-audio-player",className:"top-0  absolute right-0 left-0 px-0 mr-px max-md:ml-1  "}),L("div",{className:"flex  w-full h-full",children:[g("section",{className:"flex w-fit shrink-0",children:g("div",{id:"song-image",className:"w-full max-md:size-12"})}),g("section",{className:" mx-3 max-md:mx-2  w-full max-w-96  mt-1 max-md:w-1/2 max-md:overflow-hidden max-md:overflow-ellipsis",children:g("div",{id:"song-header"})}),L("section",{className:"flex items-center max-md:space-x-1 space-x-3 mt-2 w-fit shrink-0",children:[g("div",{children:g(o6,{fill:"#dadada",hover:"#121111bf"})}),g("div",{id:"play-pause"}),g("div",{children:g(n6,{fill:"#dadada",hover:"#121111bf"})})]}),L("section",{className:"w-full max-md:w-fit items-center flex mt-1 gap-1 pl-6 max-md:pl-1",children:[g("div",{className:"h-fit ",children:g(QI,{})}),g("div",{className:"h-fit -ml-6",children:g(ZI,{})}),g("div",{className:"h-fit -ml-0",children:g(mne,{})}),g("div",{className:"h-fit -ml-0",children:g(tne,{songId:t})}),g("div",{id:"song-downloader",className:"h-fit ml-2 max-md:hidden"})]})]})]})},Zd=new Qd("SongsDatabase");Zd.version(1).stores({songs:"id, url, name, image, artist, duration"});function Lde(){const{showRightSidebar:t}=He(r=>r.player),[e,n]=Te.useState(!1);return window.alert=()=>{},window.confirm=()=>!0,window.prompt=()=>null,E.useEffect(()=>{const r=i=>{e&&(i.preventDefault(),i.returnValue="")};return window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}},[e]),L(VN,{children:[g(q9,{}),g(Mb,{}),g(coe,{}),g(Mre,{}),L("div",{className:"flex ",children:[g("div",{className:Ii("w-[calc(100%-28px)] max-md:w-full bottomPlayerGap shrink-0 duration-700 ease-in-out will-change-transform transition-all",t&&"w-[calc(100%-380px)]"),children:g(kde,{})}),g("div",{className:"w-7 max-md:w-0   overflow-hidden"})]}),g(ore,{}),g(Ade,{})]})}const Pde=BJ({reducer:{player:lZ,user:Jse},devTools:!1}),Ide=new u7;Gy.createRoot(document.getElementById("root")).render(g(Te.StrictMode,{children:g(oz,{store:Pde,children:g(m7,{client:Ide,children:g(Lde,{})})})}));
